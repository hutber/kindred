!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):e.mobiscroll=t(e.React,e.ReactDOM)}(this,function(e,t){"use strict";function s(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}function a(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}function n(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}e="default"in e?e.default:e,t="default"in t?t.default:t;var i=i||{};!function(e,t,s){function a(e){return"function"==typeof e}function n(e){return"object"==typeof e}function r(e){return"number"==typeof e.length}function o(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function l(e,t,a){for(var n in t)a&&(b.isPlainObject(t[n])||b.isArray(t[n]))?((b.isPlainObject(t[n])&&!b.isPlainObject(e[n])||b.isArray(t[n])&&!b.isArray(e[n]))&&(e[n]={}),l(e[n],t[n],a)):t[n]!==s&&(e[n]=t[n])}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function d(e,t){return"number"!=typeof t||u[c(e)]?t:t+"px"}var u={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},m={readonly:"readOnly"},h=[],p=Array.prototype.slice,f=function(){var i=function(e){var t=this,s=0;for(s=0;s<e.length;s++)t[s]=e[s];return t.length=e.length,l(this)},l=function(s,n){var r=[],o=0;if(s&&!n&&s instanceof i)return s;if(a(s))return l(t).ready(s);if(s)if("string"==typeof s){var c,d,u;if(s=u=s.trim(),u.indexOf("<")>=0&&u.indexOf(">")>=0){var m="div";for(0===u.indexOf("<li")&&(m="ul"),0===u.indexOf("<tr")&&(m="tbody"),0!==u.indexOf("<td")&&0!==u.indexOf("<th")||(m="tr"),0===u.indexOf("<tbody")&&(m="table"),0===u.indexOf("<option")&&(m="select"),d=t.createElement(m),d.innerHTML=u,o=0;o<d.childNodes.length;o++)r.push(d.childNodes[o])}else for(n||"#"!==s[0]||s.match(/[ .<>:~]/)?(n instanceof i&&(n=n[0]),c=(n||t).querySelectorAll(s)):c=[t.getElementById(s.split("#")[1])],o=0;o<c.length;o++)c[o]&&r.push(c[o])}else if(s.nodeType||s===e||s===t)r.push(s);else if(s.length>0&&s[0].nodeType)for(o=0;o<s.length;o++)r.push(s[o]);else l.isArray(s)&&(r=s);return new i(r)};return i.prototype={ready:function(e){return(t.attachEvent?"complete"==t.readyState:"loading"!=t.readyState)?e(l):t.addEventListener("DOMContentLoaded",function(){e(l)},!1),this},concat:h.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return l(l.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return l(p.apply(this,arguments))},addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&""!==t[s]&&this[a].classList.add(t[s]);return this},removeClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&""!==t[s]&&this[a].classList.remove(t[s]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&this[a].classList.toggle(t[s]);return this},closest:function(e,t){var s=this[0],a=!1;for(n(e)&&(a=l(e));s&&!(a?a.indexOf(s)>=0:l.matches(s,e));)s=s!==t&&s.nodeType!==s.DOCUMENT_NODE&&s.parentNode;return l(s)},attr:function(e,t){var a;if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this}if(this.length)return a=this[0].getAttribute(e),a||""===a?a:s},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=m[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:s;for(var a=0;a<this.length;a++)this[a][e]=t;return this},val:function(e){if(void 0===e)return this.length&&this[0].multiple?l.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:s;if(this.length&&this[0].multiple)l.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(e,t,s,n){function i(e){var a,n,i=e.target;if(l(i).is(t))s.call(i,e);else for(n=l(i).parents(),a=0;a<n.length;a++)l(n[a]).is(t)&&s.call(n[a],e)}function r(e,t,s,a){var n=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:n[1],event:n[0],listener:s,capture:a}),e.addEventListener(n[0],s,a)}var o,c,d=e.split(" ");for(o=0;o<this.length;o++)if(a(t)||t===!1)for(a(t)&&(n=s||!1,s=t),c=0;c<d.length;c++)d[c].indexOf(".")!=-1?r(this[o],d[c],s,n):this[o].addEventListener(d[c],s,n);else for(c=0;c<d.length;c++)this[o].DomLiveListeners||(this[o].DomLiveListeners=[]),this[o].DomLiveListeners.push({listener:s,liveListener:i}),d[c].indexOf(".")!=-1?r(this[o],d[c],i,n):this[o].addEventListener(d[c],i,n);return this},off:function(e,t,s,n){function i(e){var t,s,a,n=e.split("."),i=n[0],r=n[1];for(t=0;t<d.length;++t)if(d[t].DomNameSpaces){for(s=0;s<d[t].DomNameSpaces.length;++s)a=d[t].DomNameSpaces[s],a.namespace!=r||a.event!=i&&i||(d[t].removeEventListener(a.event,a.listener,a.capture),a.removed=!0);for(s=d[t].DomNameSpaces.length-1;s>=0;--s)d[t].DomNameSpaces[s].removed&&d[t].DomNameSpaces.splice(s,1)}}var r,o,l,c,d=this;for(r=e.split(" "),o=0;o<r.length;o++)for(l=0;l<this.length;l++)if(a(t)||t===!1)a(t)&&(n=s||!1,s=t),0===r[o].indexOf(".")?i(r[o].substr(1)):this[l].removeEventListener(r[o],s,n);else{if(this[l].DomLiveListeners)for(c=0;c<this[l].DomLiveListeners.length;c++)this[l].DomLiveListeners[c].listener===s&&this[l].removeEventListener(r[o],this[l].DomLiveListeners[c].liveListener,n);this[l].DomNameSpaces&&this[l].DomNameSpaces.length&&r[o]&&i(r[o])}return this},trigger:function(e,s){for(var a=e.split(" "),n=0;n<a.length;n++)for(var i=0;i<this.length;i++){var r;try{r=new CustomEvent(a[n],{detail:s,bubbles:!0,cancelable:!0})}catch(e){r=t.createEvent("Event"),r.initEvent(a[n],!0,!0),r.detail=s}this[i].dispatchEvent(r)}return this},width:function(a){return a!==s?this.css("width",a):this[0]===e?e.innerWidth:this[0]===t?t.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(a){if(a!==s)return this.css("height",a);if(this[0]===e)return e.innerHeight;if(this[0]===t){var n=t.body,i=t.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth;return["left","right"].forEach(function(s){t-=parseInt(e.css(o("border-"+s+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight;return["top","bottom"].forEach(function(s){t-=parseInt(e.css(o("border-"+s+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var s=this[0],a=s.getBoundingClientRect(),n=t.documentElement;return{top:a.top+e.pageYOffset-n.clientTop,left:a.left+e.pageXOffset-n.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?e.getComputedStyle(this[0],null):s},css:function(e,t){var s,a,n=this[0],i="";if(arguments.length<2){if(!n)return;if("string"==typeof e)return n.style[e]||getComputedStyle(n,"").getPropertyValue(e)}if("string"==typeof e)t||0===t?i=c(e)+":"+d(e,t):this.each(function(){this.style.removeProperty(c(e))});else for(a in e)if(e[a]||0===e[a])i+=c(a)+":"+d(a,e[a])+";";else for(s=0;s<this.length;s++)this[s].style.removeProperty(c(a));return this.each(function(){this.style.cssText+=";"+i})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(e){for(var t=[],s=0;s<this.length;s++)a(e)?e.call(this[s],s,this[s])&&t.push(this[s]):l.matches(this[s],e)&&t.push(this[s]);return new i(t)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:s;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&l.matches(this[0],e)},not:function(e){var t=[];if(a(e)&&e.call!==s)this.each(function(s){e.call(this,s)||t.push(this)});else{var i="string"==typeof e?this.filter(e):r(e)&&a(e.item)?p.call(e):l(e);n(i)&&(i=l.map(i,function(e){return e})),this.each(function(e,s){i.indexOf(s)<0&&t.push(s)})}return l(t)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(l(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return e===s?p.call(this):this[e>=0?e:e+this.length]},eq:function(e){if(void 0===e)return this;var t,s=this.length;return e>s-1?new i([]):e<0?(t=s+e,new i(t<0?[]:[this[t]])):new i([this[e]])},append:function(e){var s,a;for(s=0;s<this.length;s++)if("string"==typeof e){var n=t.createElement("div");for(n.innerHTML=e;n.firstChild;)this[s].appendChild(n.firstChild)}else if(e instanceof i)for(a=0;a<e.length;a++)this[s].appendChild(e[a]);else this[s].appendChild(e);return this},appendTo:function(e){return l(e).append(this),this},prepend:function(e){var s,a;for(s=0;s<this.length;s++)if("string"==typeof e){var n=t.createElement("div");for(n.innerHTML=e,a=n.childNodes.length-1;a>=0;a--)this[s].insertBefore(n.childNodes[a],this[s].childNodes[0])}else if(e instanceof i)for(a=0;a<e.length;a++)this[s].insertBefore(e[a],this[s].childNodes[0]);else this[s].insertBefore(e,this[s].childNodes[0]);return this},prependTo:function(e){return l(e).prepend(this),this},insertBefore:function(e){for(var t=l(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a]);return this},insertAfter:function(e){for(var t=l(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a].nextSibling);return this},next:function(e){return new i(this.length>0?e?this[0].nextElementSibling&&l(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],s=this[0];if(!s)return new i([]);for(;s.nextElementSibling;){var a=s.nextElementSibling;e?l(a).is(e)&&t.push(a):t.push(a),s=a}return new i(t)},prev:function(e){return new i(this.length>0?e?this[0].previousElementSibling&&l(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],s=this[0];if(!s)return new i([]);for(;s.previousElementSibling;){var a=s.previousElementSibling;e?l(a).is(e)&&t.push(a):t.push(a),s=a}return new i(t)},parent:function(e){for(var t=[],s=0;s<this.length;s++)null!==this[s].parentNode&&(e?l(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return l(l.unique(t))},parents:function(e){for(var t=[],s=0;s<this.length;s++)for(var a=this[s].parentNode;a;)e?l(a).is(e)&&t.push(a):t.push(a),a=a.parentNode;return l(l.unique(t))},find:function(e){for(var t=[],s=0;s<this.length;s++)for(var a=this[s].querySelectorAll(e),n=0;n<a.length;n++)t.push(a[n]);return new i(t)},children:function(e){for(var t=[],s=0;s<this.length;s++)for(var a=this[s].childNodes,n=0;n<a.length;n++)e?1===a[n].nodeType&&l(a[n]).is(e)&&t.push(a[n]):1===a[n].nodeType&&t.push(a[n]);return new i(l.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var a=l(arguments[e]);for(t=0;t<a.length;t++)s[s.length]=a[t],s.length++}return s},before:function(e){return l(e).insertBefore(this),this},after:function(e){return l(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===s?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===s?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return p.call(t.childNodes)})},nextUntil:function(e){for(var t=this,s=[];t.length&&!t.filter(e).length;)s.push(t[0]),t=t.next();return l(s)},prevUntil:function(e){for(var t=this,s=[];t.length&&!l(t).filter(e).length;)s.push(t[0]),t=t.prev();return l(s)},detach:function(){return this.remove()}},l.fn=i.prototype,l}(),b=f;i.$=f,b.inArray=function(e,t,s){return h.indexOf.call(t,e,s)},b.extend=function(e){var t,s=p.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),e=e||{},s.forEach(function(s){l(e,s,t)}),e},b.isFunction=a,b.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},b.isPlainObject=function(e){return n(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},b.each=function(e,t){var s,a;if(n(e)&&t){if(b.isArray(e)||e instanceof f)for(s=0;s<e.length&&t.call(e[s],s,e[s])!==!1;s++);else for(a in e)if(e.hasOwnProperty(a)&&"length"!==a&&t.call(e[a],a,e[a])===!1)break;return this}},b.unique=function(e){for(var t=[],s=0;s<e.length;s++)t.indexOf(e[s])===-1&&t.push(e[s]);return t},b.map=function(e,t){var s,a,n,i=[];if(r(e))for(a=0;a<e.length;a++)null!==(s=t(e[a],a))&&i.push(s);else for(n in e)null!==(s=t(e[n],n))&&i.push(s);return i.length>0?b.fn.concat.apply([],i):i},b.matches=function(e,t){return!(!t||!e||1!==e.nodeType)&&(e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).call(e,t)}}(window,document),function(e,t,s){function a(e){var t;for(t in e)if(b[e[t]]!==s)return!0;return!1}function n(e){if(r.tapped&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}var r,o,l,c=function(){},d=i.$,u=+new Date,m={},h=d.extend,p=navigator.userAgent,f=p.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),b=t.createElement("modernizr").style,v=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(a([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),g=v.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),y=b.animation!==s?"animationend":"webkitAnimationEnd",x=[];/Android/i.test(f)?(o="android",(l=navigator.userAgent.match(/Android\s+([\d\.]+)/i))&&(x=l[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(f)?(o="ios",(l=navigator.userAgent.match(/OS\s+([\d\_]+)/i))&&(x=l[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(f)?o="wp":/Windows|MSIE/i.test(f)&&(o="windows"),r=h(i,{$:d,version:"3.1.0",util:{prefix:v,jsPrefix:g,animEnd:y,preventClick:function(){r.tapped++,setTimeout(function(){r.tapped--},500)},testTouch:function(e,t){if("touchstart"==e.type)d(t).attr("data-touch","1");else if(d(t).attr("data-touch"))return d(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,s=[];for(t in e)s.push(e[t]);return s},arrayToObject:function(e){var t,s={};if(e)for(t=0;t<e.length;t++)s[e[t]]=e[t];return s},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:function(e,t,s){var a=e.originalEvent||e,n=(s?"page":"client")+t;return a.targetTouches&&a.targetTouches[0]?a.targetTouches[0][n]:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0][n]:e[n]},getPosition:function(e,t){var a,n=getComputedStyle(e[0]);return d.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(n[t+"ransform"]!==s)return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),t?a[13]||a[5]:a[12]||a[4]},constrain:function(e,t,s){return Math.max(t,Math.min(e,s))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var s,a;return t=t||100,function(){var n=this,i=+new Date,r=arguments;s&&i<s+t?(clearTimeout(a),a=setTimeout(function(){s=i,e.apply(n,r)},t)):(s=i,e.apply(n,r))}}},tapped:0,autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:o,majorVersion:x[0],minorVersion:x[1]},i18n:{},instances:m,classes:{},components:{},settings:{},setDefaults:function(e){h(this.settings,e)},customTheme:function(e,t){var s,a=i.themes,n=["frame","scroller","listview","menustrip","form","progress"];for(s=0;s<n.length;s++)a[n[s]][e]=i.$.extend({},a[n[s]][t],{baseTheme:t})}}),r.presetShort=r.presetShort||function(){},r.classes.Base=function(e,t){var s,a,n,i,o,l,p,f=r.util,b=f.getCoord,v=this;v.settings={},v._init=c,v._destroy=c,v._processSettings=c,v.init=function(c){var d;for(d in v.settings)delete v.settings[d];n=v.settings,h(t,c),v._hasDef&&(p=r.settings),h(n,v._defaults,p,t),v._hasTheme&&(o=n.theme,"auto"!=o&&o||(o=r.autoTheme),"default"==o&&(o="mobiscroll"),t.theme=o,i=r.themes[v._class]?r.themes[v._class][o]:{}),v._hasLang&&(s=r.i18n[n.lang]),v._hasTheme&&l("onThemeLoad",{lang:s,settings:t}),h(n,i,s,p,t),v._processSettings(),v._hasPreset&&(a=r.presets[v._class][n.preset])&&(a=a.call(e,v),h(n,a,t)),v._init(c),l("onInit")},v.destroy=function(){v&&(v._destroy(),l("onDestroy"),delete m[e.id],v=null)},v.tap=function(e,t,s,a,i){function r(e){h||(s&&e.preventDefault(),h=this,u=b(e,"X"),m=b(e,"Y"),p=!1,g=new Date)}function o(e){h&&!p&&(Math.abs(b(e,"X")-u)>a||Math.abs(b(e,"Y")-m)>a)&&(p=!0)}function l(e){h&&((i&&new Date-g<100||!p)&&(e.preventDefault(),t.call(h,e,v)),h=!1,f.preventClick())}function c(){h=!1}var u,m,h,p,g,y=d(e);a=a||9,n.tap&&y.on("touchstart.mbsc",r).on("touchcancel.mbsc",c).on("touchmove.mbsc",o).on("touchend.mbsc",l),y.on("click.mbsc",function(e){e.preventDefault(),t.call(this,e,v)})},v.trigger=function(s,n){var r,o,l,c=[p,i,a,t];for(o=0;o<4;o++)(l=c[o])&&l[s]&&(r=l[s].call(e,n||{},v));return r},v.option=function(e,t){var s={};"object"==typeof e?s=e:s[e]=t,v.init(s)},v.getInst=function(){return v},t=t||{},l=v.trigger,d(e).addClass("mbsc-comp"),e.id?m[e.id]&&m[e.id].destroy():e.id="mobiscroll"+ ++u,m[e.id]=v},t.addEventListener&&d.each(["mouseover","mousedown","mouseup","click"],function(e,s){t.addEventListener(s,n,!0)})}(window,document);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},l=e.PropTypes,c=l.bool,d=l.string,u=l.func,m=l.number,h=l.object,p=l.oneOfType([m,l.arrayOf(m)]);i.react={mixins:{InitialOptionsMixin:{getInitialState:function(){var e=this.getSettingsFromProps(this.props);return this.initialCssClass=this.props.className,{options:e,value:this.props.value,data:this.props.data,cssClasses:this.props.className}},componentWillReceiveProps:function(e){var t=this.getSettingsFromProps(e);this.state.cssClasses!==e.className&&i.react.updateCssClasses.call(this,this.state.cssClasses,e.className),this.setState({options:t,value:e.value,data:e.data,cssClasses:e.className})},componentDidUpdate:function(){var e=i.$.extend({},this.state.options);this.optimizeUpdate?(this.optimizeUpdate.updateOptions&&this.instance.option(e),this.optimizeUpdate.updateValue&&void 0!==this.state.value&&!i.react.deepCompare(this.state.value,this.instance.getVal())&&this.instance.setVal(this.state.value,!0)):(this.instance.option(e),void 0!==this.state.value&&this.instance.setVal(this.state.value,!0))},getSettingsFromProps:function(e){var t={};if(void 0!==e){var a=e.options,n=(e.children,e.value,e.data,e.className,s(e,["options","children","value","data","className"])),r=a||"{}";t=a||{},void 0!==a&&"string"==typeof r&&(t=new Function("return "+r+";")()),t=i.$.extend({},t,n)}return t}},UpdateOptimizeMixin:{shouldComponentUpdate:function(e,t){var s=!i.react.deepCompare(t.options,this.state.options),a=!i.react.deepCompare(t.value,this.state.value),n=!i.react.deepCompare(e.children,this.props.children);return this.optimizeUpdate={updateOptions:s,updateValue:a,updateChildren:n},s||a||n}},UnmountMixin:{componentWillUnmount:function(){this.instance.destroy(),delete this.instance}},RenderMixin:{render:function(){var t=this.props,s=t.type,a=t.readOnly,n=t.disabled,i=t.placeholder;return s=s||"text",this.props.children?this.props.children:e.createElement("input",{className:this.initialCssClass,type:s,readOnly:a,disabled:n,placeholder:i})}},ListRenderMixin:{render:function(){return e.createElement("ul",{className:this.initialCssClass},this.props.children)}},CorePropTypes:{propTypes:{theme:d,lang:d,rtl:c,context:l.oneOfType([d,h])}},FramePropTypes:{propTypes:{anchor:l.oneOfType([d,h]),animate:l.oneOfType([c,l.oneOf(["fade","flip","pop","swing","slidevertical","slidehorizontal","slidedown","slideup"])]),buttons:l.array,closeOnOverlay:c,closeOnOverlayTap:c,disabled:c,display:l.oneOf(["top","bottom","bubble","inline","center"]),focusOnClose:l.oneOfType([c,d,h]),focusTrap:c,headerText:l.oneOfType([c,d,u]),showOnFocus:c,showOnTap:c,onBeforeClose:u,onBeforeShow:u,onCancel:u,onClose:u,onDestroy:u,onMarkupReady:u,onPosition:u,onShow:u}},ScrollerPropTypes:{propTypes:{circular:l.oneOfType([c,l.arrayOf(c)]),height:m,layout:l.oneOf(["liquid","fixed"]),maxWidth:p,minWidth:p,multiline:m,readOnly:l.oneOfType([c,l.arrayOf(c)]),rows:m,showLabel:c,showScrollArrows:c,wheels:l.array,width:m,onChange:u,onValueTap:u,validate:u,onSelect:u,onSet:u,onItemTap:u,onClear:u,cancelText:d,clearText:d,selectedText:d,setText:d}},DatetimePropTypes:{propTypes:{defaultValue:h,invalid:l.array,max:h,min:h,steps:l.shape({hour:m,minute:m,second:m,zeroBased:c}),valid:h,ampmText:d,amText:d,dateFormat:d,dateWheels:d,dayNames:l.arrayOf(d),dayNamesShort:l.arrayOf(d),dayText:d,hourText:d,minuteText:d,monthNames:l.arrayOf(d),monthNamesShort:l.arrayOf(d),monthSuffix:d,monthText:d,nowText:d,pmText:d,secText:d,timeFormat:d,timeWheels:d,yearSuffix:d,yearText:d}},CalbasePropTypes:{propTypes:{calendarHeight:m,calendarScroll:l.oneOf(["horizontal","vertical"]),calendarWidth:m,counter:c,defaultValue:l.oneOfType([h,l.array]),months:m,outerMonthChange:c,showOuterDays:c,tabs:c,weekCounter:l.oneOf(["year","month"]),weekDays:l.oneOf(["full","short","min"]),yearChange:c,calendarText:d,dateText:d,dayNames:l.arrayOf(d),dayNamesMin:l.arrayOf(d),firstDay:m,timeText:d,onTabChange:u,onDayChange:u,onMonthChange:u,onMonthLoading:u,onMonthLoaded:u}}},createComponent:function(s,a){var n=void 0===a?[]:a;return e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.RenderMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes,i.react.mixins.FramePropTypes].concat(n),componentDidMount:function(){var e=i.$.extend({},s,this.state.options);this.instance=new i.classes[s.component||"Scroller"](t.findDOMNode(this),e),void 0!==this.props.value&&this.instance.setVal(this.props.value,!0)}})},createListComponent:function(s,a){return e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.ListRenderMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes,i.react.mixins.FramePropTypes,i.react.mixins.ScrollerPropTypes].concat(a),componentDidMount:function(){var e=i.$.extend({},s,this.state.options),a=t.findDOMNode(this);this.instance=new i.classes[s.component||"Scroller"](a,e),void 0!==this.props.value&&this.instance.setVal(this.props.value,!0),(this.instance._markup||i.$(a)).on("click",function(e){e.stopPropagation()})},componentDidUpdate:function(){!this.optimizeUpdate.updateOptions&&this.optimizeUpdate.updateChildren&&this.instance.option(this.state.options);var e=t.findDOMNode(this);(this.instance._markup||i.$(e)).on("click",function(e){e.stopPropagation()})}})},createFormComponent:function(t,a,n){var r=void 0===n?[]:n;return e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes].concat(r),componentDidMount:function(){var e=i.$.extend({},t,this.state.options);this.instance=new i.classes[t.component||"Scroller"](this.inputNode,e),void 0!==this.state.value&&this.instance.setVal(this.state.value,!0),i.$(this.inputNode).on("change",this.props.onChange||function(){})},inputMounted:function(e){this.inputNode=e},render:function(){var n=this.props,i=(n.className,n.children),r=(n.value,n.onChange,s(n,["className","children","value","onChange"])),l=a||"text";return e.createElement("div",{className:this.initialCssClass},i,e.createElement("input",o({ref:this.inputMounted,type:l,"data-role":t},r)))}})},updateCssClasses:function(e,s){var a=t.findDOMNode(this),n=e.replace(/\s+/g," "),i=s.replace(/\s+/g," ");n&&a.classList.remove.apply(a.classList,n.split(" ")),i&&a.classList.add.apply(a.classList,i.split(" "))},deepCompare:function(e,t){function s(e,t){var i;if(isNaN(e)&&isNaN(t)&&"number"==typeof e&&"number"==typeof t)return!0;if(e===t)return!0;if("function"==typeof e&&"function"==typeof t||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return e.toString()===t.toString();if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e))return!1;if(e.constructor!==t.constructor)return!1;if(e.prototype!==t.prototype)return!1;if(a.indexOf(e)>-1||n.indexOf(t)>-1)return!1;for(i in t){if(t.hasOwnProperty(i)!==e.hasOwnProperty(i))return!1;if(r(t[i])!==r(e[i]))return!1}for(i in e){if(t.hasOwnProperty(i)!==e.hasOwnProperty(i))return!1;if(r(t[i])!==r(e[i]))return!1;switch(r(e[i])){case"object":case"function":if(a.push(e),n.push(t),!s(e[i],t[i]))return!1;a.pop(),n.pop();break;default:if(e[i]!==t[i])return!1}}return!0}var a=[],n=[];return s(e,t)}},function(e){function t(e,t){var s=document.createElement("script"),n="mbscjsonp"+ ++a;window[n]=function(e){s.parentNode.removeChild(s),delete window[n],e&&t(e)},s.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,document.body.appendChild(s)}function s(e,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},s.onerror=function(){},s.send()}var a=0;i.util.getJson=function(e,a,n){"jsonp"==n?t(e,a):s(e,a)}}();var f=i.util.getJson;!function(e,t,s){var a,n,r=i,o=r.$,l=r.platform,c=r.util,d=c.constrain,u=c.isString,m=c.getCoord,h=c.animEnd,p=/(iphone|ipod)/i.test(navigator.userAgent)&&l.majorVersion>=7,f="ios"==l.name&&8==l.majorVersion,b=function(){},v=function(e){e.preventDefault()};r.classes.Frame=function(i,l,f){function g(e){$&&$.removeClass("mbsc-fr-btn-a"),$=o(this),$.hasClass("mbsc-fr-btn-d")||$.hasClass("mbsc-fr-btn-nhl")||$.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?o(t).on("mouseup",y):"pointerdown"===e.type&&o(t).on("pointerup",y)}function y(e){$&&($.removeClass("mbsc-fr-btn-a"),$=null),"mouseup"===e.type?o(t).off("mouseup",y):"pointerup"===e.type&&o(t).off("pointerup",y)}function x(e){13==e.keyCode?de.select():27==e.keyCode&&de.cancel()}function C(e){e||J.focus(),de.ariaMessage(se.ariaMessage)}function w(e){var t=a,i=se.focusOnClose;de._markupRemove(),I.remove(),r.activeInstance||(z&&(A.removeClass(q),Z&&(P.css({top:"",left:""}),Y.scrollLeft(ae),Y.scrollTop(ie))),e||(t||(t=ue),setTimeout(function(){i===s||i===!0?(n=!0,t[0].focus()):i&&o(i)[0].focus()},200))),a=null,de._isVisible=!1,j=!1,oe("onHide")}function T(e){clearTimeout(he[e.type]),he[e.type]=setTimeout(function(){var t="scroll"==e.type;t&&!ne||(de.position(!t),"orientationchange"==e.type&&(Q.style.display="none",Q.offsetHeight,Q.style.display=""))},200)}function _(e){e.target.nodeType&&!Q.contains(e.target)&&Q.focus()}function M(){o(t.activeElement).is("input,textarea")&&t.activeElement.blur()}function D(e,t){e&&e(),de.show()!==!1&&(a=t,setTimeout(function(){n=!1},300))}function S(){de._fillValue(),oe("onSet",{valueText:de._value})}function k(){oe("onCancel",{valueText:de._value})}function V(){de.setVal(null,!0)}var O,P,N,A,I,F,E,L,Y,H,W,$,U,R,z,j,q,B,X,K,G,Z,J,Q,ee,te,se,ae,ne,ie,re,oe,le,ce,de=this,ue=o(i),me=[],he={};r.classes.Base.call(this,i,l,!0),de.position=function(e){var a,n,i,l,c,u,m,h,p,f,b,v,g,y,x,C,w={},T=0,_=0,M=0,D=0;!te&&j&&(de._position(I),v=B.offsetHeight,g=B.offsetWidth,le===g&&ce===v&&e||(de._isFullScreen||/top|bottom/.test(se.display)?L.width(g):H.width(""),oe("onPosition",{target:B,windowWidth:g,windowHeight:v})!==!1&&z&&(o(".mbsc-comp",I).each(function(){var e=r.instances[this.id];e&&e!==de&&e.position&&e.position()}),!de._isFullScreen&&/center|bubble/.test(se.display)&&(o(".mbsc-w-p",I).each(function(){y=this.getBoundingClientRect().width,D+=y,M=y>M?y:M}),H.css({width:de._isLiquid?Math.min(se.maxPopupWidth,g-16):Math.ceil(D>g?M:D),"white-space":D>g?"":"nowrap"})),X=Q.offsetWidth,K=Q.offsetHeight,de.scrollLock=ne=K<=v&&X<=g,G&&(T=Y.scrollLeft(),_=Y.scrollTop()),"center"==se.display?(C=Math.max(0,T+(g-X)/2),x=Math.max(0,_+(v-K)/2)):"bubble"==se.display?(a=se.anchor===s?ue:o(se.anchor),m=o(".mbsc-fr-arr-i",I)[0],l=a.offset(),c=l.top+(R?_-P.offset().top:0),u=l.left+(R?T-P.offset().left:0),n=a[0].offsetWidth,i=a[0].offsetHeight,h=m.offsetWidth,p=m.offsetHeight,C=d(u-(X-n)/2,T+8,T+g-X-8),x=c-K-p/2,x<_||c>_+v?(L.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),x=c+i+p/2):L.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),o(".mbsc-fr-arr",I).css({left:d(u+n/2-(C+(X-h)/2),0,h)})):(C=T,x="top"==se.display?_:Math.max(0,_+v-K)),G&&(f=Math.max(x+K,R?P[0].scrollHeight:o(t).height()),b=Math.max(C+X,R?P[0].scrollWidth:o(t).width()),E.css({width:b,height:f}),se.scroll&&"bubble"==se.display&&(x+K+8>_+v||c>_+v||c+i<_)&&(te=!0,setTimeout(function(){te=!1},300),Y.scrollTop(Math.min(c,x+K-v+8,f-v)))),w.top=Math.floor(x),w.left=Math.floor(C),L.css(w),le=g,ce=v)))},de.attachShow=function(e,t){var s,a=o(e),i=a.prop("readonly");if("inline"!==se.display){if((se.showOnFocus||se.showOnTap)&&a.is("input,select")&&(a.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){de._isVisible&&this.blur()}),s=o('label[for="'+a.attr("id")+'"]'),s.length||(s=a.closest("label"))),a.is("select"))return;se.showOnFocus&&a.on("focus.mbsc",function(){n||D(t,a)}),se.showOnTap&&(a.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),D(t,a))}),de.tap(a,function(){D(t,a)}),s&&s.length&&de.tap(s,function(){D(t,a)})),me.push({readOnly:i,el:a,lbl:s})}},de.select=function(){z?de.hide(!1,"set",!1,S):S()},de.cancel=function(){z?de.hide(!1,"cancel",!1,k):k()},de.clear=function(){de._clearValue(),oe("onClear"),z&&de._isVisible&&!de.live?de.hide(!1,"clear",!1,V):V()},de.enable=function(){se.disabled=!1,de._isInput&&ue.prop("disabled",!1)},de.disable=function(){se.disabled=!0,de._isInput&&ue.prop("disabled",!0)},de.show=function(t,a){var n,i;if(!se.disabled&&!de._isVisible){if(de._readValue(),oe("onBeforeShow")===!1)return!1;if(U=se.animate,
W=se.buttons||[],G=R||"bubble"==se.display,Z=p&&!G,n=W.length>0,U!==!1&&("top"==se.display?U="slidedown":"bottom"==se.display?U="slideup":"center"!=se.display&&"bubble"!=se.display||(U=se.animate||"pop")),z&&(q="mbsc-fr-lock"+(Z?" mbsc-fr-lock-ios":"")+(R?" mbsc-fr-lock-ctx":""),ie=Math.max(0,Y.scrollTop()),ae=Math.max(0,Y.scrollLeft()),le=0,ce=0,Z&&!A.hasClass("mbsc-fr-lock")&&P.css({top:-ie+"px",left:-ae+"px"}),A.addClass(q),M(),r.activeInstance&&r.activeInstance.hide(),r.activeInstance=de),i='<div lang="'+se.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+se.theme+(se.baseTheme?" mbsc-"+se.baseTheme:"")+" mbsc-fr-"+se.display+" "+(se.cssClass||"")+" "+(se.compClass||"")+(de._isLiquid?" mbsc-fr-liq":"")+(Z?" mbsc-platform-ios":"")+(n?W.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(z?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(se.rtl?" mbsc-rtl":" mbsc-ltr")+(se.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===se.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(se.headerText?'<div class="mbsc-fr-hdr">'+(u(se.headerText)?se.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',i+=de._generateContent(),i+="</div>",n&&(i+='<div class="mbsc-fr-btn-cont">',o.each(W,function(e,t){t=u(t)?de.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),i+="<div"+(se.btnWidth?' style="width:'+100/W.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(t.cssClass===s?se.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),i+="</div>"),i+="</div></div></div></div>"+(z?"</div></div>":""),I=o(i),E=o(".mbsc-fr-persp",I),F=o(".mbsc-fr-scroll",I),H=o(".mbsc-fr-w",I),N=o(".mbsc-fr-hdr",I),L=o(".mbsc-fr-popup",I),O=o(".mbsc-fr-aria",I),B=I[0],J=F[0],Q=L[0],de._markup=I,de._header=N,de._isVisible=!0,ee="orientationchange resize",de._markupReady(I),oe("onMarkupReady",{target:B}),z){if(o(e).on("keydown",x),se.scrollLock&&I.on("touchmove mousewheel wheel",function(e){ne&&e.preventDefault()}),se.focusTrap&&Y.on("focusin",_),se.closeOnOverlayTap){var l,d,f,b;F.on("touchstart mousedown",function(e){d||e.target!=F[0]||(d=!0,l=!1,f=m(e,"X"),b=m(e,"Y"))}).on("touchmove mousemove",function(e){d&&!l&&(Math.abs(m(e,"X")-f)>9||Math.abs(m(e,"Y")-b)>9)&&(l=!0)}).on("touchcancel",function(){d=!1}).on("touchend touchcancel mouseup",function(e){d&&!l&&(de.cancel(),"mouseup"!=e.type&&c.preventClick()),d=!1})}G&&(ee+=" scroll")}setTimeout(function(){if(z)I.appendTo(P);else if(ue.is("div")&&!de._hasContent)ue.empty().append(I);else if(ue.hasClass("mbsc-control")){var e=ue.closest(".mbsc-control-w");I.insertAfter(e),e.hasClass("mbsc-select")&&e.addClass("mbsc-select-inline")}else I.insertAfter(ue);j=!0,de._markupInserted(I),oe("onMarkupInserted",{target:B}),I.on("selectstart mousedown",v).on("click",".mbsc-fr-btn-e",v).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&z&&se.focusTrap){var t=I.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),s=t.index(o(":focus",I)),a=t.length-1,n=0;e.shiftKey&&(a=0,n=-1),s===a&&(t.eq(n)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",g).on("touchend",".mbsc-fr-btn-e",y),o("input,select,textarea",I).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),B.addEventListener("touchstart",function(){re||(re=!0,P.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),o.each(W,function(e,t){de.tap(o(".mbsc-fr-btn"+e,I),function(e){t=u(t)?de.buttons[t]:t,(u(t.handler)?de.handlers[t.handler]:t.handler).call(this,e,de)},!0)}),de._attachEvents(I),de.position(),Y.on(ee,T),z&&(U&&!t?I.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+U).on(h,function(){I.off(h).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+U).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+U),C(a)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+U):C(a)),oe("onShow",{target:B,valueText:de._tempValue})},Z?100:0)}},de.hide=function(t,s,a,n){if(!de._isVisible||!a&&!de._isValid&&"set"==s||!a&&oe("onBeforeClose",{valueText:de._tempValue,button:s})===!1)return!1;z&&(M(),o(e).off("keydown",x),delete r.activeInstance),I&&(z&&U&&!t&&!I.hasClass("mbsc-anim-trans")?I.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+U).on(h,function(){I.off(h),w(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+U):w(t),de._detachEvents(I),Y.off(ee,T).off("focusin",_)),n&&n(),oe("onClose",{valueText:de._value})},de.ariaMessage=function(e){O.html(""),setTimeout(function(){O.html(e)},100)},de.isVisible=function(){return de._isVisible},de.setVal=b,de.getVal=b,de._generateContent=b,de._attachEvents=b,de._detachEvents=b,de._readValue=b,de._clearValue=b,de._fillValue=b,de._markupReady=b,de._markupInserted=b,de._markupRemove=b,de._position=b,de.__processSettings=b,de.__init=b,de.__destroy=b,de._destroy=function(){de.hide(!0,!1,!0),ue.off(".mbsc"),o.each(me,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),de.__destroy()},de._processSettings=function(){var t,a;for(de.__processSettings(),se.buttons=se.buttons||("inline"!==se.display?["set","cancel"]:[]),se.headerText=se.headerText===s?"inline"!==se.display&&"{value}":se.headerText,W=se.buttons||[],z="inline"!==se.display,R="body"!=se.context,P=o(se.context),A=R?P:o("body,html"),de._window=Y=o(R?se.context:e),de.live=!0,a=0;a<W.length;a++)"ok"!=(t=W[a])&&"set"!=t&&"set"!=t.handler||(de.live=!1);de.buttons.set={text:se.setText,icon:se.setIcon,handler:"set"},de.buttons.cancel={text:se.cancelText,icon:se.cancelIcon,handler:"cancel"},de.buttons.close={text:se.closeText,icon:se.closeIcon,handler:"cancel"},de.buttons.clear={text:se.clearText,icon:se.clearIcon,handler:"clear"},de._isInput=ue.is("input")},de._init=function(){de._isVisible&&de.hide(!0,!1,!0),ue.off(".mbsc"),de.__init(),de._isLiquid="liquid"==se.layout,z?(de._readValue(),de._hasContent||de.attachShow(ue)):de.show(),ue.on("change.mbsc",function(){de._preventChange||de.setVal(ue.val(),!0,!1),de._preventChange=!1})},de.buttons={},de.handlers={set:de.select,cancel:de.cancel,clear:de.clear},de._value=null,de._isValid=!0,de._isVisible=!1,se=de.settings,oe=de.trigger,f||de.init(l)},r.classes.Frame.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:!1,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!f},r.themes.frame.mobiscroll={headerText:!1,btnWidth:!1},r.themes.scroller.mobiscroll=o.extend({},r.themes.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),o(e).on("focus",function(){a&&(n=!0)})}(window,document),function(e){var t=i,s=t.$,a=t.classes,n=t.util,r=n.constrain,o=n.jsPrefix,l=n.prefix,c=n.getCoord,d=n.getPosition,u=n.testTouch,m=n.isNumeric,h=n.isString,p=/(iphone|ipod|ipad)/i.test(navigator.userAgent),f=function(){},b=window.requestAnimationFrame||function(e){e()},v=window.cancelAnimationFrame||f;a.ScrollView=function(e,t,n){function i(e){ae("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),(ce.prevDef||"mousedown"==e.type)&&e.preventDefault(),ce.readonly||ce.lock&&$||u(e,this)&&!W&&(T&&T.removeClass("mbsc-btn-a"),F=!1,$||(T=s(e.target).closest(".mbsc-btn-e",this),T.length&&!T.hasClass("mbsc-btn-d")&&(F=!0,_=setTimeout(function(){T.addClass("mbsc-btn-a")},100))),W=!0,j=!1,U=!1,re.scrolled=$,J=c(e,"X"),Q=c(e,"Y"),N=E=J,D=0,S=0,k=0,Z=new Date,G=+d(te,ne)||0,$&&w(G,p?0:1),"mousedown"===e.type&&s(document).on("mousemove",f).on("mouseup",y))}function f(e){W&&(ce.stopProp&&e.stopPropagation(),N=c(e,"X"),A=c(e,"Y"),D=N-J,S=A-Q,k=ne?S:D,F&&(Math.abs(S)>5||Math.abs(D)>5)&&(clearTimeout(_),T.removeClass("mbsc-btn-a"),F=!1),(re.scrolled||!U&&Math.abs(k)>5)&&(j||ae("onGestureStart",I),re.scrolled=j=!0,z||(z=!0,R=b(g))),ne||ce.scrollLock?e.preventDefault():re.scrolled?e.preventDefault():Math.abs(S)>7&&(U=!0,re.scrolled=!0,de.trigger("touchend")))}function g(){Y&&(k=r(k,-X*Y,X*Y)),w(r(G+k,H-P,L+P)),z=!1}function y(e){if(W){var t,a=new Date-Z;ce.stopProp&&e.stopPropagation(),v(R),z=!1,!U&&re.scrolled&&(ce.momentum&&a<300&&(t=k/a,k=Math.max(Math.abs(k),t*t/ce.speedUnit)*(k<0?-1:1)),C(k)),F&&(clearTimeout(_),T.addClass("mbsc-btn-a"),setTimeout(function(){T.removeClass("mbsc-btn-a")},100),U||re.scrolled||ae("onBtnTap",{target:T[0]})),"mouseup"==e.type&&s(document).off("mousemove",f).off("mouseup",y),W=!1}}function x(e){if(e=e.originalEvent||e,k=ne?e.deltaY||e.wheelDelta||e.detail:e.deltaX,ae("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),k){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(k*=5),k=r(-k,-20,20),G=ie,ce.readonly||G+k<H||G+k>L)return;j||(I={posX:ne?0:ie,posY:ne?ie:0,originX:ne?0:G,originY:ne?G:0,direction:k>0?ne?270:360:ne?90:180},ae("onGestureStart",I)),z||(z=!0,R=b(g)),j=!0,clearTimeout(q),q=setTimeout(function(){v(R),z=!1,j=!1,C(k)},200)}}function C(e){var t,s,a;if(Y&&(e=r(e,-X*Y,X*Y)),a=r(Math.round((G+e)/X)*X,H,L),oe=Math.round(a/X),K){if(e<0){for(t=K.length-1;t>=0;t--)if(Math.abs(a)+M>=K[t].breakpoint){oe=t,le=2,a=K[t].snap2;break}}else if(e>=0)for(t=0;t<K.length;t++)if(Math.abs(a)<=K[t].breakpoint){oe=t,le=1,a=K[t].snap1;break}a=r(a,H,L)}s=ce.time||(ie<H||ie>L?1e3:Math.max(1e3,Math.abs(a-ie)*ce.timeUnit)),I.destinationX=ne?0:a,I.destinationY=ne?a:0,I.duration=s,I.transitionTiming=O,ae("onGestureEnd",I),w(a,s)}function w(e,t,s,a){var n=e!=ie,i=t>1,r=function(){clearInterval(B),clearTimeout(se),$=!1,ie=e,I.posX=ne?0:e,I.posY=ne?e:0,n&&ae("onMove",I),i&&ae("onAnimationEnd",I),a&&a()};I={posX:ne?0:ie,posY:ne?ie:0,originX:ne?0:G,originY:ne?G:0,direction:e-ie>0?ne?270:360:ne?90:180},ie=e,i&&(I.destinationX=ne?0:e,I.destinationY=ne?e:0,I.duration=t,I.transitionTiming=O,ae("onAnimationStart",I)),ee[o+"Transition"]=t?l+"transform "+Math.round(t)+"ms "+O:"",ee[o+"Transform"]="translate3d("+(ne?"0,"+e+"px,":e+"px,0,")+"0)",!n&&!$||!t||t<=1?r():t&&($=!s,clearInterval(B),B=setInterval(function(){var t=+d(te,ne)||0;I.posX=ne?0:t,I.posY=ne?t:0,ae("onMove",I),Math.abs(t-e)<2&&r()},100),clearTimeout(se),se=setTimeout(function(){r()},t)),ce.sync&&ce.sync(e,t,O)}var T,_,M,D,S,k,V,O,P,N,A,I,F,E,L,Y,H,W,$,U,R,z,j,q,B,X,K,G,Z,J,Q,ee,te,se,ae,ne,ie,re=this,oe=0,le=1,ce=t,de=s(e);a.Base.call(this,e,t,!0),re.scrolled=!1,re.scroll=function(t,a,n,i){t=m(t)?Math.round(t/X)*X:Math.ceil((s(t,e).length?Math.round(te.offset()[V]-s(t,e).offset()[V]):ie)/X)*X,t=r(t,H,L),oe=Math.round(t/X),G=ie,w(t,a,n,i)},re.refresh=function(e){var t;M=void 0===ce.contSize?ne?de.height():de.width():ce.contSize,H=void 0===ce.minScroll?Math.min(0,ne?M-te.height():M-te.width()):ce.minScroll,L=void 0===ce.maxScroll?0:ce.maxScroll,K=null,!ne&&ce.rtl&&(t=L,L=-H,H=-t),h(ce.snap)&&(K=[],te.find(ce.snap).each(function(){var e=ne?this.offsetTop:this.offsetLeft,t=ne?this.offsetHeight:this.offsetWidth;K.push({breakpoint:e+t/2,snap1:-e,snap2:M-e-t})})),X=m(ce.snap)?ce.snap:1,Y=ce.snap?ce.maxSnapScroll:0,O=ce.easing,P=ce.elastic?m(ce.snap)?X:m(ce.elastic)?ce.elastic:0:0,void 0===ie&&(ie=ce.initialPos,oe=Math.round(ie/X)),e||re.scroll(ce.snap?K?K[oe]["snap"+le]:oe*X:ie)},re._processSettings=function(){ne="Y"==ce.axis,V=ne?"top":"left",te=ce.moveElement||de.children().eq(0),ee=te[0].style},re._init=function(){re.refresh(),de.on("touchstart mousedown",i).on("touchmove",f).on("touchend touchcancel",y),ce.mousewheel&&de.on("wheel mousewheel",x),e.addEventListener&&e.addEventListener("click",function(e){re.scrolled&&(re.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},re._destroy=function(){clearInterval(B),de.off("touchstart mousedown",i).off("touchmove",f).off("touchend touchcancel",y).off("wheel mousewheel",x)},ce=re.settings,ae=re.trigger,n||re.init(t)},a.ScrollView.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},t.presetShort("scrollview","ScrollView",!1)}(),function(e,t,s){var a=i,n=a.$,r=n.extend,o=a.classes,l=a.platform,c=a.util,d=c.jsPrefix,u=c.prefix,m=c.getCoord,h=c.testTouch,p=e.CSS,f=p&&p.supports&&p.supports("(transform-style: preserve-3d)"),b=!f||"wp"==l.name||"android"==l.name;a.presetShort("scroller","Scroller",!1),o.Scroller=function(e,i,l){function p(e){var s=+n(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),h(e,this)&&!V(s)&&(H=n(this).addClass("mbsc-sc-btn-a"),X=m(e,"X"),K=m(e,"Y"),q=!0,B=!1,setTimeout(function(){D(s,"inc"==H.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&n(t).on("mousemove",f).on("mouseup",v))}function f(e){(Math.abs(X-m(e,"X"))>7||Math.abs(K-m(e,"Y"))>7)&&S(!0)}function v(e){S(),e.preventDefault(),"mouseup"===e.type&&n(t).off("mousemove",f).off("mouseup",v)}function g(e){var t,s,a=n(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,x(a,ae[a]._$markup.find('.mbsc-sc-itm[data-val="'+G[a]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),s&&!q&&(q=!0,B=!1,D(a,s)))}function y(){S()}function x(e,t){var a=ae[e],n=t.attr("data-index"),i=M(a,n),r=oe._tempSelected[e],o=c.isNumeric(a.multiple)?a.multiple:1/0;te("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[i]&&(r[i]!==s?(t.removeClass(R).removeAttr("aria-selected"),delete r[i]):(1==o&&(oe._tempSelected[e]=r={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(R).removeAttr("aria-selected")),c.objectToArray(r).length<o&&(t.addClass(R).attr("aria-selected","true"),r[i]=i))),E(a,e,n,re,!0,!0,a.multiple),!oe.live||a.multiple||ee.setOnTap!==!0&&!ee.setOnTap[e]||setTimeout(function(){oe.select()},200))}function C(e,t){return(e._array?e._map[t]:e.getIndex(t,oe))||0}function w(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?n(s).get(t%e._length):s[t]:n.isFunction(s)?s(t,oe):""}function T(e){return n.isPlainObject(e)?e.value!==s?e.value:e.display:e}function _(e){var t=n.isPlainObject(e)?e.display:e;return t===s?"":t}function M(e,t){return T(w(e,t))}function D(e,t){B||k(e,t),q&&(clearInterval(j),j=setInterval(function(){k(e,t)},ee.delay))}function S(e){clearInterval(j),B=e,q=!1,H&&H.removeClass("mbsc-sc-btn-a")}function k(e,t){var s=ae[e];E(s,e,s._current+t,re,1==t?1:2)}function V(e){return n.isArray(ee.readonly)?ee.readonly[e]:ee.readonly}function O(e,t,a){var i=e._index-e._batch;return e.data=e.data||[],e.key=e.key!==s?e.key:t,e.label=e.label!==s?e.label:t,e._map={},e._array=n.isArray(e.data),e._array&&(e._length=e.data.length,n.each(e.data,function(t,s){e._map[T(s)]=t})),e.circular=ee.circular===s?e.circular===s?e._array&&e._length>ee.rows:e.circular:n.isArray(ee.circular)?ee.circular[t]:ee.circular,e.min=e._array?e.circular?-(1/0):0:e.min===s?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:e.max===s?1/0:e.max,e._nr=t,e._index=C(e,G[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-ie,e._last=e._index+ie,e._offset=e._first,a?(e._offset-=e._margin/Z+(e._index-i),e._margin+=(e._index-i)*Z):e._margin=0,e._refresh=function(t){var s=-(e.min-e._offset+(e.multiple&&!U?Math.floor(ee.rows/2):0))*Z,a=Math.min(s,-(e.max-e._offset-(e.multiple&&!U?Math.floor(ee.rows/2):0))*Z);r(e._scroller.settings,{minScroll:a,maxScroll:s}),e._scroller.refresh(t)},ne[e.key]=e,e}function P(e,t,a,n,i){var r,o,l,c,d,m,h,p,f="",b=oe._tempSelected[t],v=e._disabled||{};for(r=a;r<=n;r++)l=w(e,r),d=_(l),c=T(l),o=l&&l.cssClass!==s?l.cssClass:"",m=l&&l.label!==s?l.label:"",h=l&&l.invalid,p=c!==s&&c==G[t]&&!e.multiple,f+='<div role="option" aria-selected="'+!!b[c]+'" class="mbsc-sc-itm '+(i?"mbsc-sc-itm-3d ":"")+o+" "+(p?"mbsc-sc-itm-sel ":"")+(b[c]?R:"")+(c===s?" mbsc-sc-itm-ph":" mbsc-btn-e")+(h?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(v[c]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+r+'" data-val="'+c+'"'+(m?' aria-label="'+m+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+Z+"px;line-height:"+Z+"px;"+(i?u+"transform:rotateX("+(e._offset-r)*$%360+"deg) translateZ("+Z*ee.rows/2+"px);":"")+'">'+(se>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(Z/se)+"px;font-size:"+Math.round(Z/se*.8)+'px;">':"")+d+(se>1?"</div>":"")+"</div>";return f}function N(t){var s=ee.headerText;return s?"function"==typeof s?s.call(e,t):s.replace(/\{value\}/i,t):""}function A(e,t,s){var a=Math.round(-s/Z)+e._offset,i=a-e._current,r=e._first,o=e._last,l=r+ie-W+1,c=o-ie+W;i&&(e._first+=i,e._last+=i,e._current=a,i>0?(e._$scroller.append(P(e,t,Math.max(o+1,r+i),o+i)),n(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(i,o-r+1)).remove(),U&&(e._$3d.append(P(e,t,Math.max(c+1,l+i),c+i,!0)),n(".mbsc-sc-itm",e._$3d).slice(0,Math.min(i,c-l+1)).attr("class","mbsc-sc-itm-del"))):i<0&&(e._$scroller.prepend(P(e,t,r+i,Math.min(r-1,o+i))),n(".mbsc-sc-itm",e._$scroller).slice(Math.max(i,r-o-1)).remove(),U&&(e._$3d.prepend(P(e,t,l+i,Math.min(l-1,c+i),!0)),n(".mbsc-sc-itm",e._$3d).slice(Math.max(i,l-c-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=i*Z,e._$scroller.css("margin-top",e._margin+"px"))}function I(e,t,a,n){var i,r=ae[e],o=n||r._disabled,l=C(r,t),c=t,d=t,u=0,m=0;if(t===s&&(t=M(r,l)),o[t]===!0){for(i=0;l-u>=r.min&&o[c]&&i<100;)i++,u++,c=M(r,l-u);for(i=0;l+m<r.max&&o[d]&&i<100;)i++,m++,d=M(r,l+m);t=(m<u&&m&&2!==a||!u||l-u<0||1==a)&&!o[d]?d:c}return t}function F(t,a,i,r,o,l){var c,d,u,m,h=oe._isVisible;Q=!0,m=ee.validate.call(e,{values:G.slice(0),index:a,direction:i},oe)||{},Q=!1,m.valid&&(oe._tempWheelArray=G=m.valid.slice(0)),l||n.each(ae,function(e,r){if(h&&r._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),r._disabled={},m.disabled&&m.disabled[e]&&n.each(m.disabled[e],function(e,t){r._disabled[t]=!0,h&&r._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),G[e]=r.multiple?G[e]:I(e,G[e],i),h){if(r.multiple&&a!==s||r._$markup.find(".mbsc-sc-itm-sel").removeClass(R).removeAttr("aria-selected"),r.multiple){if(a===s)for(var l in oe._tempSelected[e])r._$markup.find('.mbsc-sc-itm[data-val="'+l+'"]').addClass(R).attr("aria-selected","true")}else r._$markup.find('.mbsc-sc-itm[data-val="'+G[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");d=C(r,G[e]),c=d-r._index+r._batch,Math.abs(c)>2*ie+1&&(u=c+(2*ie+1)*(c>0?-1:1),r._offset+=u,r._margin-=u*Z,r._refresh()),r._index=d+r._batch,r._scroller.scroll(-(d-r._offset+r._batch)*Z,a===e||a===s?t:re,o)}}),te("onValidated"),oe._tempValue=ee.formatValue(G,oe),h&&oe._header.html(N(oe._tempValue)),oe.live&&(oe._hasValue=r||oe._hasValue,L(r,r,0,!0),r&&te("onSet",{valueText:oe._value})),r&&te("onChange",{valueText:oe._tempValue})}function E(e,t,a,n,i,r,o){var l=M(e,a);l!==s&&(G[t]=l,e._batch=e._array?Math.floor(a/e._length)*e._length:0,setTimeout(function(){F(n,t,i,!0,r,o)},10))}function L(e,t,s,a,n){if(a?oe._tempValue=ee.formatValue(oe._tempWheelArray,oe):F(s),!n){oe._wheelArray=[];for(var i=0;i<G.length;i++)oe._wheelArray[i]=ae[i]&&ae[i].multiple?Object.keys(oe._tempSelected[i])[0]:G[i];oe._value=oe._hasValue?oe._tempValue:null,oe._selected=r(!0,{},oe._tempSelected)}e&&(oe._isInput&&le.val(oe._hasValue?oe._tempValue:""),te("onFill",{valueText:oe._hasValue?oe._tempValue:"",change:t}),t&&(oe._preventChange=!0,le.trigger("change")))}var Y,H,W,$,U,R,z,j,q,B,X,K,G,Z,J,Q,ee,te,se,ae,ne,ie=40,re=1e3,oe=this,le=n(e);o.Frame.call(this,e,i,!0),oe.setVal=oe._setVal=function(t,a,i,r,o){oe._hasValue=null!==t&&t!==s,oe._tempWheelArray=G=n.isArray(t)?t.slice(0):ee.parseValue.call(e,t,oe)||[],L(a,i===s?a:i,o,!1,r)},oe.getVal=oe._getVal=function(e){var t=oe._hasValue||e?oe[e?"_tempValue":"_value"]:null;return c.isNumeric(t)?+t:t},oe.setArrayVal=oe.setVal,oe.getArrayVal=function(e){return e?oe._tempWheelArray:oe._wheelArray},oe.changeWheel=function(e,t,a){var i,o;n.each(e,function(e,t){o=ne[e],i=o._nr,o&&(r(o,t),O(o,i,!0),oe._isVisible&&(U&&o._$3d.html(P(o,i,o._first+ie-W+1,o._last-ie+W,!0)),o._$scroller.html(P(o,i,o._first,o._last)).css("margin-top",o._margin+"px"),o._refresh(Q)))}),!oe._isVisible||oe._isLiquid||Q||oe.position(),Q||F(t,s,s,a)},oe.getValidValue=I,oe._generateContent=function(){var e,t=0,a="",i=U?u+"transform: translateZ("+(Z*ee.rows/2+3)+"px);":"",o='<div class="mbsc-sc-whl-l" style="'+i+"height:"+Z+"px;margin-top:-"+(Z/2+(ee.selectedLineBorder||0))+'px;"></div>',l=0;return n.each(ee.wheels,function(c,d){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(ee.showLabel?" mbsc-sc-lbl-v":"")+'">'+o+'<div class="mbsc-sc-whl-gr'+(U?" mbsc-sc-whl-gr-3d":"")+(z?" mbsc-sc-cp":"")+(ee.width||ee.maxWidth?'"':'" style="max-width:'+ee.maxPopupWidth+'px;"')+">",n.each(d,function(n,c){oe._tempSelected[l]=r({},oe._selected[l]),ae[l]=O(c,l),t+=ee.maxWidth?ee.maxWidth[l]||ee.maxWidth:ee.width?ee.width[l]||ee.width:0,e=c.label!==s?c.label:n,a+='<div class="mbsc-sc-whl-w '+(c.cssClass||"")+(c.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(ee.width?"width:"+(ee.width[l]||ee.width)+"px;":(ee.minWidth?"min-width:"+(ee.minWidth[l]||ee.minWidth)+"px;":"")+(ee.maxWidth?"max-width:"+(ee.maxWidth[l]||ee.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+i+'"></div>'+o+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(c.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+l+'" class="mbsc-sc-whl" style="height:'+ee.rows*Z*(U?1.1:1)+'px;">'+(z?'<div data-index="'+l+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(ee.btnPlusClass||"")+'" style="height:'+Z+"px;line-height:"+Z+'px;"></div><div data-index="'+l+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(ee.btnMinusClass||"")+'" style="height:'+Z+"px;line-height:"+Z+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+J+"px;margin-top:-"+(J/2+1)+"px;"+i+'"><div class="mbsc-sc-whl-sc" style="top:'+(J-Z)/2+'px;">',a+=P(c,l,c._first,c._last)+"</div></div>",U&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+Z+"px;margin-top:-"+Z/2+'px;">',a+=P(c,l,c._first+ie-W+1,c._last-ie+W,!0),a+="</div>"),a+="</div></div>",l++}),a+="</div></div>"}),t&&(ee.maxPopupWidth=t),a},oe._attachEvents=function(e){n(".mbsc-sc-btn",e).on("touchstart mousedown",p).on("touchmove",f).on("touchend touchcancel",v),n(".mbsc-sc-whl",e).on("keydown",g).on("keyup",y)},oe._detachEvents=function(){for(var e=0;e<ae.length;e++)ae[e]._scroller.destroy()},oe._markupReady=function(e){Y=e,n(".mbsc-sc-whl",Y).each(function(e){var t,s=n(this),i=ae[e],r=-(i.min-i._offset+(i.multiple&&!U?Math.floor(ee.rows/2):0))*Z,o=Math.min(r,-(i.max-i._offset-(i.multiple&&!U?Math.floor(ee.rows/2):0))*Z);i._$markup=s,i._$scroller=n(".mbsc-sc-whl-sc",this),i._$3d=n(".mbsc-sc-whl-3d",this),i._scroller=new a.classes.ScrollView(this,{mousewheel:ee.mousewheel,moveElement:i._$scroller,initialPos:(i._first-i._index)*Z,contSize:0,snap:Z,minScroll:o,maxScroll:r,maxSnapScroll:ie,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){U&&(i._$3d[0].style[d+"Transition"]=t?u+"transform "+Math.round(t)+"ms "+s:"",i._$3d[0].style[d+"Transform"]="rotateX("+-e/Z*$+"deg)")},onStart:function(t,s){s.settings.readonly=V(e)},onGestureStart:function(){s.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),te("onWheelGestureStart",{index:e})},onGestureEnd:function(s){var a=90==s.direction?1:2,n=s.duration,r=s.destinationY;t=Math.round(-r/Z)+i._offset,E(i,e,t,n,a)},onAnimationStart:function(){s.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){s.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),te("onWheelAnimationEnd",{index:e}),i._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){A(i,e,t.posY)},onBtnTap:function(t){x(e,n(t.target))}})}),F()},oe._fillValue=function(){oe._hasValue=!0,L(!0,!0,0,!0)},oe._clearValue=function(){n(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",Y).removeClass(R).removeAttr("aria-selected")},oe._readValue=function(){var t=le.val()||"",s=0;""!==t&&(oe._hasValue=!0),oe._tempWheelArray=G=oe._hasValue&&oe._wheelArray?oe._wheelArray.slice(0):ee.parseValue.call(e,t,oe)||[],oe._tempSelected=r(!0,{},oe._selected),n.each(ee.wheels,function(e,t){n.each(t,function(e,t){ae[s]=O(t,s),s++})}),L(!1,!1,0,!0),te("onRead")},oe.__processSettings=function(){ee=oe.settings,te=oe.trigger,se=ee.multiline,R="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+ee.checkIcon,ae=[],ne={}},oe.__init=function(){z=ee.showScrollArrows,U=ee.scroll3d&&!b&&!z,Z=ee.height,J=U?2*Math.round((Z-.03*(Z*ee.rows/2+3))/2):Z,W=Math.round(1.8*ee.rows),$=360/(2*W),z&&(ee.rows=Math.max(3,ee.rows)),ee.cssClass=(ee.cssClass||"")+" mbsc-sc"},oe._getItemValue=T,oe._tempSelected={},oe._selected={},l||oe.init(i)},o.Scroller.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:r({},o.Frame.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,i,r=[],o=[],l=0;return null!==e&&e!==s&&(r=(e+"").split(" ")),n.each(t.settings.wheels,function(e,s){n.each(s,function(e,s){i=s.data,a=t._getItemValue(i[0]),n.each(i,function(e,s){if(r[l]==t._getItemValue(s))return a=t._getItemValue(s),!1}),o.push(a),l++})}),o}})}}(window,document),function(e){var t=i,s=t.$,a=t.util,n=a.isString,r={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};t.presetShort("select"),t.presets.scroller.select=function(t){function i(t){var a,n,i,r,o,l,c=0,d=0,u={};if(W={},S={},P=[],D=[],te.length=0,X)s.each(C,function(s,c){o=c[L.dataText],n=c[L.dataHtml],l=c[L.dataValue],i=c[L.dataGroup],r={value:l,html:n,text:o,index:s},W[l]=r,t&&!v(o,t)||(P.push(r),K&&(u[i]===e?(a={text:i,value:d,options:[],index:d},S[d]=a,u[i]=d,D.push(a),d++):a=S[u[i]],J&&(r.index=a.options.length),r.group=u[i],a.options.push(r)),c[L.dataDisabled]&&te.push(l))});else if(K){var m=!0;s("optgroup",F).each(function(e){S[e]={text:this.label,value:e,options:[],index:e},m=!0,s("option",this).each(function(s){r={value:this.value,text:this.text,index:J?s:c++,group:e},W[this.value]=r,t&&!v(this.text,t)||(m&&(D.push(S[e]),m=!1),P.push(r),S[e].options.push(r),this.disabled&&te.push(this.value))})})}else s("option",F).each(function(e){r={value:this.value,text:this.text,index:e},W[this.value]=r,t&&!v(this.text,t)||(P.push(r),this.disabled&&te.push(this.value))});P.length&&(w=P[0].value),Q&&(P=[],c=0,s.each(S,function(e,t){t.options.length&&(l="__group"+e,r={text:t.text,value:l,group:e,index:c++,cssClass:"mbsc-sel-gr"},W[l]=r,P.push(r),te.push(r.value),s.each(t.options,function(e,t){t.index=c++,P.push(t)}))})),Y&&(P.length?Y.removeClass("mbsc-sel-empty-v"):Y.addClass("mbsc-sel-empty-v"))}function o(e,t,s){var a,n=[];for(a=0;a<e.length;a++)n.push({value:e[a].value,display:e[a].html||e[a].text,cssClass:e[a].cssClass});return{circular:!1,multiple:t,data:n,label:s}}function l(){return o(D,!1,L.groupLabel)}function c(){return o(J?S[M].options:P,z,B)}function d(){var e,t,s=[[]];return Z&&(e=l(),U?s[0][k]=e:s[k]=[e]),t=c(),U?s[0][N]=t:s[N]=[t],s}function u(t){R&&(t&&n(t)&&(t=t.split(",")),s.isArray(t)&&(t=t[0])),O=t!==e&&null!==t&&""!==t&&W[t]?t:w,Z&&(M=W[O]?W[O].group:null)}function m(e,s){var a=e?t._tempWheelArray:t._hasValue?t._wheelArray:null;return a?L.group&&s?a:a[N]:null}function h(e){var s,a,n=[];if(z){for(s in t._tempSelected[N])n.push(I[s]||(W[s]?W[s].text:""));return n.join(", ")}return a=e[N],W[a]?W[a].text:""}function p(){var e=t.getVal(),s=t._tempValue;L.filter&&"inline"==L.display||x.val(s),F.val(e)}function b(){var e={};e[N]=c(),A=!0,t.changeWheel(e)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function g(e){return L.data.dataField?e[L.data.dataField]:L.data.processResponse?L.data.processResponse(e):e}function y(e){var s={};i(e),L.wheels=d(),u(O),s[N]=c(),t._tempWheelArray[N]=O,Z&&(s[k]=l(),t._tempWheelArray[k]=M),t._isVisible&&t.changeWheel(s,0,!0)}var x,C,w,T,_,M,D,S,k,V,O,P,N,A,I={},F=s(this),E=s.extend({},t.settings),L=s.extend(t.settings,r,E),Y=s('<div class="mbsc-sel-empty">'+L.filterEmptyText+"</div>"),H=L.readonly,W={},$=L.layout||(/top|bottom|inline/.test(L.display)||L.filter?"liquid":""),U="liquid"==$,R=a.isNumeric(L.select)?L.select:"multiple"==L.select||F.prop("multiple"),z=R||!!L.filter&&1,j=this.id+"_dummy",q=s('label[for="'+this.id+'"]').attr("for",j),B=L.label!==e?L.label:q.length?q.text():F.attr("name"),X=!!L.data,K=X?!!L.group:s("optgroup",F).length,G=L.group,Z=K&&G&&G.groupWheel!==!1,J=K&&G&&Z&&G.clustered===!0,Q=K&&(!G||G.header!==!1&&!J),ee=F.val()||(R?[]:[""]),te=[];return t.setVal=function(e,s,i,r,o){z&&(e&&!R&&(e=[e]),e&&n(e)&&(e=e.split(",")),t._tempSelected[N]=a.arrayToObject(e),r||(t._selected[N]=a.arrayToObject(e)),e=e?e[0]:null),t._setVal(e,s,i,r,o)},t.getVal=function(e,s){if(z){var n=a.objectToArray(e?t._tempSelected[N]:t._selected[N]);return R?n:n.length?n[0]:null}return m(e,s)},t.refresh=function(t,s){t&&(C=t),!t&&V&&s===e?f(L.data.url,function(e){C=g(e),y()},L.data.dataType):y(s)},L.invalid.length||(L.invalid=te),Z?(k=0,N=1):(k=-1,N=0),z&&(R&&F.prop("multiple",!0),ee&&n(ee)&&(ee=ee.split(",")),t._selected[N]=a.arrayToObject(ee)),t._dummyInput&&t._dummyInput.remove(),F.next().is("input.mbsc-control")?x=F.off(".mbsc-form").next().removeAttr("tabindex"):(L.filter&&"inline"==L.display?t._dummyInput=s('<div class="mbsc-sel-input-wrap"><input type="text" id="'+j+'" class="mbsc-control mbsc-control-ev '+L.inputClass+'" readonly /></div>'):(x=s('<input type="text" id="'+j+'" class="mbsc-control mbsc-control-ev '+L.inputClass+'" readonly />'),t._dummyInput=x),L.showInput&&(t._dummyInput.insertBefore(F),x||(x=t._dummyInput.find("#"+j)))),t.attachShow(x.attr("placeholder",L.placeholder||"")),F.addClass("mbsc-sel-hdn").attr("tabindex",-1),L.filter&&(T=L.filter.minLength||0),V=L.data&&L.data.url,V?t.refresh():(X&&(C=L.data),i(),u(F.val())),{layout:$,headerText:!1,anchor:x,compClass:"mbsc-sel"+(Z?" mbsc-sel-gr-whl":"")+(z?" mbsc-sel-multi":""),setOnTap:!Z||[!1,!0],formatValue:h,parseValue:function(t){return u(t===e?F.val():t),Z?[M,O]:[O]},validate:function(t){var s=t.index,a=[];return a[N]=L.invalid,J&&!A&&s===e&&b(),A=!1,{disabled:a}},onRead:p,onFill:p,onMarkupReady:function(t,a){if(L.filter){var n,i,r,o=s(".mbsc-fr-w",t.target),l=s('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+L.filterClearIcon+'"></span>');"inline"==L.display?(n=x,x.parent().find(".mbsc-sel-filter-clear").remove()):(o.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control mbsc-control-ev"/></span></div>'),n=o.find(".mbsc-sel-filter-input")),_="",r=n[0],n.prop("readonly",!1).attr("placeholder",L.filterPlaceholderText).parent().append(l),o.find(".mbsc-fr-c").prepend(Y),a.tap(l,function(){r.value="",a.refresh(),l.removeClass("mbsc-sel-filter-show-clear")}),n.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),r.blur())}).on("keyup",function(){clearTimeout(i),
r.value.length?l.addClass("mbsc-sel-filter-show-clear"):l.removeClass("mbsc-sel-filter-show-clear"),i=setTimeout(function(){_!==r.value&&a.trigger("onFilter",{filterText:r.value})!==!1&&(_=r.value,(_.length>=T||!_.length)&&(V&&L.data.remoteFilter?f(L.data.url+encodeURIComponent(_),function(e){a.refresh(g(e))},L.data.dataType):a.refresh(e,_)))},500)})}},onBeforeShow:function(){R&&L.counter&&(L.headerText=function(){var e=0;return s.each(t._tempSelected[N],function(){e++}),(e>1?L.selectedPluralText||L.selectedText:L.selectedText).replace(/{count}/,e)}),u(F.val()),L.filter&&i(e),t.settings.wheels=d(),A=!0},onWheelGestureStart:function(e){e.index==k&&(L.readonly=[!1,!0])},onWheelAnimationEnd:function(e){var s=t.getArrayVal(!0);e.index==k?(L.readonly=H,s[k]!=M&&(M=s[k],O=S[M].options[0].value,s[N]=O,J?b():t.setArrayVal(s,!1,!1,!0,1e3))):e.index==N&&s[N]!=O&&(O=s[N],Z&&W[O]&&W[O].group!=M&&(M=W[O].group,s[k]=M,t.setArrayVal(s,!1,!1,!0,1e3)))},onItemTap:function(e){if(e.index==N&&(I[e.value]=W[e.value].text,z&&!R&&e.selected))return!1},onClose:function(){V&&L.data.remoteFilter&&_&&t.refresh()},onDestroy:function(){t._dummyInput&&t._dummyInput.remove(),F.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}}}();var b=e.PropTypes,v=b.bool,g=b.string,y=b.array,x=b.number;i.Select=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes,i.react.mixins.FramePropTypes,i.react.mixins.ScrollerPropTypes],propTypes:{counter:v,data:y,dataText:g,dataGroup:g,dataValue:g,group:b.oneOfType([v,b.shape({groupedWheel:v,header:v,clustered:v})]),groupLabel:g,inputClass:g,invalid:y,label:g,placeholder:g,select:b.oneOfType([x,b.oneOf(["single","multiple"])]),showInput:v},componentDidMount:function(){var e=i.$.extend({preset:"select"},this.state.options,{data:this.state.data});this.instance=new i.classes.Scroller(t.findDOMNode(this),e),void 0!==this.state.value&&this.instance.setVal(this.state.value,!0)},componentDidUpdate:function(){if(void 0!==this.optimizeThisUpdate){var e;this.optimizeThisUpdate.updateOptions&&(e=i.$.extend({},this.state.options)),this.optimizeThisUpdate.updateOptions&&(this.optimizeThisUpdate.updateData||this.optimizeThisUpdate.updateChildren)?(this.optimizeThisUpdate.updateData&&(e=i.$.extend(e,{data:this.state.data})),this.instance.option(e)):this.optimizeThisUpdate.updateData||this.optimizeThisUpdate.updateChildren?(this.instance.settings.data=this.state.data,this.instance.refresh()):this.optimizeThisUpdate.updateOptions&&this.instance.option(e),(this.optimizeThisUpdate.updateValue||this.optimizeThisUpdate.updateData||this.optimizeThisUpdate.updateChildren)&&this.instance.setVal(this.state.value,!0)}},shouldComponentUpdate:function(e,t){var s=!i.react.deepCompare(t.options,this.state.options),a=!i.react.deepCompare(t.data,this.state.data),n=!i.react.deepCompare(e.children,this.props.children),r=!i.react.deepCompare(t.value,this.state.value)&&void 0!==t.value&&!i.react.deepCompare(t.value,this.instance.getVal());return this.optimizeThisUpdate={updateOptions:s,updateData:a,updateValue:r,updateChildren:n},this.optimizeUpdate={updateOptions:!1,updateValue:!1,updateData:!1,updateChildren:!1},s||a||r||n},checkChildComponent:function(t){return 1==e.Children.count(t.props.children)&&("select"==t.props.children.type||"input"==t.props.children.type)},render:function(){var t=this.props,s=t.readOnly,a=t.disabled,n=t.data,i=t.value,r=i;return this.checkChildComponent(this)?this.props.children:void 0!==n?e.createElement("input",{defaultValue:r,type:"text",className:this.initialCssClass,readOnly:s,disabled:a}):e.createElement("select",{className:this.initialCssClass,readOnly:s,disabled:a},this.props.children)}}),function(e){function t(e,t,s,a,n,i,r){var o=new Date(e,t,s,a||0,n||0,i||0,r||0);return 23==o.getHours()&&0===(a||0)&&o.setHours(o.getHours()+2),o}var s=i,a=s.$;s.util.datetime={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:t,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:t,formatDate:function(e,t,n){if(!t)return null;var i,r,o=a.extend({},s.util.datetime.defaults,n),l=function(t){for(var s=0;i+1<e.length&&e.charAt(i+1)==t;)s++,i++;return s},c=function(e,t,s){var a=""+t;if(l(e))for(;a.length<s;)a="0"+a;return a},d=function(e,t,s,a){return l(e)?a[t]:s[t]},u="",m=!1;for(i=0;i<e.length;i++)if(m)"'"!=e.charAt(i)||l("'")?u+=e.charAt(i):m=!1;else switch(e.charAt(i)){case"d":u+=c("d",o.getDay(t),2);break;case"D":u+=d("D",t.getDay(),o.dayNamesShort,o.dayNames);break;case"o":u+=c("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":u+=c("m",o.getMonth(t)+1,2);break;case"M":u+=d("M",o.getMonth(t),o.monthNamesShort,o.monthNames);break;case"y":r=o.getYear(t),u+=l("y")?r:(r%100<10?"0":"")+r%100;break;case"h":var h=t.getHours();u+=c("h",h>12?h-12:0===h?12:h,2);break;case"H":u+=c("H",t.getHours(),2);break;case"i":u+=c("i",t.getMinutes(),2);break;case"s":u+=c("s",t.getSeconds(),2);break;case"a":u+=t.getHours()>11?o.pmText:o.amText;break;case"A":u+=t.getHours()>11?o.pmText.toUpperCase():o.amText.toUpperCase();break;case"'":l("'")?u+="'":m=!0;break;default:u+=e.charAt(i)}return u},parseDate:function(e,t,n){var i=a.extend({},s.util.datetime.defaults,n),r=i.defaultValue&&i.defaultValue.getTime?i.defaultValue:new Date;if(!e||!t)return r;if(t.getTime)return t;t="object"==typeof t?t.toString():t+"";var o,l=i.shortYearCutoff,c=i.getYear(r),d=i.getMonth(r)+1,u=i.getDay(r),m=-1,h=r.getHours(),p=r.getMinutes(),f=0,b=-1,v=!1,g=function(t){var s=o+1<e.length&&e.charAt(o+1)==t;return s&&o++,s},y=function(e){g(e);var s="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,a=new RegExp("^\\d{1,"+s+"}"),n=t.substr(w).match(a);return n?(w+=n[0].length,parseInt(n[0],10)):0},x=function(e,s,a){var n,i=g(e)?a:s;for(n=0;n<i.length;n++)if(t.substr(w,i[n].length).toLowerCase()==i[n].toLowerCase())return w+=i[n].length,n+1;return 0},C=function(){w++},w=0;for(o=0;o<e.length;o++)if(v)"'"!=e.charAt(o)||g("'")?C():v=!1;else switch(e.charAt(o)){case"d":u=y("d");break;case"D":x("D",i.dayNamesShort,i.dayNames);break;case"o":m=y("o");break;case"m":d=y("m");break;case"M":d=x("M",i.monthNamesShort,i.monthNames);break;case"y":c=y("y");break;case"H":h=y("H");break;case"h":h=y("h");break;case"i":p=y("i");break;case"s":f=y("s");break;case"a":b=x("a",[i.amText,i.pmText],[i.amText,i.pmText])-1;break;case"A":b=x("A",[i.amText,i.pmText],[i.amText,i.pmText])-1;break;case"'":g("'")?C():v=!0;break;default:C()}if(c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=("string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10))?0:-100)),m>-1)for(d=1,u=m;;){var T=32-new Date(c,d-1,32,12).getDate();if(u<=T)break;d++,u-=T}h=b==-1?h:b&&h<12?h+12:b||12!=h?h:0;var _=i.getDate(c,d-1,u,h,p,f);return i.getYear(_)!=c||i.getMonth(_)+1!=d||i.getDay(_)!=u?r:_}}}();var C=i.util.datetime;!function(e){var t=i,s=t.$,a=C.adjustedDate,n={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},r=function(i){function r(e){return e<10?"0"+e:e}function o(e){var t,s,n,i=[];if(e){for(t=0;t<e.length;t++)if(s=e[t],s.start&&s.start.getTime)for(n=new Date(s.start);n<=s.end;)i.push(a(n.getFullYear(),n.getMonth(),n.getDate())),n.setDate(n.getDate()+1);else i.push(s);return i}return e}function l(e,t,s,a){return Math.min(a,Math.floor(e/t)*t+s)}function c(e,t,s){return Math.floor((s-t)/e)*e+t}function d(e){return U.getYear(e)}function u(e){return U.getMonth(e)}function m(e){return U.getDay(e)}function h(e){var t=e.getHours();return t=se&&t>=12?t-12:t,l(t,ie,ce,me)}function p(e){return l(e.getMinutes(),re,de,he)}function f(e){return l(e.getSeconds(),oe,ue,pe)}function b(e){return e.getMilliseconds()}function v(e){return e.getHours()>11?1:0}function g(e){return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())}function y(e){return l(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),I,0,86400)}function x(t,s,a,n){var i;return L[s]===e||(i=+t[L[s]],isNaN(i))?a?ye[s](a):Y[s]!==e?Y[s]:ye[s](n):i}function w(t){var s,a=new Date((new Date).setHours(0,0,0,0));if(null===t)return t;L.dd!==e&&(s=t[L.dd].split("-"),s=new Date(s[0],s[1]-1,s[2])),L.tt!==e&&(s=s||a,s=new Date(s.getTime()+t[L.tt]%86400*1e3));var n=x(t,"y",s,a),i=x(t,"m",s,a),r=Math.min(x(t,"d",s,a),U.getMaxDayOfMonth(n,i)),o=x(t,"h",s,a);return U.getDate(n,i,r,se&&x(t,"a",s,a)?o+12:o,x(t,"i",s,a),x(t,"s",s,a),x(t,"u",s,a))}function T(t,s){var a,n,i=["y","m","d","a","h","i","s","u","dd","tt"],r=[];if(null===t||t===e)return t;for(a=0;a<i.length;a++)n=i[a],L[n]!==e&&(r[L[n]]=ye[n](t)),s&&(Y[n]=ye[n](t));return r}function _(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function M(e){return{value:e,display:(/yy/i.test(G)?e:(e+"").substr(2,2))+(U.yearSuffix||"")}}function D(e){return e}function S(t){var s=/d/i.test(t);return{label:"",cssClass:"mbsc-dt-whl-date",min:Q?_(g(Q),s):e,max:ee?_(g(ee),s):e,data:function(e){var a=new Date((new Date).setHours(0,0,0,0)),n=s?new Date(864e5*e):new Date(1970,e,1);return s&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:s&&!O(n,!0),value:g(n),display:a.getTime()==n.getTime()?U.todayText:C.formatDate(t,n,U)}},getIndex:function(e){return _(e,s)}}}function k(e){var t,s,a,n=[];for(/s/i.test(e)?s=oe:/i/i.test(e)?s=60*re:/h/i.test(e)&&(s=3600*ie),I=ve.tt=s,t=0;t<86400;t+=s)a=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:C.formatDate(e,a,U)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function V(e,t){var s,a,n=!1,i=!1,r=0,o=0,l=Q?w(T(Q)):-(1/0),c=ee?w(T(ee)):1/0;if(O(e))return e;if(e<l&&(e=l),e>c&&(e=c),s=e,a=e,2!==t)for(n=O(s);!n&&s<c;)s=new Date(s.getTime()+864e5),n=O(s),r++;if(1!==t)for(i=O(a);!i&&a>l;)a=new Date(a.getTime()-864e5),i=O(a),o++;return 1===t&&n?s:2===t&&i?a:o<=r&&i?a:s}function O(e,t){return!(!t&&e<Q)&&(!(!t&&e>ee)&&(!!P(e,z)||!P(e,R)))}function P(e,t){var s,a,n;if(t)for(a=0;a<t.length;a++)if(s=t[a],n=s+"",!s.start)if(s.getTime){if(e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate())return!0}else if(n.match(/w/i)){if((n=+n.replace("w",""))==e.getDay())return!0}else if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0;return!1}function N(e,t,s,a,n,i,r){var o,l,c,d;if(e)for(l=0;l<e.length;l++)if(o=e[l],d=o+"",!o.start)if(o.getTime)U.getYear(o)==t&&U.getMonth(o)==s&&(i[U.getDay(o)]=r);else if(d.match(/w/i))for(d=+d.replace("w",""),c=d-a;c<n;c+=7)c>=0&&(i[c+1]=r);else d=d.split("/"),d[1]?d[0]-1==s&&(i[d[1]]=r):i[d[0]]=r}function A(t,s,a,n,i,r,o,c){var d,u,m,h,p,f,b,v,g,y,x,C,w,T,_,M,D,S,k,V,O={},P=U.getDate(n,i,r),N=["a","h","i","s"];if(t){for(b=0;b<t.length;b++)x=t[b],x.start&&(x.apply=!1,m=x.d,D=m+"",S=D.split("/"),m&&(m.getTime&&n==U.getYear(m)&&i==U.getMonth(m)&&r==U.getDay(m)||!D.match(/w/i)&&(S[1]&&r==S[1]&&i==S[0]-1||!S[1]&&r==S[0])||D.match(/w/i)&&P.getDay()==+D.replace("w",""))&&(x.apply=!0,O[P]=!0));for(b=0;b<t.length;b++)if(x=t[b],d=0,M=0,v=fe[a],g=be[a],T=!0,_=!0,u=!1,x.start&&(x.apply||!x.d&&!O[P])){for(C=x.start.split(":"),w=x.end.split(":"),y=0;y<3;y++)C[y]===e&&(C[y]=0),w[y]===e&&(w[y]=59),C[y]=+C[y],w[y]=+w[y];if("tt"==a)v=l(Math.round((new Date(P).setHours(C[0],C[1],C[2])-new Date(P).setHours(0,0,0,0))/1e3),I,0,86400),g=l(Math.round((new Date(P).setHours(w[0],w[1],w[2])-new Date(P).setHours(0,0,0,0))/1e3),I,0,86400);else{for(C.unshift(C[0]>11?1:0),w.unshift(w[0]>11?1:0),se&&(C[1]>=12&&(C[1]=C[1]-12),w[1]>=12&&(w[1]=w[1]-12)),y=0;y<s;y++)H[y]!==e&&(k=l(C[y],ve[N[y]],fe[N[y]],be[N[y]]),V=l(w[y],ve[N[y]],fe[N[y]],be[N[y]]),h=0,p=0,f=0,se&&1==y&&(h=C[0]?12:0,p=w[0]?12:0,f=H[0]?12:0),T||(k=0),_||(V=be[N[y]]),(T||_)&&k+h<H[y]+f&&H[y]+f<V+p&&(u=!0),H[y]!=k&&(T=!1),H[y]!=V&&(_=!1));if(!c)for(y=s+1;y<4;y++)C[y]>0&&(d=ve[a]),w[y]<be[N[y]]&&(M=ve[a]);u||(k=l(C[s],ve[a],fe[a],be[a])+d,V=l(w[s],ve[a],fe[a],be[a])-M,T&&(v=k),_&&(g=V))}if(T||_||u)for(y=v;y<=g;y+=ve[a])o[y]=!c}}}var I,F,E,L={},Y={},H=[],W=function(e){var t,s,a,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,s=e.attr("min"),a=e.attr("max"),s&&(n.min=C.parseDate(t,s)),a&&(n.max=C.parseDate(t,a))}return n}(s(this)),$=s.extend({},i.settings),U=s.extend(i.settings,t.util.datetime.defaults,n,W,$),R=o(U.invalid),z=o(U.valid),j=U.preset,q="datetime"==j?U.dateFormat+U.separator+U.timeFormat:"time"==j?U.timeFormat:U.dateFormat,B=W.format||q,X=U.dateWheels||U.dateFormat,K=U.timeWheels||U.timeFormat,G=U.dateWheels||U.dateDisplay,Z=K,J=U.baseTheme||U.theme,Q=U.min,ee=U.max,te=/time/i.test(j),se=/h/.test(Z),ae=/D/.test(G),ne=U.steps||{},ie=ne.hour||U.stepHour||1,re=ne.minute||U.stepMinute||1,oe=ne.second||U.stepSecond||1,le=ne.zeroBased,ce=le||!Q?0:Q.getHours()%ie,de=le||!Q?0:Q.getMinutes()%re,ue=le||!Q?0:Q.getSeconds()%oe,me=c(ie,ce,se?11:23),he=c(re,de,59),pe=c(re,de,59),fe={y:Q?Q.getFullYear():-(1/0),m:0,d:1,h:ce,i:de,s:ue,a:0,tt:0},be={y:ee?ee.getFullYear():1/0,m:11,d:31,h:me,i:he,s:pe,a:1,tt:86400},ve={y:1,m:1,d:1,h:ie,i:re,s:oe,a:1,tt:1},ge={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},ye={y:d,m:u,d:m,h:h,i:p,s:f,u:b,a:v,dd:g,tt:y};return i.getDate=i.getVal=function(e){return i._hasValue||e?w(i.getArrayVal(e)):null},i.setDate=function(e,t,s,a,n){i.setArrayVal(T(e),t,n,a,s)},E=function(){var t,s,a,n,i,o,l,c,d=0,u=[],m=[],h=[];if(j.match(/date/i)){for(t=X.split(/\|/.test(X)?"|":""),n=0;n<t.length;n++)if(a=t[n],o=0,a.length)if(/y/i.test(a)&&o++,/m/i.test(a)&&o++,/d/i.test(a)&&o++,o>1&&L.dd===e)L.dd=d,d++,m.push(S(a)),h=m,F=!0;else if(/y/i.test(a)&&L.y===e)L.y=d,d++,m.push({cssClass:"mbsc-dt-whl-y",label:U.yearText,min:Q?U.getYear(Q):e,max:ee?U.getYear(ee):e,data:M,getIndex:D});else if(/m/i.test(a)&&L.m===e){for(L.m=d,l=[],d++,i=0;i<12;i++)c=G.replace(/[dy]/gi,"").replace(/mm/,r(i+1)+(U.monthSuffix||"")).replace(/m/,i+1+(U.monthSuffix||"")),l.push({value:i,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+U.monthNames[i]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+U.monthNamesShort[i]+"</span>")});m.push({cssClass:"mbsc-dt-whl-m",label:U.monthText,data:l})}else if(/d/i.test(a)&&L.d===e){for(L.d=d,l=[],d++,i=1;i<32;i++)l.push({value:i,display:(/dd/i.test(G)?r(i):i)+(U.daySuffix||"")});m.push({cssClass:"mbsc-dt-whl-d",label:U.dayText,data:l})}u.push(m)}if(j.match(/time/i)){for(s=K.split(/\|/.test(K)?"|":""),n=0;n<s.length;n++)if(a=s[n],o=0,a.length&&(/h/i.test(a)&&o++,/i/i.test(a)&&o++,/s/i.test(a)&&o++,/a/i.test(a)&&o++),o>1&&L.tt===e)L.tt=d,d++,h.push(k(a));else if(/h/i.test(a)&&L.h===e){for(l=[],L.h=d,d++,i=ce;i<(se?12:24);i+=ie)l.push({value:i,display:se&&0===i?12:/hh/i.test(Z)?r(i):i});h.push({cssClass:"mbsc-dt-whl-h",label:U.hourText,data:l})}else if(/i/i.test(a)&&L.i===e){for(l=[],L.i=d,d++,i=de;i<60;i+=re)l.push({value:i,display:/ii/i.test(Z)?r(i):i});h.push({cssClass:"mbsc-dt-whl-i",label:U.minuteText,data:l})}else if(/s/i.test(a)&&L.s===e){for(l=[],L.s=d,d++,i=ue;i<60;i+=oe)l.push({value:i,display:/ss/i.test(Z)?r(i):i});h.push({cssClass:"mbsc-dt-whl-s",label:U.secText,data:l})}else/a/i.test(a)&&L.a===e&&(L.a=d,d++,h.push({cssClass:"mbsc-dt-whl-a",label:U.ampmText,data:/A/.test(a)?[{value:0,display:U.amText.toUpperCase()},{value:1,display:U.pmText.toUpperCase()}]:[{value:0,display:U.amText},{value:1,display:U.pmText}]}));h!=m&&u.push(h)}return u}(),i.format=q,i.order=L,i.handlers.now=function(){i.setDate(new Date,i.live,1e3,!0,!0)},i.buttons.now={text:U.nowText,icon:U.nowIcon,handler:"now"},{minWidth:F&&te?ge[J]:e,compClass:"mbsc-dt",wheels:E,headerText:!!U.headerText&&function(){return C.formatDate(q,w(i.getArrayVal(!0)),U)},formatValue:function(e){return C.formatDate(B,w(e),U)},parseValue:function(e){return e||(Y={}),T(e?C.parseDate(B,e,U):U.defaultValue&&U.defaultValue.getTime?U.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(t){var a,n,r,o,l=t.values,c=t.index,d=t.direction,u=i.settings.wheels[0][L.d],m=V(w(l),d),h=T(m),p=[],f={},b=ye.y(m),v=ye.m(m),g=U.getMaxDayOfMonth(b,v),y=!0,x=!0;if(s.each(["dd","y","m","d","tt","a","h","i","s"],function(t,a){if(L[a]!==e){var i=fe[a],r=be[a],o=ye[a](m);if(p[L[a]]=[],y&&Q&&(i=ye[a](Q)),x&&ee&&(r=ye[a](ee)),"y"!=a&&"dd"!=a)for(n=fe[a];n<=be[a];n+=ve[a])(n<i||n>r)&&p[L[a]].push(n);if(o<i&&(o=i),o>r&&(o=r),y&&(y=o==i),x&&(x=o==r),"d"==a){var l=U.getDate(b,v,1).getDay(),c={};N(R,b,v,l,g,c,1),N(z,b,v,l,g,c,0),s.each(c,function(e,t){t&&p[L[a]].push(e)})}}}),te&&s.each(["a","h","i","s","tt"],function(t,a){var n=ye[a](m),r=ye.d(m),o={};L[a]!==e&&(A(R,t,a,b,v,r,o,0),A(z,t,a,b,v,r,o,1),s.each(o,function(e,t){t&&p[L[a]].push(e)}),H[t]=i.getValidValue(L[a],n,d,o))}),u&&(u._length!==g||ae&&(c===e||c===L.y||c===L.m))){for(f[L.d]=u,u.data=[],a=1;a<=g;a++)o=U.getDate(b,v,a).getDay(),r=G.replace(/[my]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(U.daySuffix||"")).replace(/d/,a+(U.daySuffix||"")),u.data.push({value:a,display:r.match(/DD/)?r.replace(/DD/,'<span class="mbsc-dt-day">'+U.dayNames[o]+"</span>"):r.replace(/D/,'<span class="mbsc-dt-day">'+U.dayNamesShort[o]+"</span>")});i._tempWheelArray[L.d]=h[L.d],i.changeWheel(f)}return{disabled:p,valid:h}}}};s.each(["date","time","datetime"],function(e,s){t.presets.scroller[s]=r})}(),function(){i.$.each(["date","time","datetime"],function(e,t){i.presetShort(t)})}();var w=[i.react.mixins.ScrollerPropTypes,i.react.mixins.DatetimePropTypes];i.Datetime=i.react.createComponent({preset:"datetime"},w),i.Date=i.react.createComponent({preset:"date"},w),i.Time=i.react.createComponent({preset:"time"},w),function(e){var t=i,s=t.$,a={inputClass:"",values:5,order:"desc",style:"icon",invalid:[],icon:{filled:"star3",empty:"star3"}};t.presetShort("rating"),t.presets.scroller.rating=function(e){var n,i,r,o,l,c,d,u,m,h,p=s.extend({},e.settings),f=s.extend(e.settings,a,p),b=s(this),v=this.id+"_dummy",g=s('label[for="'+this.id+'"]').attr("for",v),y=void 0!==f.label?f.label:g.length?g.text():b.attr("name"),x=f.defaultValue,C=[[]],w={data:[],label:y,circular:!1},T={},_=[],M=!1,D="grade"===f.style?"circle":"icon";if(b.is("select")&&(f.values={},s("option",b).each(function(){f.values[s(this).val()]=s(this).text()}),s("#"+v).remove()),s.isArray(f.values))for(i=0;i<f.values.length;i++)u=+f.values[i],isNaN(u)&&(u=i+1,M=!0),_.push({order:u,key:f.values[i],value:f.values[i]});else if(s.isPlainObject(f.values)){i=1,M=!0;for(m in f.values)u=+m,isNaN(u)&&(u=i),_.push({order:u,key:m,value:f.values[m]}),i++}else for(i=1;i<=f.values;i++)_.push({order:i,key:i,value:i});for(void 0===f.showText&&M&&(f.showText=!0),void 0===f.icon.empty&&(f.icon.empty=f.icon.filled),_.sort(function(e,t){return"desc"==f.order?t.order-e.order:e.order-t.order}),h="desc"==f.order?_[0].order:_[_.length-1].order,i=0;i<_.length;i++){for(d=_[i].order,l=_[i].key,c=_[i].value,o="",r=1;r<d+1;r++)o+='<span class="mbsc-rating-'+D+("circle"===D?"":" mbsc-ic mbsc-ic-"+f.icon.filled)+' ">'+("circle"==D?r:" ")+"</span>";for(r=d+1;r<=h;r++)o+='<span class="mbsc-rating-'+D+("circle"===D?" mbsc-rating-circle-unf":" mbsc-ic mbsc-ic-"+(f.icon.empty?f.icon.empty+" mbsc-rating-icon-unf":"")+(f.icon.empty===f.icon.filled?" mbsc-rating-icon-same":""))+'"></span>';void 0===x&&(x=l),o+=f.showText?'<span class="mbsc-rating-txt">'+c+"</span>":"",w.data.push({value:l,display:o,label:c}),T[l]=c}return b.is("select")&&(n=s('<input type="text" id="'+v+'" value="'+T[b.val()]+'" class="'+f.inputClass+'" placeholder="'+(f.placeholder||"")+'" readonly />').insertBefore(b)),C[0].push(w),n&&e.attachShow(n),b.is("select")&&b.hide().closest(".ui-field-contain").trigger("create"),e.getVal=function(s){var a=e._hasValue?e[s?"_tempWheelArray":"_wheelArray"][0]:null;return t.util.isNumeric(a)?+a:a},{anchor:n,wheels:C,headerText:!1,compClass:"mbsc-rating",setOnTap:!0,formatValue:function(e){return T[e[0]]},parseValue:function(e){var t;for(t in T)if(n&&t==e||!n&&T[t]==e)return[t];return[x]},validate:function(){return{disabled:[f.invalid]}},onFill:function(t){n&&(n.val(t.valueText),b.val(e._tempWheelArray[0]))},onDestroy:function(){n&&n.remove(),b.show()}}}}();var T=e.PropTypes,_=T.string,M=T.array,D=T.bool,S=T.number;i.react.mixins.RatingPropTypes={propTypes:{defaultValue:S,icon:T.shape({filled:_.isRequired,empty:_}),inputClass:_,invalid:M,label:_,order:T.oneOf(["desc","asc"]),placeholder:_,showText:D,style:T.oneOf(["star","grade"]),values:T.oneOfType([S,M,T.object])}},i.Rating=i.react.createComponent({preset:"rating"},[i.react.mixins.ScrollerPropTypes,i.react.mixins.RatingPropTypes]),function(e){var t=i,s=t.$,a={invalid:[],showInput:!0,inputClass:""};t.presets.scroller.list=function(t){function n(e,t,s){for(var a=0,n=[];a<e;)n[a]=i(s,a,t),a++;return n}function i(e,t,s){for(var a,n=0,i=s,r=[];n<t;){var o=e[n];for(a in i)if(i[a].key==o){i=i[a].children;break}n++}for(n=0;n<i.length;)i[n].invalid&&r.push(i[n].key),n++;return r}function r(e,t){for(var s=[];e;)s[--e]=!0;return s[t]=!1,s}function o(t,s,a){var n,i,r,o=0,d=[[]],u=S;if(s)for(n=0;n<s;n++)x?d[0][n]={}:d[n]=[{}];for(;o<t.length;){for(x?d[0][o]=c(u,k[o]):d[o]=[c(u,k[o])],n=0,r=e;n<u.length&&r===e;)u[n].key==t[o]&&(a!==e&&o<=a||a===e)&&(r=n),n++;if(r!==e&&u[r].children)o++,u=u[r].children;else{if(!(i=l(u))||!i.children)return d;o++,u=i.children}}return d}function l(e,t){if(!e)return!1;for(var s,a=0;a<e.length;)if(!(s=e[a++]).invalid)return t?a-1:s;return!1}function c(e,t){for(var s={data:[],label:t},a=0;a<e.length;)s.data.push({value:e[a].key,display:e[a].value}),a++;return s}function d(e){t._isVisible&&s(".mbsc-sc-whl-w",t._markup).css("display","").slice(e).hide()}function u(t,s){var a,n,i,r=[],o=S,c=0,d=!1;if(t[c]!==e&&c<=s)for(a=0,n=t[c],i=e;a<o.length&&i===e;)o[a].key!=t[c]||o[a].invalid||(i=a),a++;else i=l(o,!0),n=o[i].key;for(d=i!==e&&o[i].children,r[c]=n;d;){if(o=o[i].children,c++,d=!1,i=e,t[c]!==e&&c<=s)for(a=0,n=t[c],i=e;a<o.length&&i===e;)o[a].key!=t[c]||o[a].invalid||(i=a),a++;else i=l(o,!0),i=i===!1?e:i,n=o[i].key;d=!(i===e||!l(o[i].children))&&o[i].children,r[c]=n}return{lvl:c+1,nVector:r}}function m(a){var n=[];return _=_>M++?_:M,a.children("li").each(function(a){var i=s(this),r=i.clone();r.children("ul,ol").remove();var o=t._processMarkup?t._processMarkup(r):r.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),l=!!i.attr("data-invalid"),c={key:i.attr("data-val")===e||null===i.attr("data-val")?a:i.attr("data-val"),value:o,invalid:l,children:null},d=i.children("ul,ol");d.length&&(c.children=m(d)),n.push(c)}),M--,n}function h(e,s,a){var n,i=(s||0)+1,r=[],l={},c={};for(l=o(e,null,s),n=0;n<e.length;n++)t._tempWheelArray[n]=e[n]=a.nVector[n]||0;for(;i<a.lvl;)c[i]=x?l[0][i]:l[i][0],r.push(i++);d(a.lvl),D=e.slice(0),r.length&&(f=!0,t.changeWheel(c))}var p,f,b,v=s.extend({},t.settings),g=s.extend(t.settings,a,v),y=g.layout||(/top|bottom/.test(g.display)?"liquid":""),x="liquid"==y,C=g.readonly,w=s(this),T=this.id+"_dummy",_=0,M=0,D=[],S=g.wheelArray||m(w),k=function(e){var t,s=[];for(t=0;t<e;t++)s[t]=g.labels&&g.labels[t]?g.labels[t]:t;return s}(_),V=function(e){for(var t,s=[],a=e,n=!0,i=0;n;)t=l(a),s[i++]=t.key,(n=t.children)&&(a=n);return s}(S),O=o(V,_);return s("#"+T).remove(),g.showInput&&(p=s('<input type="text" id="'+T+'" value="" class="'+g.inputClass+'" placeholder="'+(g.placeholder||"")+'" readonly />').insertBefore(w),g.anchor=p,t.attachShow(p)),g.wheelArray||w.hide(),{wheels:O,layout:y,headerText:!1,setOnTap:1==_,formatValue:function(t){return b===e&&(b=u(t,t.length).lvl),t.slice(0,b).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(g.defaultValue||V).slice(0)},onBeforeShow:function(){var e=t.getArrayVal(!0);D=e.slice(0),g.wheels=o(e,_,_),f=!0},onWheelGestureStart:function(e){g.readonly=r(_,e.index)},onWheelAnimationEnd:function(e){var s=e.index,a=t.getArrayVal(!0),n=u(a,s);b=n.lvl,g.readonly=C,a[s]!=D[s]&&h(a,s,n)},onFill:function(t){b=e,p&&p.val(t.valueText)},validate:function(t){var s=t.values,a=t.index,i=u(s,s.length);return b=i.lvl,a===e&&(d(i.lvl),f||h(s,a,i)),f=!1,{disabled:n(b,S,s)}},onDestroy:function(){p&&p.remove(),w.show()}}}}(),function(){var e=i,t=e.$,s=e.presets.scroller;e.presetShort("image"),s.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var s=e.attr("data-icon");return e.children().each(function(e,s){s=t(s),s.is("img")?t('<div class="mbsc-img-c"></div>').insertAfter(s).append(s.addClass("mbsc-img")):s.is("p")&&s.addClass("mbsc-img-txt")}),s&&e.prepend('<div class="mbsc-ic mbsc-ic-'+s+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),s.list.call(this,e)}}();var k=e.PropTypes;i.react.mixins.ImagePropTypes={propTypes:{defaultValue:k.arrayOf(k.number),enhance:k.bool,inputClass:k.string,invalid:k.array,labels:k.arrayOf(k.string),placeholder:k.string,showInput:k.bool}},i.Image=i.react.createListComponent({preset:"image"},[i.react.mixins.ImagePropTypes]),function(){var e=i,t=e.presets.scroller;t.treelist=t.list,e.presetShort("list"),e.presetShort("treelist")}();var V=e.PropTypes,O=V.array,P=V.string;i.react.mixins.TreelistPropTypes={propTypes:{defaultValue:O,inputClass:P,invalid:O,labels:V.arrayOf(P),placeholder:P,showInput:V.bool}},i.Treelist=i.react.createListComponent({preset:"treelist"},[i.react.mixins.TreelistPropTypes]),function(e,t,s){var a=i,n=a.$,r=a.presets.scroller,o=a.util,l=o.datetime.adjustedDate,c=o.jsPrefix,d=o.testTouch,u=o.getCoord,m=o.animEnd,h=new Date,p={min:new Date(h.getFullYear()-100,0,1),max:new Date(h.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};r.calbase=function(e){function i(e){var s;Ie=n(this),Fe=!1,"keydown"!=e.type?(Ne=u(e,"X"),Ae=u(e,"Y"),s=d(e,this)):s=32===e.keyCode,Ee||!s||Ie.hasClass("mbsc-fr-btn-d")||(Ee=!0,setTimeout(b,100),"mousedown"==e.type&&n(t).on("mousemove",h).on("mouseup",f))}function h(e){(Math.abs(Ne-u(e,"X"))>7||Math.abs(Ae-u(e,"Y"))>7)&&(Ee=!1,Ie.removeClass("mbsc-fr-btn-a"))}function f(e){"touchend"==e.type&&e.preventDefault(),Ie&&!Fe&&b(),Ee=!1,"mouseup"==e.type&&n(t).off("mousemove",h).off("mouseup",f)}function b(){Fe=!0,Ie.hasClass("mbsc-cal-prev-m")?F():Ie.hasClass("mbsc-cal-next-m")?I():Ie.hasClass("mbsc-cal-prev-y")?L(Ie):Ie.hasClass("mbsc-cal-next-y")&&E(Ie)}function v(e){return!(e<l(xe.getFullYear(),xe.getMonth(),xe.getDate()))&&(!(e>Ce)&&(ke[e]===s||Se[e]!==s))}function g(e,t,s){var a,i,r,o,c={},d=mt+He;return e&&n.each(e,function(e,n){if(a=n.d||n.start||n,i=a+"",n.start&&n.end)for(o=new Date(n.start);o<=n.end;)r=l(o.getFullYear(),o.getMonth(),o.getDate()),c[r]=c[r]||[],c[r].push(n),o.setDate(o.getDate()+1);else if(a.getTime)r=l(a.getFullYear(),a.getMonth(),a.getDate()),c[r]=c[r]||[],c[r].push(n);else if(i.match(/w/i)){var u=+i.replace("w",""),m=0,h=tt.getDate(t,s-mt-We,1).getDay();for(tt.firstDay-h+1>1&&(m=7),j=0;j<5*Ye;j++)r=tt.getDate(t,s-mt-We,7*j-m-h+1+u),c[r]=c[r]||[],c[r].push(n)}else if(i=i.split("/"),i[1])s+d>=11&&(r=tt.getDate(t+1,i[0]-1,i[1]),c[r]=c[r]||[],c[r].push(n)),s-d<=1&&(r=tt.getDate(t-1,i[0]-1,i[1]),c[r]=c[r]||[],c[r].push(n)),r=tt.getDate(t,i[0]-1,i[1]),c[r]=c[r]||[],c[r].push(n);else for(j=0;j<Ye;j++)r=tt.getDate(t,s-mt-We+j,i[0]),tt.getDay(r)==i[0]&&(c[r]=c[r]||[],c[r].push(n))}),c}function y(t,s){ke=g(tt.invalid,t,s),Se=g(tt.valid,t,s),e.onGenMonth(t,s)}function x(e,t,s,a,n,i,r){var o='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(tt.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(z=1;z<=t;z++)o+=z<=12||z>s?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[z-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(a+z-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[z-13]:a+z-13+n)+"</div></div></div>",z<t&&(z%12==0?o+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(dt?"top":ot?"right":"left")+":"+100*Math.round(z/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':z%3==0&&(o+='</div><div class="mbsc-cal-sc-row">'));return o+="</div></div></div></div></div>"}function C(t,s){var a,i,r,o,l,c,d,u,m,h,p,f,b,g,y,x,C=1,w=0,T=tt.getDate(t,s,1),_=tt.getYear(T),M=tt.getMonth(T),D=null!==tt.defaultValue||e._hasValue?e.getDate(!0):null,S=tt.getDate(_,M,1).getDay(),k='<div class="mbsc-cal-table">',V='<div class="mbsc-cal-week-nr-c">';for(tt.firstDay-S+1>1&&(w=7),x=0;x<42;x++)y=x+tt.firstDay-w,a=tt.getDate(_,M,y-S+1),r=a.getFullYear(),o=a.getMonth(),l=a.getDate(),c=tt.getMonth(a),d=tt.getDay(a),g=tt.getMaxDayOfMonth(r,o),u=r+"-"+o+"-"+l,m=n.extend({valid:v(a),selected:D&&D.getFullYear()===r&&D.getMonth()===o&&D.getDate()===l},e.getDayProps(a,D)),h=m.valid,p=m.selected,i=m.cssClass,f=new Date(a).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==M,Je[u]=m,x%7==0&&(k+=(x?"</div>":"")+'<div class="mbsc-cal-row'+(tt.highlight&&D&&D-a>=0&&D-a<6048e5?" mbsc-cal-week-hl":"")+'">'),at&&1==a.getDay()&&("month"==at&&b&&C>1?C=1==l?1:2:"year"==at&&(C=tt.getWeekNumber(a)),V+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+C+"</div></div>",C++),k+='<div role="button" tabindex="-1" aria-label="'+(f?tt.todayText+", ":"")+tt.dayNames[a.getDay()]+", "+tt.monthNames[c]+" "+d+" "+(m.ariaLabel?", "+m.ariaLabel:"")+'"'+(b&&!Ue?' aria-hidden="true"':"")+(p?' aria-selected="true"':"")+(h?"":' aria-disabled="true"')+' data-day="'+y%7+'" data-full="'+u+'"class="mbsc-cal-day '+(tt.dayClass||"")+(p?" mbsc-cal-day-sel":"")+(f?" "+tt.todayClass:"")+(i?" "+i:"")+(1==d?" mbsc-cal-day-first":"")+(d==g?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(h?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(p?gt:"")+" "+(tt.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+d+"</div>"+(m.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return k+="</div></div>"+V+"</div>"}function w(e,t,s){var a=tt.getDate(e,t,1),i=tt.getYear(a),r=tt.getMonth(a),o=i+vt;if(ut){if(je&&je.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),qe&&qe.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),je=n('.mbsc-cal-year-s[data-val="'+i+'"]',X).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),qe=n('.mbsc-cal-month-s[data-val="'+r+'"]',X).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),je.find(".mbsc-cal-sc-cell-i").addClass(gt),qe.find(".mbsc-cal-sc-cell-i").addClass(gt),ze&&ze.scroll(je,s),n(".mbsc-cal-month-s",X).removeClass("mbsc-fr-btn-d"),
i===pe)for(z=0;z<be;z++)n('.mbsc-cal-month-s[data-val="'+z+'"]',X).addClass("mbsc-fr-btn-d");if(i===fe)for(z=ve+1;z<=12;z++)n('.mbsc-cal-month-s[data-val="'+z+'"]',X).addClass("mbsc-fr-btn-d")}for(1==me.length&&me.attr("aria-label",i).html(o),z=0;z<Le;++z)a=tt.getDate(e,t-We+z,1),i=tt.getYear(a),r=tt.getMonth(a),o=i+vt,n(de[z]).attr("aria-label",tt.monthNames[r]+(ht?"":" "+i)).html((!ht&&he<ue?o+" ":"")+oe[r]+(!ht&&he>ue?" "+o:"")),me.length>1&&n(me[z]).html(o);tt.getDate(e,t-We-1,1)<ge?_(n(".mbsc-cal-prev-m",X)):T(n(".mbsc-cal-prev-m",X)),tt.getDate(e,t+Le-We,1)>ye?_(n(".mbsc-cal-next-m",X)):T(n(".mbsc-cal-next-m",X)),tt.getDate(e,t,1).getFullYear()<=ge.getFullYear()?_(n(".mbsc-cal-prev-y",X)):T(n(".mbsc-cal-prev-y",X)),tt.getDate(e,t,1).getFullYear()>=ye.getFullYear()?_(n(".mbsc-cal-next-y",X)):T(n(".mbsc-cal-next-y",X))}function T(e){e.removeClass(Ct).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function _(e){e.addClass(Ct).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function M(t){e.trigger("onDayHighlight",{date:t}),tt.highlight&&(n(".mbsc-cal-day-sel .mbsc-cal-day-i",G).removeClass(gt),n(".mbsc-cal-day-sel",G).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),n(".mbsc-cal-week-hl",G).removeClass("mbsc-cal-week-hl"),(null!==tt.defaultValue||e._hasValue)&&n('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',G).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(gt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function D(t,s){if(te&&("calendar"===Oe||s)){var a,n,i=tt.getDate(Te,_e,1),r=Math.abs(12*(tt.getYear(t)-tt.getYear(i))+tt.getMonth(t)-tt.getMonth(i));e.needsSlide&&r&&(Te=tt.getYear(t),_e=tt.getMonth(t),t>i?(n=r>mt-We+Le-1,_e-=n?0:r-mt,a="next"):t<i&&(n=r>mt+We,_e+=n?0:r-mt,a="prev"),O(Te,_e,a,Math.min(r,mt),n,!0)),s||(we=t,M(t)),e.needsSlide=!0}}function S(t,a,n){for(n||e.trigger("onMonthLoading",{year:t,month:a}),y(t,a),z=0;z<Ye;z++)Ke[z].html(C(t,a-We-mt+z));V(),$e=s,e.trigger("onMonthLoaded",{year:t,month:a})}function k(e,t){for(var s=mt,a=mt;a&&tt.getDate(e,t+a+Le-We-1,1)>ye;)a--;for(;s&&tt.getDate(e,t-s-We,1)<ge;)s--;n.extend(le.settings,{contSize:Le*J,snap:J,minScroll:Q-(ot?s:a)*J,maxScroll:Q+(ot?a:s)*J}),le.refresh()}function V(){at&&ne.html(n(".mbsc-cal-week-nr-c",Ke[mt]).html()),n(".mbsc-cal-slide-a .mbsc-cal-day",Z).attr("tabindex",0)}function O(t,a,i,r,o,l,c){if(t&&Ge.push({y:t,m:a,dir:i,slideNr:r,load:o,active:l,callback:c}),!Pe){var d,u=Ge.shift();if(t=u.y,a=u.m,i="next"===u.dir,r=u.slideNr,o=u.load,l=u.active,c=u.callback||Qe,d=tt.getDate(t,a,1),t=tt.getYear(d),a=tt.getMonth(d),Pe=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:a}),e.trigger("onMonthLoading",{year:t,month:a}),y(t,a),o)for(z=0;z<Le;z++)Ke[i?Ye-Le+z:z].html(C(t,a-We+z));l&&Xe.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(tt.monthNames[a]+" "+t),w(t,a,200),Q=i?Q-J*r*lt:Q+J*r*lt,le.scroll(Q,l?200:0,!1,function(){var l;if(Ke.length){if(Xe.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),i)for(l=Ke.splice(0,r),z=0;z<r;z++)Ke.push(l[z]),N(Ke[Ke.length-1],+Ke[Ke.length-2].attr("data-curr")+100*lt);else for(l=Ke.splice(Ye-r,r),z=r-1;z>=0;z--)Ke.unshift(l[z]),N(Ke[0],+Ke[1].attr("data-curr")-100*lt);for(z=0;z<r;z++)Ke[i?Ye-r+z:z].html(C(t,a-We-mt+z+(i?Ye-r:0))),o&&Ke[i?z:Ye-r+z].html(C(t,a-We-mt+z+(i?0:Ye-r)));for(z=0;z<Le;z++)Ke[mt+z].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");k(t,a),Pe=!1}Ge.length?setTimeout(function(){O()},10):(Te=t,_e=a,e.changing=!1,n(".mbsc-cal-day",Z).attr("tabindex",-1),V(),$e!==s?S(t,a,$e):e.trigger("onMonthLoaded",{year:t,month:a}),c())})},10)}}function P(){var t=n(this),s=e.live,a=e.getDate(!0),i=t.attr("data-full"),r=i.split("-"),o=l(r[0],r[1],r[2]),c=l(o.getFullYear(),o.getMonth(),o.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),d=t.hasClass("mbsc-cal-day-sel");!Ue&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",n.extend(Je[i],{date:c,target:this,selected:d}))!==!1&&(e.needsSlide=!1,ee=!0,e.setDate(c,s,.2,!s,!0),tt.outerMonthChange&&(Ee=!0,o<tt.getDate(Te,_e-We,1)?F():o>tt.getDate(Te,_e-We+Le,0)&&I(),Ee=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function N(e,t){e.attr("data-curr",t),e[0].style[c+"Transform"]="translate3d("+(dt?"0,"+t+"%,":t+"%,0,")+"0)"}function A(t){e.isVisible()&&te&&(e.changing?$e=t:S(Te,_e,t))}function I(){Ee&&tt.getDate(Te,_e+Le-We,1)<=ye&&O(Te,++_e,"next",1,!1,!0,I)}function F(){Ee&&tt.getDate(Te,_e-We-1,1)>=ge&&O(Te,--_e,"prev",1,!1,!0,F)}function E(e){Ee&&tt.getDate(Te,_e,1)<=tt.getDate(tt.getYear(ye)-1,tt.getMonth(ye)-He,1)?O(++Te,_e,"next",mt,!0,!0,function(){E(e)}):Ee&&!e.hasClass("mbsc-fr-btn-d")&&O(tt.getYear(ye),tt.getMonth(ye)-He,"next",mt,!0,!0)}function L(e){Ee&&tt.getDate(Te,_e,1)>=tt.getDate(tt.getYear(ge)+1,tt.getMonth(ge)+We,1)?O(--Te,_e,"prev",mt,!0,!0,function(){L(e)}):Ee&&!e.hasClass("mbsc-fr-btn-d")&&O(tt.getYear(ge),tt.getMonth(ge)+We,"prev",mt,!0,!0)}function Y(t,s){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(s?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function H(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function W(e,t){(t||e).hasClass("mbsc-cal-v")?H(e):Y(e)}function $(){n(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function U(e){return e[0].innerWidth||e.innerWidth()}var R,z,j,q,B,X,K,G,Z,J,Q,ee,te,se,ae,ne,ie,re,oe,le,ce,de,ue,me,he,pe,fe,be,ve,ge,ye,xe,Ce,we,Te,_e,Me,De,Se,ke,Ve,Oe,Pe,Ne,Ae,Ie,Fe,Ee,Le,Ye,He,We,$e,Ue,Re,ze,je,qe,Be=this,Xe=[],Ke=[],Ge=[],Ze={},Je={},Qe=function(){},et=n.extend({},e.settings),tt=n.extend(e.settings,p,et),st="full"==tt.weekDays?"":"min"==tt.weekDays?"Min":"Short",at=tt.weekCounter,nt=tt.layout||(/top|bottom|inline/.test(tt.display)?"liquid":""),it="liquid"==nt&&"bubble"!==tt.display,rt="center"==tt.display,ot=tt.rtl,lt=ot?-1:1,ct=it?null:tt.calendarWidth,dt="vertical"==tt.calendarScroll,ut=tt.quickNav,mt=tt.preMonths,ht=tt.yearChange,pt=tt.controls.join(","),ft=(tt.tabs===!0||tt.tabs!==!1&&it)&&tt.controls.length>1,bt=!ft&&tt.tabs===s&&!it&&tt.controls.length>1,vt=tt.yearSuffix||"",gt=tt.activeClass||"",yt="mbsc-cal-tab-sel "+(tt.activeTabClass||""),xt=tt.activeTabInnerClass||"",Ct="mbsc-fr-btn-d "+(tt.disabledClass||""),wt="",Tt="";return pt.match(/calendar/)?te=!0:ut=!1,pt.match(/date/)&&(Ze.date=1),pt.match(/time/)&&(Ze.time=1),te&&Ze.date&&(ft=!0,bt=!1),tt.layout=nt,tt.preset=(Ze.date||te?"date":"")+(Ze.time?"time":""),"inline"==tt.display&&n(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=Qe,e.onGenMonth=Qe,e.prepareObj=g,e.refresh=function(){A(!1)},e.redraw=function(){A(!0)},e.navigate=function(t,s){var a,n,i=e.isVisible();s&&i?D(t,!0):(a=tt.getYear(t),n=tt.getMonth(t),!i||a==Te&&n==_e||(e.trigger("onMonthChange",{year:a,month:n}),w(a,n),S(a,n),k(t.getFullYear(),t.getMonth())),Te=a,_e=n)},e.showMonthView=function(){ut&&!re&&(H(Tt,!0),H(wt,!0),Y(ie,!0),re=!0)},e.changeTab=function(t){e._isVisible&&Ze[t]&&Oe!=t&&(Oe=t,n(".mbsc-cal-pnl",X).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),n(".mbsc-cal-tab",X).removeClass(yt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(xt),n('.mbsc-cal-tab[data-control="'+t+'"]',X).addClass(yt).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(xt),Ze[Oe].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==Oe&&(R=e.getDate(!0),R.getFullYear()===we.getFullYear()&&R.getMonth()===we.getMonth()&&R.getDate()===we.getDate()||D(R)),e.showMonthView(),e.trigger("onTabChange",{tab:Oe}))},q=r.datetime.call(this,e),ue=(tt.dateWheels||tt.dateFormat).search(/m/i),he=(tt.dateWheels||tt.dateFormat).search(/y/i),n.extend(q,{ariaMessage:tt.calendarText,onMarkupReady:function(t){var r,c,u="";if(X=n(t.target),K="inline"==tt.display?n(this).is("div")?n(this):n(this).parent():e._window,we=e.getDate(!0),Te||(Te=tt.getYear(we),_e=tt.getMonth(we)),Q=0,ae=!0,Pe=!1,oe=tt.monthNames,Oe="calendar",tt.min&&(ge=l(tt.min.getFullYear(),tt.min.getMonth(),1),xe=tt.min),tt.max&&(ye=l(tt.max.getFullYear(),tt.max.getMonth(),1),Ce=tt.max),X.addClass("mbsc-calendar"),B=n(".mbsc-fr-popup",X),Ve=n(".mbsc-fr-c",X),Ze.date?Ze.date=n(".mbsc-sc-whl-gr-c",X).eq(0):te&&n(".mbsc-sc-whl-gr-c",X).eq(0).addClass("mbsc-cal-hdn"),Ze.time&&(Ze.time=n(".mbsc-sc-whl-gr-c",X).eq(1)),te){for(Le="auto"==tt.months?Math.max(1,Math.min(3,Math.floor((ct||U(K))/280))):tt.months,Ye=Le+2*mt,He=Math.floor(Le/2),We=Math.round(Le/2)-1,Ue=tt.showOuterDays===s?Le<2:tt.showOuterDays,dt=dt&&Le<2,c='<div class="mbsc-cal-btnw"><div class="'+(ot?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalPrevClass||"")+'" aria-label="'+tt.prevMonthText+'"></div></div>',z=0;z<Le;++z)c+='<div class="mbsc-cal-btnw-m" style="width: '+100/Le+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(c+='<div class="'+(ot?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalNextClass||"")+'" aria-label="'+tt.nextMonthText+'"></div></div></div>',ht&&(u='<div class="mbsc-cal-btnw"><div class="'+(ot?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalPrevClass||"")+'" aria-label="'+tt.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(ot?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalNextClass||"")+'" aria-label="'+tt.nextYearText+'"></div></div></div>'),ut&&(pe=tt.getYear(ge),fe=tt.getYear(ye),be=tt.getMonth(ge),ve=tt.getMonth(ye),De=Math.ceil((fe-pe+1)/12)+2,wt=x("month",36,24,0,"",tt.monthNames,tt.monthNamesShort),Tt=x("year",12*De,fe-pe+13,pe,vt)),se='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(Le>1?" mbsc-cal-multi ":"")+(at?" mbsc-cal-weeks ":"")+(dt?" mbsc-cal-vertical":"")+(Ue?"":" mbsc-cal-hide-diff ")+(tt.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(ht?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(he<ue||Le>1?u+c:c+u)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',j=0;j<Le;++j){for(se+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/Le+'%"><table cellpadding="0" cellspacing="0"><tr>',z=0;z<7;z++)se+="<th>"+tt["dayNames"+st][(z+tt.firstDay)%7]+"</th>";se+="</tr></table></div>"}for(se+='</div><div class="mbsc-cal-week-nrs-c '+(tt.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(tt.calendarClass||"")+'"><div class="mbsc-cal-anim">',z=0;z<Le+2*mt;z++)se+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';se+="</div></div></div>"+wt+Tt+"</div></div></div>",Ze.calendar=n(se)}if(n.each(tt.controls,function(e,t){Ze[t]=n('<div class="mbsc-cal-pnl" id="'+Be.id+"_dw_pnl_"+e+'"></div>').append(n('<div class="mbsc-cal-pnl-i"></div>').append(Ze[t])).appendTo(Ve)}),r='<div class="mbsc-cal-tabs"><ul role="tablist">',n.each(tt.controls,function(e,t){Ze[t]&&(r+='<li role="tab" aria-controls="'+Be.id+"_dw_pnl_"+e+'" class="mbsc-cal-tab '+(e?"":yt)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":xt)+'">'+tt[t+"Text"]+"</a></li>")}),r+="</ul></div>",Ve.before(r),G=n(".mbsc-cal-anim-c",X),Z=n(".mbsc-cal-anim",G),ne=n(".mbsc-cal-week-nrs",X),te){for(re=!0,Xe=n(".mbsc-cal-slide",Z).each(function(e,t){Ke.push(n(t))}),Xe.slice(mt,mt+Le).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),z=0;z<Ye;z++)N(Ke[z],100*(z-mt)*lt);S(Te,_e),le=new a.classes.ScrollView(G[0],{axis:dt?"Y":"X",easing:"",contSize:0,snap:1,maxSnapScroll:mt,moveElement:Z,mousewheel:tt.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round(((dt?e.posY:e.posX)-Q)/J)*lt;t&&O(Te,_e-t,t>0?"prev":"next",t>0?t:-t)}})}de=n(".mbsc-cal-month",X),me=n(".mbsc-cal-year",X),ie=n(".mbsc-cal-m-c",X),ut&&(ie.on(m,$),wt=n(".mbsc-cal-month-c",X).on(m,$),Tt=n(".mbsc-cal-year-c",X).on(m,$),Re=n(".mbsc-cal-sc-p",X),Me={axis:dt?"Y":"X",contSize:0,snap:1,maxSnapScroll:1,rtl:tt.rtl,mousewheel:tt.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},ze=new a.classes.ScrollView(Tt[0],Me),ce=new a.classes.ScrollView(wt[0],Me)),it?X.addClass("mbsc-cal-liq"):n(".mbsc-cal",X).width(ct||280*Le),tt.calendarHeight&&n(".mbsc-cal-anim-c",X).height(tt.calendarHeight),e.tap(G,function(e){var t=n(e.target);Pe||le.scrolled||tt.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&P.call(t[0]))}),n(".mbsc-cal-btn",X).on("touchstart mousedown keydown",i).on("touchmove",h).on("touchend touchcancel keyup",f),n(".mbsc-cal-tab",X).on("touchstart click",function(t){d(t,this)&&e.changeTab(n(this).attr("data-control"))}),ut&&(e.tap(n(".mbsc-cal-month",X),function(){Tt.hasClass("mbsc-cal-v")||(W(ie),re=ie.hasClass("mbsc-cal-v")),W(wt),H(Tt)}),e.tap(n(".mbsc-cal-year",X),function(){Tt.hasClass("mbsc-cal-v")||ze.scroll(je),wt.hasClass("mbsc-cal-v")||(W(ie),re=ie.hasClass("mbsc-cal-v")),W(Tt),H(wt)}),e.tap(n(".mbsc-cal-month-s",X),function(){ce.scrolled||n(this).hasClass("mbsc-fr-btn-d")||e.navigate(tt.getDate(Te,n(this).attr("data-val"),1))}),e.tap(n(".mbsc-cal-year-s",X),function(){ze.scrolled||(R=tt.getDate(n(this).attr("data-val"),_e,1),e.navigate(new Date(o.constrain(R,ge,ye))))}),e.tap(Tt,function(){ze.scrolled||(H(Tt),Y(ie),re=!0)}),e.tap(wt,function(){ce.scrolled||(H(wt),Y(ie),re=!0)}))},onShow:function(){te&&w(Te,_e)},onPosition:function(t){var s,a,i,r,o,l,c=0,d=0,u=0,m=t.windowHeight;if(it&&(rt&&G.height(""),Ve.height(""),Z.width("")),J&&(o=J),te&&(J=Math.round(Math.round(G[0][dt?"offsetHeight":"offsetWidth"])/Le)),J&&(X.removeClass("mbsc-cal-m mbsc-cal-l"),J>1024?X.addClass("mbsc-cal-l"):J>640&&X.addClass("mbsc-cal-m")),(ft&&(ae||it)||bt)&&(n(".mbsc-cal-pnl",X).removeClass("mbsc-cal-pnl-h"),n.each(Ze,function(e,t){s=t[0].offsetWidth,c=Math.max(c,s),d=Math.max(d,t[0].offsetHeight),u+=s}),ft||bt&&u>U(K)?(a=!0,Oe=n(".mbsc-cal-tabs .mbsc-cal-tab-sel",X).attr("data-control"),B.addClass("mbsc-cal-tabbed")):(Oe="calendar",c="",d="",B.removeClass("mbsc-cal-tabbed"),Ve.css({width:"",height:""}))),it&&rt&&te&&(e._isFullScreen=!0,a&&Ve.height(Ze.calendar[0].offsetHeight),r=B[0].offsetHeight,m>=r&&G.height(m-r+G[0].offsetHeight),d=Math.max(d,Ze.calendar[0].offsetHeight)),a&&(Ve.css({width:it?"":c,height:d}),te&&(J=Math.round(Math.round(G[0][dt?"offsetHeight":"offsetWidth"])/Le))),J){if(Z[dt?"height":"width"](J),J!==o){if(ht)for(oe=tt.maxMonthWidth>n(".mbsc-cal-btnw-m",X).width()?tt.monthNamesShort:tt.monthNames,z=0;z<Le;++z)n(de[z]).text(oe[tt.getMonth(tt.getDate(Te,_e-We+z,1))]);ut&&(l=Tt[0][dt?"offsetHeight":"offsetWidth"],n.extend(ze.settings,{contSize:l,snap:l,minScroll:(2-De)*l,maxScroll:-l}),n.extend(ce.settings,{contSize:l,snap:l,minScroll:-l,maxScroll:-l}),ze.refresh(),ce.refresh(),Tt.hasClass("mbsc-cal-v")&&ze.scroll(je)),it&&!ae&&o&&(i=Q/o,Q=i*J),k(Te,_e)}}else J=o;a&&(n(".mbsc-cal-pnl",X).addClass("mbsc-cal-pnl-h"),Ze[Oe].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),ae=!1},onHide:function(){Ge=[],Ke=[],Oe=null,Te=null,_e=null,Pe=!0,J=0,le&&le.destroy(),ut&&ze&&ce&&(ze.destroy(),ce.destroy())},onValidated:function(t){var s,a,n;if(a=e.getDate(!0),ee)s="calendar";else for(n in e.order)n&&e.order[n]===t&&(s=/[mdy]/.test(n)?"date":"time");e.trigger("onSetDate",{date:a,control:s}),D(a),ee=!1}}),q}}(window,document),function(e,t,s){var a=i,n=a.$,r=n.extend,o=a.util,l=o.datetime,c=l.adjustedDate,d=a.presets.scroller,u={};a.presetShort("calendar"),d.calendar=function(t){function s(t){if(t){if(x[t])return x[t];var s=n('<div style="background-color:'+t+';"></div>').appendTo("body"),a=e.getComputedStyle?getComputedStyle(s[0]):s[0].style,i=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),r=.299*i[0]+.587*i[1]+.114*i[2],o=r>130?"#000":"#fff";return s.remove(),x[t]=o,o}}function a(e){return c(e.getFullYear(),e.getMonth(),e.getDate())}function i(e){if(S={},e&&e.length)for(b=0;b<e.length;b++)S[a(e[b])]=e[b]}function m(){t.refresh()}var h,p,f,b,v,g,y,x={},C=r({},t.settings),w=r(t.settings,u,C),T=w.activeClass||"",_="multiple"==w.select||w.select>1||"week"==w.selectType,M=o.isNumeric(w.select)?w.select:1/0,D=!!w.events,S={};if(y=d.calbase.call(this,t),h=r({},y),f=void 0===w.firstSelectDay?w.firstDay:w.firstSelectDay,_&&w.defaultValue&&w.defaultValue.length)for(b=0;b<w.defaultValue.length;b++)S[a(w.defaultValue[b])]=w.defaultValue[b];return t.onGenMonth=function(e,s){v=t.prepareObj(w.events||w.marked,e,s)},t.getDayProps=function(e){var t,a=_?void 0!==S[e]:void 0,i=!!v[e]&&v[e],r=i&&i[0]&&i[0].text,o=i&&i[0]&&i[0].color,l=D&&r?s(o):"",c="",d="";if(i){for(t=0;t<i.length;t++)i[t].icon&&(c+='<span class="mbsc-ic mbsc-ic-'+i[t].icon+'"'+(i[t].text?"":i[t].color?' style="color:'+i[t].color+';"':"")+"></span>\n");for(d='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',t=0;t<i.length;t++)d+='<div class="mbsc-cal-day-m-c"'+(i[t].color?' style="background:'+i[t].color+';"':"")+"></div>";d+="</div></div>"}return{marked:i,selected:a,cssClass:i?"mbsc-cal-day-marked":"",ariaLabel:D?r:"",markup:D&&r?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+n("<div>"+r+"</div>").text()+'"'+(o?' style="background:'+o+";color:"+l+';text-shadow:none;"':"")+">"+c+r+"</div></div>":D&&c?'<div class="mbsc-cal-day-ic-c">'+c+"</div>":i?d:""}},t.addValue=function(e){S[a(e)]=e,m()},t.removeValue=function(e){delete S[a(e)],m()},t.setVal=function(e,s,a,n,r){_&&(i(e),e=e?e[0]:null),t._setVal(e,s,a,n,r),m()},t.getVal=function(e){return _?o.objectToArray(S):t.getDate(e)},r(y,{highlight:!_,outerMonthChange:!_,parseValue:function(e){var s,n;if(_&&e&&"string"==typeof e){for(S={},e=e.split(","),s=0;s<e.length;s++)n=l.parseDate(t.format,e[s].replace(/^\s+|\s+$/g,""),w),S[a(n)]=n;e=e[0]}return _&&w.defaultValue&&w.defaultValue.length&&(w.defaultValue=w.defaultValue[0]),h.parseValue.call(this,e)},formatValue:function(e){var s,a=[];if(_){for(s in S)a.push(l.formatDate(t.format,S[s],w));return a.join(", ")}return h.formatValue.call(this,e)},onClear:function(){_&&(S={},t.refresh())},onBeforeShow:function(){void 0!==w.setOnDayTap||w.buttons&&w.buttons.length||(w.setOnDayTap=!0),w.setOnDayTap&&"inline"!=w.display&&(w.outerMonthChange=!1),w.counter&&_&&(w.headerText=function(){var e=0,t="week"==w.selectType?7:1;return n.each(S,function(){e++}),e=Math.round(e/t),(e>1?w.selectedPluralText||w.selectedText:w.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){h.onMarkupReady.call(this,e),p=n(e.target),_&&(n(".mbsc-fr-hdr",p).attr("aria-live","off"),g=r({},S)),D&&n(".mbsc-cal",p).addClass("mbsc-cal-ev")},onDayChange:function(e){var s=e.date,i=a(s),r=n(e.target),l=e.selected;if(_)if("week"==w.selectType){var d,u,h=i.getDay()-f;for(h=h<0?7+h:h,"multiple"!=w.select&&(S={}),d=0;d<7;d++)u=c(i.getFullYear(),i.getMonth(),i.getDate()-h+d),l?delete S[u]:o.objectToArray(S).length/7<M&&(S[u]=u);m()}else{var b=n('.mbsc-cal .mbsc-cal-day[data-full="'+r.attr("data-full")+'"]',p);l?(b.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(T),delete S[i]):o.objectToArray(S).length<M&&(b.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(T),S[i]=i)}if(w.setOnDayTap&&"multiple"!=w.select&&"inline"!=w.display)return t.needsSlide=!1,t.setDate(s),t.select(),!1},onCancel:function(){!t.live&&_&&(S=r({},g))}}),y}}(window,document);var N=e.PropTypes,A=N.string,I=N.bool,F=N.func,E=N.object,L=N.number;i.react.mixins.CalendarPropTypes={propTypes:{controls:N.arrayOf(N.oneOf(["time","date","calendar"])),events:N.arrayOf(N.shape({start:E,end:E,d:N.oneOfType([E,A]),text:A,color:A})),firstSelectDay:L,marked:N.arrayOf(N.oneOfType([E,A])),select:N.oneOf(["single","multiple"]),selectType:N.oneOf(["day","week"]),setOnDayTap:I,onEventSelect:F,onSetDate:F}},i.Calendar=i.react.createComponent({preset:"calendar"},[i.react.mixins.ScrollerPropTypes,i.react.mixins.DatetimePropTypes,i.react.mixins.CalbasePropTypes,i.react.mixins.CalendarPropTypes]),function(e){var t=i,s=t.$,a={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};t.presetShort("timespan"),t.presets.scroller.timespan=function(e){function n(e){var t={};return s(g).each(function(s,a){t[a]=w[a]?Math.floor(e/y[a].limit):0,e-=t[a]*y[a].limit}),t}function i(e){var t=!1,s=C[w[e]-1]||1,a=y[e],n=a.label,i=a.wheel;if(i.data=[],i.label=a.label,b.match(new RegExp(a.re+a.re,"i"))&&(t=!0),e==T)i.min=m[e],i.max=h[e],i.data=function(e){return{value:e,display:r(e*s,t,n)}},i.getIndex=function(e){return Math.round(e/s)};else for(c=0;c<=a.until;c+=s)i.data.push({value:c,display:r(c,t,n)})}function r(e,t,s){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+s+"</span>"}function o(e){var t=0;return s.each(x,function(s,a){isNaN(+e[0])||(t+=y[a.v].limit*e[s])}),t}function l(e,t){return Math.floor(e/t)*t}var c,d,u,m,h,p=s.extend({},e.settings),f=s.extend(e.settings,a,p),b=f.wheelOrder,v=f.useShortLabels?f.labelsShort:f.labels,g=["years","months","days","hours","minutes","seconds"],y={years:{ord:0,index:6,until:10,limit:31536e6,label:v[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:v[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:v[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:v[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:v[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:v[5],re:"s",wheel:{}}},x=[],C=f.steps||[],w={},T="seconds",_=f.defaultValue||Math.max(f.min,Math.min(0,f.max)),M=[[]];return s(g).each(function(e,t){(d=b.search(new RegExp(y[t].re,"i")))>-1&&(x.push({o:d,v:t}),y[t].index>y[T].index&&(T=t))}),x.sort(function(e,t){return e.o>t.o?1:-1}),s.each(x,function(e,t){w[t.v]=e+1,M[0].push(y[t.v].wheel)}),m=n(f.min),h=n(f.max),s.each(x,function(e,t){i(t.v)}),e.getVal=function(t,s){return s?e._getVal(t):e._hasValue||t?o(e.getArrayVal(t)):null},{showLabel:!0,wheels:M,compClass:"mbsc-ts",parseValue:function(e){var a,i=[];return t.util.isNumeric(e)||!e?(u=n(e||_),s.each(x,function(e,t){i.push(u[t.v])})):s.each(x,function(t,s){a=new RegExp("(\\d+)\\s?("+f.labels[y[s.v].ord]+"|"+f.labelsShort[y[s.v].ord]+")","gi").exec(e),i.push(a?a[1]:0)}),s(i).each(function(e,t){i[e]=l(t,C[e]||1)}),i},formatValue:function(e){var t="";return s.each(x,function(s,a){t+=+e[s]?e[s]+" "+y[a.v].label+" ":""}),t?t.replace(/\s+$/g,""):0},validate:function(t){var a,i,r,l,c=t.values,d=t.direction,u=[],p=!0,f=!0;return s(g).each(function(t,b){if(void 0!==w[b]){if(r=w[b]-1,u[r]=[],l={},b!=T){if(p)for(i=h[b]+1;i<=y[b].until;i++)l[i]=!0;if(f)for(i=0;i<m[b];i++)l[i]=!0}c[r]=e.getValidValue(r,c[r],d,l),a=n(o(c)),p=p&&a[b]==h[b],f=f&&a[b]==m[b],s.each(l,function(e){u[r].push(e)})}}),{disabled:u}}}}}();var Y=e.PropTypes,H=Y.number,W=Y.string;i.react.mixins.TimespanPropTypes={propTypes:{defaultValue:H,max:H,min:H,steps:Y.arrayOf(H),useShortLabels:Y.bool,wheelOrder:W,labels:Y.arrayOf(W),labelsShort:Y.arrayOf(W)}},i.Timespan=i.react.createComponent({preset:"timespan"},[i.react.mixins.ScrollerPropTypes,i.react.mixins.TimespanPropTypes]),function(e){var t=i,s=t.$,a={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};t.presetShort("timer"),t.presets.scroller.timer=function(t){function n(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function i(e){var t={};if(Y&&S[F].index>S.days.index){var a,i,r,o,l=new Date,c=y?l:L,d=y?L:l;for(d=n(d),c=n(c),t.years=c.getFullYear()-d.getFullYear(),t.months=c.getMonth()-d.getMonth(),t.days=c.getDate()-d.getDate(),t.hours=c.getHours()-d.getHours(),t.minutes=c.getMinutes()-d.getMinutes(),t.seconds=c.getSeconds()-d.getSeconds(),t.fract=(c.getMilliseconds()-d.getMilliseconds())/10,a=D.length;a>0;a--)i=D[a-1],r=S[i],o=D[s.inArray(i,D)-1],S[o]&&t[i]<0&&(t[o]--,t[i]+="months"==o?32-new Date(c.getFullYear(),c.getMonth(),32).getDate():r.until+1);"months"==F&&(t.months+=12*t.years,delete t.years)}else s(D).each(function(s,a){S[a].index<=S[F].index&&(t[a]=Math.floor(e/S[a].limit),e-=t[a]*S[a].limit)});return t}function r(e){var t=1,a=S[e],n=a.wheel,i=a.prefix,r=a.until,l=S[D[s.inArray(e,D)-1]];if(a.index<=S[F].index&&(!l||l.limit>I))if(k[e]||H[0].push(n),k[e]=1,n.data=[],n.label=a.label||"",n.cssClass="mbsc-timer-whl-"+e,I>=a.limit&&(t=Math.max(Math.round(I/a.limit),1),h=t*a.limit),e==F)n.min=0,n.data=function(e){return{value:e,display:o(e,i,a.label)}},n.getIndex=function(e){return e};else for(u=0;u<=r;u+=t)n.data.push({value:u,display:o(u,i,a.label)})}function o(e,t,s){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+s+"</span>"}function l(e){var t,a=[],n=i(e);return s(D).each(function(e,s){k[s]&&(t=Math.max(Math.round(I/S[s].limit),1),a.push(Math.round(n[s]/t)*t))}),a}function c(t){Y?(v=L-new Date,v<0?(v*=-1,y=!0):y=!1,g=0,A=!0):L!==e?(A=!1,v=1e3*L,y="countdown"!=T.mode,t&&(g=0)):(v=0,y="countdown"!=T.mode,A=y,t&&(g=0))}function d(){P?(s(".mbsc-fr-w",x).addClass("mbsc-timer-running mbsc-timer-locked"),s(".mbsc-timer-btn-toggle-c > div",x).text(T.stopText),t.buttons.start.icon&&s(".mbsc-timer-btn-toggle-c > div",x).removeClass("mbsc-ic-"+t.buttons.start.icon),t.buttons.stop.icon&&s(".mbsc-timer-btn-toggle-c > div",x).addClass("mbsc-ic-"+t.buttons.stop.icon),"stopwatch"==T.mode&&(s(".mbsc-timer-btn-resetlap-c > div",x).text(T.lapText),t.buttons.reset.icon&&s(".mbsc-timer-btn-resetlap-c > div",x).removeClass("mbsc-ic-"+t.buttons.reset.icon),t.buttons.lap.icon&&s(".mbsc-timer-btn-resetlap-c > div",x).addClass("mbsc-ic-"+t.buttons.lap.icon))):(s(".mbsc-fr-w",x).removeClass("mbsc-timer-running"),s(".mbsc-timer-btn-toggle-c > div",x).text(T.startText),t.buttons.start.icon&&s(".mbsc-timer-btn-toggle-c > div",x).addClass("mbsc-ic-"+t.buttons.start.icon),t.buttons.stop.icon&&s(".mbsc-timer-btn-toggle-c > div",x).removeClass("mbsc-ic-"+t.buttons.stop.icon),"stopwatch"==T.mode&&(s(".mbsc-timer-btn-resetlap-c > div",x).text(T.resetText),t.buttons.reset.icon&&s(".mbsc-timer-btn-resetlap-c > div",x).addClass("mbsc-ic-"+t.buttons.reset.icon),t.buttons.lap.icon&&s(".mbsc-timer-btn-resetlap-c > div",x).removeClass("mbsc-ic-"+t.buttons.lap.icon)))}var u,m,h,p,f,b,v,g,y,x,C,w=s.extend({},t.settings),T=s.extend(t.settings,a,w),_=T.useShortLabels?T.labelsShort:T.labels,M=["toggle","resetlap"],D=["years","months","days","hours","minutes","seconds","fract"],S={years:{index:6,until:10,limit:31536e6,label:_[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:_[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:_[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:_[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:_[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:_[5],wheel:{}},fract:{index:0,until:99,limit:10,label:_[6],prefix:".",wheel:{}}},k={},V=[],O=0,P=!1,N=!0,A=!1,I=Math.max(10,1e3*T.step),F=T.maxWheel,E="stopwatch"==T.mode||Y,L=T.targetTime,Y=L&&L.getTime!==e,H=[[]];return t.start=function(){if(N&&t.reset(),!P){if(c(),!A&&g>=v)return;P=!0,N=!1,f=new Date,p=g,T.readonly=!0,t.setVal(l(y?g:v-g),!0,!0,!1,100),m=setInterval(function(){g=new Date-f+p,t.setVal(l(y?g:v-g),!0,!0,!1,Math.min(100,h-10)),!A&&g+h>=v&&(clearInterval(m),setTimeout(function(){t.stop(),g=v,t.setVal(l(y?g:0),!0,!0,!1,100),t.trigger("onFinish",{time:v}),N=!0},v-g))},h),d(),t.trigger("onStart")}},t.stop=function(){P&&(P=!1,clearInterval(m),g=new Date-f+p,d(),t.trigger("onStop",{ellapsed:g}))},t.toggle=function(){P?t.stop():t.start()},t.reset=function(){t.stop(),g=0,V=[],O=0,t.setVal(l(y?0:v),!0,!0,!1,100),t.settings.readonly=E,N=!0,E||s(".mbsc-fr-w",x).removeClass("mbsc-timer-locked"),t.trigger("onReset")},t.lap=function(){P&&(b=new Date-f+p,C=b-O,O=b,V.push(b),t.trigger("onLap",{ellapsed:b,lap:C,laps:V}))},t.resetlap=function(){P&&"stopwatch"==T.mode?t.lap():t.reset()},t.getTime=function(){return v},t.setTime=function(e){L=e/1e3,v=e},t.getEllapsedTime=function(){return P?new Date-f+p:0},t.setEllapsedTime=function(e,s){N||(p=g=e,f=new Date,t.setVal(l(y?g:v-g),!0,s,!1,100))},c(!0),F||v||(F="minutes"),"inline"!==T.display&&M.push("hide"),F||s(D).each(function(e,t){if(!F&&v>=S[t].limit)return F=t,!1}),s(D).each(function(e,t){r(t)}),h=Math.max(87,h),T.autostart&&setTimeout(function(){t.start()},0),t.handlers.toggle=t.toggle,t.handlers.start=t.start,t.handlers.stop=t.stop,t.handlers.resetlap=t.resetlap,t.handlers.reset=t.reset,t.handlers.lap=t.lap,t.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:T.startText,icon:T.startIcon,handler:"toggle"},t.buttons.start={text:T.startText,icon:T.startIcon,handler:"start"},t.buttons.stop={text:T.stopText,icon:T.stopIcon,handler:"stop"},t.buttons.reset={text:T.resetText,icon:T.resetIcon,handler:"reset"},t.buttons.lap={text:T.lapText,icon:T.lapIcon,handler:"lap"},t.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:T.resetText,icon:T.resetIcon,handler:"resetlap"},t.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:T.hideText,icon:T.closeIcon,handler:"cancel"},{wheels:H,headerText:!1,readonly:E,buttons:M,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return l(y?0:v)},formatValue:function(e){var t="",a=0;return s(D).each(function(s,n){"fract"!=n&&k[n]&&(t+=e[a]+("seconds"==n&&k.fract?"."+e[a+1]:"")+" "+_[s]+" ",a++)}),t},validate:function(t){var a=t.values,n=t.index,i=0;N&&n!==e&&(L=0,s(D).each(function(e,t){k[t]&&(L+=S[t].limit*a[i],i++)}),L/=1e3,c(!0))},onBeforeShow:function(){T.showLabel=!0},onMarkupReady:function(e){x=s(e.target),d(),E&&s(".mbsc-fr-w",x).addClass("mbsc-timer-locked")},onPosition:function(e){s(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",s(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(m)}}}}();var $=e.PropTypes,U=$.bool,R=$.number,z=$.string,j=$.func;i.react.mixins.TimerPropTypes={propTypes:{autostart:U,maxWheel:$.oneOf(["years","months","days","hours","minutes","seconds","fract"]),mode:$.oneOf(["countdown","stopwatch"]),step:R,targetTime:R,useShortLabels:U,hideText:z,labels:$.arrayOf(z),labelsShort:$.arrayOf(z),lapText:z,resetText:z,startText:z,stopText:z,lap:j,onFinish:j,onReset:j,onStart:j,onStop:j}},i.Timer=i.react.createComponent({preset:"timer"},[i.react.mixins.ScrollerPropTypes,i.react.mixins.TimerPropTypes]),function(e){var t=function(){},s=i,a=s.$;s.util.addIcon=function(e,t){var s={},n=e.parent(),i=n.find(".mbsc-err-msg"),r=e.attr("data-icon-align")||"left",o=e.attr("data-icon");a('<span class="mbsc-input-wrap"></span>').insertAfter(e).append(e),i&&n.find(".mbsc-input-wrap").append(i),o&&(o.indexOf("{")!==-1?s=JSON.parse(o):s[r]=o),(o||t)&&(a.extend(s,t),n.addClass((s.right?"mbsc-ic-right ":"")+(s.left?" mbsc-ic-left":"")).find(".mbsc-input-wrap").append(s.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+s.left+'"></span>':"").append(s.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+s.right+'"></span>':""))},s.classes.Progress=function(n,i,r){function o(){var e=l("value",v);e!==C&&c(e)}function l(t,s){var a=u.attr(t);return a===e||""===a?s:+a}function c(t,s,a,n){t=Math.min(g,Math.max(t,v)),h.css("width",100*(t-v)/(g-v)+"%"),a===e&&(a=!0),n===e&&(n=a),(t!==C||s)&&T._display(t),t!==C&&(C=t,a&&u.attr("value",C),n&&u.trigger("change"))}var d,u,m,h,p,f,b,v,g,y,x,C,w,T=this
;s.classes.Base.call(this,n,i,!0),T._onInit=t,T._onDestroy=t,T._display=function(e){w=x&&y.returnAffix?x.replace(/\{value\}/,e).replace(/\{max\}/,g):e,p&&p.html(w),d&&d.html(w)},T._attachChange=function(){u.on("change",o)},T._init=function(t){var i,r,o,c;if(y=T.settings,u=a(n),c=u.parent().hasClass("mbsc-input-wrap"),m=T._$parent=c?m:u.parent(),v=T._min=t.min===e?l("min",y.min):t.min,g=T._max=t.max===e?l("max",y.max):t.max,C=l("value",v),i=u.attr("data-val")||y.val,o=u.attr("data-step-labels"),o=o?JSON.parse(o):y.stepLabels,x=u.attr("data-template")||(100!=g||y.template?y.template:"{value}%"),c?(i&&(d.remove(),m.removeClass("mbsc-progress-value-"+("right"==i?"right":"left"))),o&&a(".mbsc-progress-step-label",f).remove()):(T._wrap&&s.util.addIcon(u),m.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),h=T._$progress=m.find(".mbsc-progress-bar"),f=T._$track=m.find(".mbsc-progress-track")),b&&m.removeClass(b),b=T._css+" mbsc-progress-w mbsc-control-w mbsc-"+y.theme+(y.baseTheme?" mbsc-"+y.baseTheme:"")+(y.rtl?" mbsc-rtl":" mbsc-ltr"),m.addClass(b),u.addClass("mbsc-control").attr("min",v).attr("max",g),i&&(d=a('<span class="mbsc-progress-value"></span>'),m.addClass("mbsc-progress-value-"+("right"==i?"right":"left")).find(".mbsc-input-wrap").append(d)),o)for(r=0;r<o.length;++r)f.append('<span class="mbsc-progress-step-label" style="'+(y.rtl?"right":"left")+": "+100*(o[r]-v)/(g-v)+'%" >'+o[r]+"</span>");p=a(u.attr("data-target")||y.target),T._onInit(t),c||T._attachChange(),T.refresh()},T._destroy=function(){T._onDestroy(),m.find(".mbsc-progress-cont").remove(),m.removeClass(b).find(".mbsc-input-wrap").before(u).remove(),u.removeClass("mbsc-control").off("change",o)},T.refresh=function(){c(l("value",v),!0,!1)},T.getVal=function(){return C},T.setVal=function(e,t,s){c(e,!0,t,s)},r||T.init(i)},s.classes.Progress.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_wrap:!0,_defaults:{min:0,max:100,returnAffix:!0}},s.presetShort("progress","Progress")}(),function(e){var t=function(){},s=i,a=s.$,n=s.util,r=n.getCoord,o=n.testTouch;s.classes.Slider=function(i,l,c){function d(e){!o(e,this)||A||i.disabled||(Z.stopProp&&e.stopPropagation(),A=!0,X=!1,I=!1,Q=r(e,"X"),ee=r(e,"Y"),Y=Q,N.removeClass("mbsc-progress-anim"),M=K?a(".mbsc-slider-handle",this):S,D&&D.removeClass("mbsc-handle-curr"),D=M.parent().addClass("mbsc-active mbsc-handle-curr"),W=+M.attr("data-index"),ae=N[0].offsetWidth,L=N[0].getBoundingClientRect().left,"mousedown"===e.type&&(e.preventDefault(),a(document).on("mousemove",u).on("mouseup",m)))}function u(e){A&&(Y=r(e,"X"),H=r(e,"Y"),F=Y-Q,E=H-ee,(Math.abs(F)>5||X)&&(X=!0,Math.abs(re-new Date)>50&&(re=new Date,x(Y,Z.round,j))),X?e.preventDefault():Math.abs(E)>7&&y())}function m(e){A&&(e.preventDefault(),K||N.addClass("mbsc-progress-anim"),x(Y,!0,!0),X||I||(n.preventClick(),ie._onTap(ne[W])),y())}function h(){A&&y()}function p(){var e=ie._readValue(a(this)),t=+a(this).attr("data-index");e!==ne[t]&&(ne[t]=e,T(e,t))}function f(e){e.stopPropagation()}function b(e){e.preventDefault()}function v(e){var t;if(!i.disabled){switch(e.keyCode){case 38:case 39:t=1;break;case 40:case 37:t=-1}t&&(e.preventDefault(),se||(W=+a(this).attr("data-index"),T(ne[W]+G*t,W,!0),se=setInterval(function(){T(ne[W]+G*t,W,!0)},200)))}}function g(e){e.preventDefault(),clearInterval(se),se=null}function y(){A=!1,D.removeClass("mbsc-active"),a(document).off("mousemove",u).off("mouseup",m)}function x(e,t,s){var a=t?Math.min(Math.round(Math.max(100*(e-L)/ae,0)/J/G)*G*100/(q-B),100):Math.max(0,Math.min(100*(e-L)/ae,100));z&&(a=100-a),T(Math.round((B+a/J)*te)/te,W,s,a)}function C(e){return 100*(e-B)/(q-B)}function w(t,s){var a=_.attr(t);return a===e||""===a?s:"true"===a}function T(t,s,a,n,i,r){var o=S.eq(s),l=o.parent();t=Math.min(q,Math.max(t,B)),r===e&&(r=a),R?0===s?(t=Math.min(t,ne[1]),O.css({width:C(ne[1])-C(t)+"%",left:z?"auto":C(t)+"%",right:z?C(t)+"%":"auto"})):(t=Math.max(t,ne[0]),O.css({width:C(t)-C(ne[0])+"%"})):K||!$?l.css({left:z?"auto":(n||C(t))+"%",right:z?(n||C(t))+"%":"auto"}):O.css("width",(n||C(t))+"%"),U&&P.eq(s).html(t),t>B?l.removeClass("mbsc-slider-start"):(ne[s]>B||i)&&l.addClass("mbsc-slider-start"),K||ne[s]==t&&!i||ie._display(t),a&&ne[s]!=t&&(I=!0,ne[s]=t,ie._fillValue(t,s,r)),o.attr("aria-valuenow",t)}var _,M,D,S,k,V,O,P,N,A,I,F,E,L,Y,H,W,$,U,R,z,j,q,B,X,K,G,Z,J,Q,ee,te,se,ae,ne,ie=this,re=new Date;s.classes.Progress.call(this,i,l,!0),ie._onTap=t,ie.__onInit=t,ie._readValue=function(e){return+e.val()},ie._fillValue=function(e,t,s){_.eq(t).val(e),s&&_.eq(t).trigger("change")},ie._attachChange=function(){_.on(Z.changeEvent,p)},ie._onInit=function(t){var s,n,i;if(V&&(V.removeClass("mbsc-slider-has-tooltip"),1!=G&&a(".mbsc-slider-step",N).remove()),ie.__onInit(),V=ie._$parent,N=ie._$track,O=ie._$progress,_=V.find("input"),Z=ie.settings,B=ie._min,q=ie._max,G=t.step===e?+_.attr("step")||Z.step:t.step,j=w("data-live",Z.live),U=w("data-tooltip",Z.tooltip),$=w("data-highlight",Z.highlight)&&_.length<3,te=G%1!=0?100/(100*+(G%1).toFixed(2)):1,J=100/(q-B)||100,K=_.length>1,R=$&&2==_.length,z=Z.rtl,ne=[],U&&V.addClass("mbsc-slider-has-tooltip"),1!=G)for(n=(q-B)/G,s=0;s<=n;++s)N.append('<span class="mbsc-slider-step" style="'+(z?"right":"left")+":"+100/n*s+'%"></span>');S&&(i=!0,S.parent().remove()),_.each(function(e){ne[e]=ie._readValue(a(this)),a(this).attr("data-index",e),"range"==this.type&&a(this).attr("min",B).attr("max",q).attr("step",G),Z.handle&&($?O:N).append('<span class="mbsc-slider-handle-cont'+(R&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+B+'" aria-valuemax="'+q+'" data-index="'+e+'"></span>'+(U?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),S=V.find(".mbsc-slider-handle"),P=V.find(".mbsc-slider-tooltip"),k=V.find(K?".mbsc-slider-handle-cont":".mbsc-progress-cont"),S.on("keydown",v).on("keyup",g).on("blur",g),k.on("touchstart mousedown",d).on("touchmove",u).on("touchend touchcancel",m).on("pointercancel",h),i||(_.on("click",f),V.on("click",b))},ie._onDestroy=function(){V.off("click",b),_.off(Z.changeEvent,p).off("click",f),S.off("keydown",v).off("keyup",g).off("blur",g),k.off("touchstart mousedown",d).off("touchmove",u).off("touchend",m).off("touchcancel pointercancel",h)},ie.refresh=function(){_.each(function(e){T(ie._readValue(a(this)),e,!0,!1,!0,!1)})},ie.getVal=function(){return K?ne.slice(0):ne[0]},ie.setVal=ie._setVal=function(e,t,s){a.isArray(e)||(e=[e]),a.each(e,function(e,t){T(t,e,!0,!1,!0,s)})},c||ie.init(l)},s.classes.Slider.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_wrap:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,handle:!0,round:!0,returnAffix:!0}},s.presetShort("slider","Slider")}(),function(e){function t(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return h.each(t,function(e,s){1==s.length&&(t[e]="0"+s)}),"#"+t.join("")}function s(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function a(e){var t,s,a,n=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=s=a=r;else{var o=r,l=(255-i)*r/255,c=n%60*(o-l)/60;360==n&&(n=0),n<60?(t=o,a=l,s=l+c):n<120?(s=o,a=l,t=o-c):n<180?(s=o,t=l,a=l+c):n<240?(a=o,t=l,s=o-c):n<300?(a=o,s=l,t=l+c):n<360?(t=o,s=l,a=o-c):t=s=a=0}return{r:t,g:s,b:a,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function n(e){var t,s,a=0,n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-n;return s=i,t=i?255*r/i:0,a=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,a*=60,a<0&&(a+=360),t*=100/255,s*=100/255,{h:a,s:t,v:s,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function r(e){var t,s,a=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(a,n,i),o=Math.min(a,n,i),l=(r+o)/2;if(r==o)t=s=0;else{var c=r-o;switch(s=l>.5?c/(2-r-o):c/(r+o),r){case a:t=(n-i)/c+(n<i?6:0);break;case n:t=(i-a)/c+2;break;case i:t=(a-n)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*s),l:Math.round(100*l),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function o(e){var t,s,a,n,i,r,o=e.h,l=e.s,c=e.l;return isFinite(o)||(o=0),isFinite(l)||(l=0),isFinite(c)||(c=0),o/=60,o<0&&(o=6- -o%6),o%=6,l=Math.max(0,Math.min(1,l/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*l,r=i*(1-Math.abs(o%2-1)),o<1?(t=i,s=r,a=0):o<2?(t=r,s=i,a=0):o<3?(t=0,s=i,a=r):o<4?(t=0,s=r,a=i):o<5?(t=r,s=0,a=i):(t=i,s=0,a=r),n=c-i/2,{r:Math.round(255*(t+n)),g:Math.round(255*(s+n)),b:Math.round(255*(a+n)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function l(e){return r(s(e))}function c(e){return t(o(e))}function d(e){return t(a(e))}function u(e){return n(s(e))}var m=i,h=m.$,p=m.util,f=function(){},b=m.classes;b.Color=function(a,n,i){function r(e,t,s,a,n){if(!n){te._value=te._hasValue?te._tempValue.slice(0):null;for(var i=0;i<O.length;++i)O[i].tempChangedColor&&te._value&&te._value.indexOf(O[i].tempChangedColor)!=-1&&(O[i].changedColor=O[i].tempChangedColor),delete O[i].tempChangedColor}e&&(te._isInput&&se.val(te._hasValue?te._tempValue:""),N("onFill",{valueText:te._hasValue?te._tempValue:"",change:t}),t&&(ne=h.extend(!0,{},ie),te._preventChange=!0,se.trigger("change"),w(te._value)))}function o(t,s){return s=s!==e?s:f(t),'<div class="mbsc-color-input-item" data-color="'+(s!==e?s:t)+'" style="background: '+t+';">'+(B?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function m(e){$[0].style.background=e?p.prefix+"linear-gradient(left, "+(k.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(k.rtl?"#FFFFFF":"#000000")+" 100%)":""}function f(e){if(Object.keys(ie).length&&!isNaN(e))return e;for(var t in O)if(e==O[t].color||e==O[t].changedColor)return t}function v(){if(q){var t,s="";if(G.empty(),te._value){if(B)s+=o(te._value,j);else for(t=0;t<te._value.length;++t)s+=o(te._value[t],Object.keys(ie).length&&ie[t].colorIndex?ie[t].colorIndex:f(te._value[t]));G.append(s),te.tap(h(".mbsc-color-input-item",G),function(t){if(h(t.target).hasClass("mbsc-color-input-item-close")){var s=h(this).index();t.stopPropagation(),t.preventDefault(),j===e&&(j=h(t.target).parent().attr("data-color")),W&&(ae=O[j].previewInd,J.eq(ae).parent().removeClass("mbsc-color-active"),ne[s]={},ie[s]={}),te._value.splice(s,1),te.setVal(te._value,!0,!0)}else U&&"inline"!==k.display&&(Y=!0,j=h(t.target).attr("data-color"),isNaN(j)&&(j=f(j)),j&&(O[j].selected=!0,ae=O[j].previewInd,setTimeout(function(){A.scroll(Z.eq(j),400),W&&I.scroll(J.eq(ae),400)},200)))})}}}function g(e,s){var a,n=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:a=t({r:n[0],g:n[1],b:n[2]});break;case e.indexOf("hsl")>-1:a=c({h:n[0],s:n[1],l:n[2]});break;case e.indexOf("hsv")>-1:a=d({h:n[0],s:n[1],v:n[2]});break;case e.indexOf("#")>-1:a=e}return y(a,s||k.format)}function y(e,t){switch(t){case"rgb":return s(e);case"hsl":return l(e);case"hsv":return u(e);default:return e}}function x(){var t;for(t=0;t<k.select;++t)if(ie[t].colorIndex===e)return t}function C(t,s){h(".mbsc-color-active",s).removeClass("mbsc-color-active"),U&&(t.parent().addClass("mbsc-color-active"),W&&t&&ae!==e&&J.eq(ae).parent().addClass("mbsc-color-active"))}function w(t,s){var a,n,i=[],r=0,o=h.map(O,function(e){return e.changedColor||e.color});if(B){if(t=h.isArray(t)?t[0]:t,n=o.indexOf(t),n>-1&&i.push(n),t&&!i.length){var l=+h(".mbsc-color-input-item",G).attr("data-color");isNaN(l)||i.push(l),j=l}}else if(t)if(W&&U)for(var c in ne)ne[c].colorIndex!==e&&i.push(+ne[c].colorIndex);else for(a=0;a<t.length;++a)(n=o.indexOf(t[a]))>-1&&(i.push(n),o[n]="temp"+a);for(a=0;a<i.length;++a)T(!0,i[a],r++,O[i[a]].changedColor||O[i[a]].color,!0);for(a=0;a<O.length;++a)i.indexOf(a)==-1&&T(!1,a,e,O[a].changedColor||O[a].color,!1);if(W)for(a=r;a<k.select;++a)ie[a]={},J&&J.eq(a).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ne=h.extend(!0,{},ie),s!==!1&&v()}function T(t,s,a,n,i,r){if(W&&i&&(ie[a].colorIndex=t?s:e,ie[a].color=t?n:e,J)){var o=J.eq(a);o.removeClass("mbsc-color-preview-item-empty").css({background:t?n:"transparent"}),t||o.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}r&&(t?te._tempValue.splice(a,0,n):te._tempValue.splice(te._tempValue.indexOf(n),1)),Z&&(t?Z.eq(s).addClass("mbsc-color-selected"):Z.eq(s).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),O[s].previewInd=t?a:e,O[s].selected=t}function _(t,s){t!==e&&(B||O[t].selected)?(j=t,E=O[t].changedColor||O[t].color,Q=Z.eq(t),U&&(C(Z.eq(t),s||""),L=g(O[t].color,"hsl"),L.l=g(E,"hsl").l,m(O[t].color),z.setVal(100-L.l,!1,!1))):U&&m()}function M(){var e,t=[];for(e=0;e<O.length;++e)O[e].selected&&t.push(O[e]);return t}function D(e,t){var s=h(e.target).index();j=ie[s].colorIndex,Q=Z.eq(j),ae=s,_(j,t),A.scroll(Q,250),N("onPreviewItemTap",{target:e.target,value:ie[s].color,index:s})}function S(t,s){var a=!1,n=h(".mbsc-color-selected",s);if(Q=h(t.target),Q.hasClass("mbsc-color-clear-item"))return E="",void te.clear();(B||X>+n.length||Q.hasClass("mbsc-color-selected"))&&(j=Q.attr("data-index"),W&&(ae=O[j].previewInd!==e?O[j].previewInd:x(),a=U&&Q.hasClass("mbsc-color-selected")&&!Q.parent().hasClass("mbsc-color-active"),J.length>6&&I.scroll(J.eq(ae))),E=O[j].changedColor||O[j].color,B?(n.removeClass("mbsc-color-selected"),te._tempValue=E,E&&Q.toggleClass("mbsc-color-selected"),C(Q,s)):(C(Q,s),a||T(!O[j].selected,j,ae,E,!0,!0)),_(j,s),te.live&&(te._fillValue(),N("onSet",{value:te._value})),N("onItemTap",{target:t.target,value:E,selected:O[j].selected,index:j}))}var k,V,O,P,N,A,I,F,E,L,Y,H,W,$,U,R,z,j,q,B,X,K,G,Z,J,Q,ee,te=this,se=h(a),ae=0,ne={},ie={};b.Frame.call(this,a,n,!0),te.setVal=te._setVal=function(t,s,a,n){te._hasValue=null!==t&&t!==e,te._tempValue=h.isArray(t)?t:[t],r(s,!0,a===e?s:a,n)},te.getVal=te._getVal=function(e){return te._hasValue||e?K?M():te[e?"_tempValue":"_value"]:null},te._readValue=function(){var e=se.val()||"";te._hasValue=!1,0!==e.length&&""!==e&&(te._hasValue=!0),te._hasValue?(te._tempValue=B?e:"hex"==k.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),r(!0)):te._tempValue=[],w(te._tempValue,te._hasValue)},te._fillValue=function(){te._hasValue=!0,r(!0,!0,0,!0)},te._generateContent=function(){var e,t,s,a=F?1:0;for(R=H?Math.ceil((O.length+a)/k.rows):k.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(H?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(H?'<div class="mbsc-color-row">':""),e=0;e<O.length;++e)s=O[e].changedColor||O[e].color,F&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+a)%R==0&&(t+=H?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(O[e].selected?"mbsc-color-selected":"")+'"  style="background:'+s+'"></div></div>';if(t+="</div></div>"+(H?"</div>":""),U&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),W){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var n in ne)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ne[n].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ne[n].color||"initial")+';"></div></div>';t+="</div></div>"}return t},te._position=function(e){var t,s;H||(t=e.find(".mbsc-color-cont"),s=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/s),Math.round(O.length/k.rows))*s+1)),A&&A.refresh(),I&&I.refresh()},te._markupInserted=function(e){H||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*k.rows),A=new b.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:H?"X":"Y",rtl:k.rtl,elastic:60,stopProp:!1,mousewheel:k.mousewheel,onBtnTap:function(t){S(t,e)}})},te._attachEvents=function(t){var s;Z=h(".mbsc-color-item",t),t.on("keydown",".mbsc-color-btn-e",function(e){e.stopPropagation(),32==e.keyCode&&(e.target.classList.contains("mbsc-color-item")?S(e,t):D(e,t))}),W&&(J=h(".mbsc-color-preview-item",t)),U&&(t.addClass("mbsc-color-refine"),ee=h(".mbsc-color-slider",t),z=new b.Slider(ee[0],{theme:k.theme,rtl:k.rtl}),$=t.find(".mbsc-progress-track"),j&&te._value&&_(j,t),ee.on("change",function(){j!==e&&(B||O[j].selected)&&(L.l=100-this.value,s=g(L.toString()).toString(),B?te._tempValue=s:te._tempValue[ae!==e?ae:te._tempValue.length]=s,O[j].tempChangedColor=s,Z.eq(j).css("background",s),W&&(ie[ae].color=s,J.eq(ae).removeClass("mbsc-color-preview-item-empty").css({background:s})),te.live&&p.throttle(te._fillValue()))})),W&&(I=new b.ScrollView(t.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:k.rtl,mousewheel:k.mousewheel,onBtnTap:function(e){D(e,t)}}))},te._detachEvents=function(){A.destroy(),z&&z.destroy(),I&&I.destroy()},te.__processSettings=function(){var t,s;if(k=te.settings,P=k.format,N=te.trigger,H="horizontal"==k.navigation,te._value=[],te._tempValue=[],B="single"==k.select,F=k.clear!==e?k.clear:B,s=k.data||[],!s.length)switch(k.format){case"rgb":s=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],F&&s.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":s=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],F&&s.splice(10,0,"hsl(20, 12%, 29%)");break;default:s=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],F&&s.splice(10,0,"#534741")}if(U="refine"==k.mode,W=!isNaN(k.select),X=isNaN(k.select)?B?2:s.length:k.select,K=h.isPlainObject(s[0]),W&&!Object.keys(ne).length)for(t=0;t<k.select;++t)ne[t]={},ie[t]={};if(!O)for(O=s.slice(0),t=0;t<O.length;++t)h.isPlainObject(s[t])?O[t].color=s[t].color:(s[t]=s[t].toLowerCase(),O[t]={key:t,name:s[t],color:s[t]});V=k.defaultValue||O[0].color,E=V,L=g(E,"hsl"),(q=k.enhance&&se.is("input"))&&(se.hasClass("mbsc-color-input-hdn")?G=se.prev():(G=h("<div "+(a.placeholder?'data-placeholder="'+a.placeholder+'"':"")+' class="mbsc-control mbsc-color-input mbsc-control-ev '+(k.inputClass||"")+'" readonly ></div>'),G.insertBefore(se),se.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),k.anchor=G,te.attachShow(G))},te.__init=function(){k.cssClass=(k.cssClass||"")+" mbsc-color"},te.__destroy=function(){q&&(se.removeClass("mbsc-color-input-hdn"),G.remove())},i||te.init(n)},b.Color.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:h.extend({},b.Frame.prototype._defaults,{headerText:!1,validate:f,parseValue:f,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},m.themes.color=m.themes.frame,m.presetShort("color","Color",!1),p.color={hsv2hex:d,hsv2rgb:a,rgb2hsv:n,rgb2hex:t,rgb2hsl:r,hex2rgb:s,hex2hsv:u,hex2hsl:l}}();var q=e.PropTypes;i.react.mixins.ColorPropTypes={propTypes:{clear:q.bool,data:q.array,defaultValue:q.string,enhance:q.bool,format:q.oneOf(["hex","rgb","hsl"]),inputClass:q.string,mode:q.oneOf(["preset","refine"]),navigation:q.oneOf(["horizontal","vertical"]),preview:q.bool,previewText:q.bool,rows:q.number,select:q.oneOfType([q.oneOf(["single","multiple"]),q.number]),valueText:q.string,onSet:q.func,onClear:q.func}},i.Color=i.react.createComponent({component:"Color"},[i.react.mixins.FramePropTypes,i.react.mixins.ColorPropTypes]),function(e){var t=i,s=t.$,a=t.presets.scroller,n=t.util.datetime,r=t.util,o=r.testTouch,l={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};t.presetShort("range"),a.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function i(t){e._startDate=P=T,e._endDate=N=M,E.startInput&&(s(E.startInput).val(C),t&&s(E.startInput).trigger("change")),E.endInput&&(s(E.endInput).val(w),t&&s(E.endInput).trigger("change"))}function r(e,t){var s=!0;return e&&T&&M&&(M-T>E.maxRange-1&&(A?T=new Date(M-E.maxRange+1):M=new Date(+T+E.maxRange-1)),M-T<E.minRange-1&&(A?T=new Date(M-E.minRange+1):M=new Date(+T+E.minRange-1))),T&&M||(s=!1),t&&m(),s}function c(){return T&&M?Math.max(1,Math.round((new Date(M).setHours(0,0,0,0)-new Date(T).setHours(0,0,0,0))/864e5)+1):0}function d(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(H)}function u(){O&&f&&(s(".mbsc-range-btn-c",f).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",f).removeClass(H),d(s(".mbsc-range-btn-c",f).eq(A)))}function m(){var e,t,a,i,r,o=0,l=Y||!A?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",c=Y||A?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(C=T?n.formatDate(v,T,E):"",w=M?n.formatDate(v,M,E):"",f&&(s(".mbsc-range-btn-v-start",f).html(C||"&nbsp;"),s(".mbsc-range-btn-v-end",f).html(w||"&nbsp;"),e=T?new Date(T):null,a=M?new Date(M):null,!e&&a&&(e=new Date(a)),!a&&e&&(a=new Date(e)),r=A?a:e,s(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",f).removeClass(H),s(".mbsc-cal-table .mbsc-cal-day-hl",f).removeClass($),s(".mbsc-cal-table .mbsc-cal-day-sel",f).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&a))for(t=e.setHours(0,0,0,0),i=a.setHours(0,0,0,0);a>=e&&o<84;)s('.mbsc-cal-day[data-full="'+r.getFullYear()+"-"+r.getMonth()+"-"+r.getDate()+'"]',f).addClass("mbsc-cal-day-sel"+(r.getTime()===t?l:"")+(r.getTime()===i?c:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(H),r.setDate(r.getDate()+(A?-1:1)),o++}function h(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var p,f,b,v,g,y,x,C,w,T,_,M,D,S,k,V,O,P=e._startDate,N=e._endDate,A=0,I=new Date,F=s.extend({},e.settings),E=s.extend(e.settings,l,F),L=E.anchor,Y=E.rangeTap,H=E.activeClass||"",W="mbsc-fr-btn-d "+(E.disabledClass||""),$="mbsc-cal-day-hl",U=null===E.defaultValue?[]:E.defaultValue||[new Date(I.setHours(0,0,0,0)),new Date(I.getFullYear(),I.getMonth(),I.getDate()+6,23,59,59,999)];return Y&&(E.tabs=!0),g=a.calbase.call(this,e),p=s.extend({},g),v=e.format,S="time"===E.controls.join(""),O=1!=E.controls.length||"calendar"!=E.controls[0]||E.showSelector,E.startInput&&(k=s(E.startInput).prop("readonly"),e.attachShow(s(E.startInput).prop("readonly",!0),function(){A=0,E.anchor=L||s(E.startInput)})),E.endInput&&(V=s(E.endInput).prop("readonly"),e.attachShow(s(E.endInput).prop("readonly",!0),function(){A=1,E.anchor=L||s(E.endInput)})),e.setVal=function(t,s,a,i,r){var o=t||[],l=t;(void 0===o[0]||null===o[0]||o[0].getTime)&&(x=!0,T=o[0]||null,C=T?n.formatDate(v,T,E):"",A||(l=p.parseValue(C,e))),(void 0===o[1]||null===o[1]||o[1].getTime)&&(x=!0,M=o[1]||null,w=M?n.formatDate(v,M,E):"",A&&(l=p.parseValue(w,e))),i||(e._startDate=P=T,e._endDate=N=M),e._setVal(l,s,a,i,r)},e.getVal=function(t){return t?[T,M]:e._hasValue?[P,N]:null},e.getDayProps=function(e){var t=T?new Date(T.getFullYear(),T.getMonth(),T.getDate()):null,s=M?new Date(M.getFullYear(),M.getMonth(),M.getDate()):null;return{selected:t&&s&&e>=t&&e<=M,cssClass:((Y||!A)&&t&&t.getTime()===e.getTime()||(Y||A)&&s&&s.getTime()===e.getTime()?$:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var a;A="start"==t?0:1,a="start"==t?T:M,e.isVisible()&&(u(),Y||(s(".mbsc-cal-table .mbsc-cal-day-hl",f).removeClass($),a&&s('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]',f).addClass($)),a&&(y=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,s.extend(g,{highlight:!1,outerMonthChange:!1,formatValue:function(){return C+(E.endInput?"":w?" - "+w:"")},parseValue:function(t){var a=t?t.split(" - "):[];return E.defaultValue=U[1],N=E.endInput?s(E.endInput).val()?n.parseDate(v,s(E.endInput).val(),E):U[1]:a[1]?n.parseDate(v,a[1],E):U[1],E.defaultValue=U[0],P=E.startInput?s(E.startInput).val()?n.parseDate(v,s(E.startInput).val(),E):U[0]:a[0]?n.parseDate(v,a[0],E):U[0],E.defaultValue=U[A],C=P?n.formatDate(v,P,E):"",w=N?n.formatDate(v,N,E):"",e._startDate=P,e._endDate=N,p.parseValue(A?w:C,e)},onFill:function(e){i(e.change)},onBeforeClose:function(t){if("set"===t.button&&!r(!0,!0))return e.setActiveDate(A?"start":"end"),!1},onHide:function(){p.onHide.call(e),A=0,f=null,E.anchor=L},onClear:function(){Y&&(A=0)},onBeforeShow:function(){E.headerText=!1,T=P,M=N,_=h(T,0),D=h(M,1),E.counter&&(E.headerText=function(){var e=c();return(e>1?E.selectedPluralText||E.selectedText:E.selectedText).replace(/{count}/,e)}),x=!0},onMarkupReady:function(t){var a;T&&(y=!0,e.setDate(T,!1,0,!0),T=e.getDate(!0)),M&&(y=!0,e.setDate(M,!1,0,!0),M=e.getDate(!0)),(A&&M||!A&&T)&&(y=!0,e.setDate(A?M:T,!1,0,!0)),m(),p.onMarkupReady.call(this,t),f=s(t.target),f.addClass("mbsc-range"),O&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+E.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(C||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+E.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(w||"&nbsp;")+"</div></div></div></div>",s(".mbsc-cal-tabs",f).before(a),u()),s(".mbsc-range-btn-c",f).on("touchstart click",function(t){o(t,this)&&(e.showMonthView(),e.setActiveDate(s(this).index()?"end":"start"))})},onDayChange:function(e){e.active=A?"end":"start",b=!0},onSetDate:function(a){var n=a.date,i=e.order;y||(void 0===i.h&&n.setHours(A?23:0),void 0===i.i&&n.setMinutes(A?59:0),void 0===i.s&&n.setSeconds(A?59:0),n.setMilliseconds(A?999:0),x&&!b||(Y&&b&&(1==A&&n<T&&(A=0),A?n.setHours(D.h,D.i,D.s,999):n.setHours(_.h,_.i,_.s,0)),A?(M=new Date(n),D=h(M)):(T=new Date(n),_=h(T)),S&&(t(T,n),t(M,n)),Y&&b&&!A&&(M=null))),e._isValid=r(x||b||E.autoCorrect,!y),a.active=A?"end":"start",!y&&Y&&(b&&(A=A?0:1),u()),e.isVisible()&&(e._isValid?s(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(W):s(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(W)),b=!1,x=!1,y=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(A?M:T,!1,1e3,!0),r(!0,!0)},onDestroy:function(){s(E.startInput).prop("readonly",k),s(E.endInput).prop("readonly",V)}}),g}}();var B=e.PropTypes,X=B.string,K=B.bool,G=B.number,Z=B.func,J=B.object;i.react.mixins.RangePropTypes={propTypes:{autoCorrect:K,controls:B.arrayOf(B.oneOf(["time","date","calendar"])),endInput:B.oneOf([X,J]),maxRange:G,minRange:G,showSelector:K,startInput:B.oneOf([X,J]),fromText:X,toText:X,onSetDate:Z}},i.Range=i.react.createComponent({preset:"range"},[i.react.mixins.ScrollerPropTypes,i.react.mixins.DatetimePropTypes,i.react.mixins.CalbasePropTypes,i.react.mixins.RangePropTypes]),i.Scroller=i.react.createComponent({component:"Scroller"},[i.react.mixins.ScrollerPropTypes]),function(e,t,s){var a,n=i,r=n.$,o=r.extend,l=n.classes,c=n.util,d=c.prefix,u=c.jsPrefix,m=c.getCoord,h=c.testTouch,p=c.vibrate,f=c.animEnd,b=1,v=function(){},g=e.requestAnimationFrame||function(e){e()},y=e.cancelAnimationFrame||v,x="transparent";l.ListView=function(n,i){function C(){wt=!1,pt=!1,ue=0,Pt=0,Nt=new Date,et=ve.width(),xe=K(ve),at=xe.index(tt),st=tt[0].offsetHeight,ts=tt[0].offsetTop,Ut=Rt[tt.attr("data-type")||"defaults"],Ot=Ut.stages}function w(e){var s;"touchstart"===e.type&&(ft=!0,clearTimeout(bt)),!h(e,this)||le||Qt||a||is||(le=!0,me=!0,At=m(e,"X"),It=m(e,"Y"),De=0,Se=0,tt=r(this),s=tt,C(),Ht=Mt.onItemTap||Ut.tap||tt.hasClass("mbsc-lv-parent")||tt.hasClass("mbsc-lv-back"),it=Jt.offset().top,nt=tt.offset().top,Ht&&(de=setTimeout(function(){s.addClass("mbsc-lv-item-active"),Fe("onItemActivate",{target:s[0],domEvent:e})},120)),Gt.sortable&&!tt.hasClass("mbsc-lv-back")&&(Gt.sortable.group||(mt=tt.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),vt=tt.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),ot=(Gt.sortable.group?ve.children("li").eq(0):vt.length?vt.eq(-1):tt)[0].offsetTop-ts,rt=(Gt.sortable.group?ve.children("li").eq(-1):mt.length?mt.eq(-1):tt)[0].offsetTop-ts,Gt.sortable.handle?r(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(de),"Moz"===u?(e.preventDefault(),k()):$t=setTimeout(function(){k()},100)):$t=setTimeout(function(){Ee.appendTo(tt),Ee[0].style[u+"Animation"]="mbsc-lv-fill "+(Mt.sortDelay-100)+"ms linear",clearTimeout(Ne),clearTimeout(de),me=!1,$t=setTimeout(function(){Ee[0].style[u+"Animation"]="",k()},Mt.sortDelay-80)},80)),"mousedown"==e.type&&r(t).on("mousemove",T).on("mouseup",_))}function T(e){var t=!1,s=!0;if(le)if(Ae=m(e,"X"),Ie=m(e,"Y"),De=Ae-At,Se=Ie-It,clearTimeout(Ne),Oe||Et||Dt||tt.hasClass("mbsc-lv-back")||(Math.abs(Se)>10?(Dt=!0,_(o({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(de)):Math.abs(De)>7&&M()),Et)e.preventDefault(),ue=De/et*100,D();else if(Oe){e.preventDefault();var a,n=qt.scrollTop(),i=Math.max(ot,Math.min(Se+Xt,rt)),r=$e?nt-Kt+n-Xt:nt;Bt+n<r+i+st?(qt.scrollTop(r+i-Bt+st),a=!0):r+i<n&&(qt.scrollTop(r+i),a=!0),a&&(Xt+=qt.scrollTop()-n),dt&&(Gt.sortable.multiLevel&&ct.hasClass("mbsc-lv-parent")?ts+st/4+i>dt?t=!0:ts+st-st/4+i>dt&&(ke=ct.addClass("mbsc-lv-item-hl"),s=!1):ts+st/2+i>dt&&(ct.hasClass("mbsc-lv-back")?Gt.sortable.multiLevel&&(Ve=ct.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(gt.insertAfter(ct),yt=ct,ct=J(ct,"next"),xt=dt,dt=ct.length&&ct[0].offsetTop,be++)),!t&&xt&&(Gt.sortable.multiLevel&&yt.hasClass("mbsc-lv-parent")?ts+st-st/4+i<xt?t=!0:ts+st/4+i<xt&&(ke=yt.addClass("mbsc-lv-item-hl"),s=!1):ts+st/2+i<xt&&(yt.hasClass("mbsc-lv-back")?Gt.sortable.multiLevel&&(Ve=yt.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(gt.insertBefore(yt),ct=yt,yt=J(yt,"prev"),dt=xt,xt=yt.length&&yt[0].offsetTop+yt[0].offsetHeight,be--)),s&&(ke&&(ke.removeClass("mbsc-lv-item-hl"),ke=!1),Ve&&(Ve.removeClass("mbsc-lv-item-hl"),Ve=!1)),t&&Fe("onSortChange",[tt,be]),W(tt,i),Fe("onSort",[tt,be])}else(Math.abs(De)>5||Math.abs(Se)>5)&&$()}function _(e){var s,a,n,i=tt;le&&(le=!1,$(),"mouseup"==e.type&&r(t).off("mousemove",T).off("mouseup",_),Dt||(bt=setTimeout(function(){ft=!1},300)),(Et||Dt||Oe)&&(pt=!0),Et?S():Oe?(n=ve,ke?(j(tt.detach()),a=ns[ke.attr("data-ref")],be=K(a.child).length,ke.removeClass("mbsc-lv-item-hl"),Mt.navigateOnDrop?ne(ke,function(){Gt.add(null,tt,null,null,ke,!0),se(tt),V(tt,at,n,!0)}):(Gt.add(null,tt,null,null,ke,!0),V(tt,at,n,!0))):Ve?(j(tt.detach()),a=ns[Ve.attr("data-back")],be=K(a.parent).index(a.item)+1,Ve.removeClass("mbsc-lv-item-hl"),Mt.navigateOnDrop?ne(Ve,function(){Gt.add(null,tt,be,null,ve,!0),se(tt),V(tt,at,n,!0)}):(Gt.add(null,tt,be,null,a.parent,!0),V(tt,at,n,!0))):(s=gt[0].offsetTop-ts,W(tt,s,6*Math.abs(s-Math.max(ot,Math.min(Se+Xt,rt))),function(){j(tt),tt.insertBefore(gt),V(tt,at,n,be!==at)})),Oe=!1):!Dt&&Math.abs(De)<5&&Math.abs(Se)<5&&(Ut.tap&&Ut.tap.call(Zt,{target:tt,index:at,domEvent:e},Gt),Ht&&("touchend"===e.type&&c.preventClick(),tt.addClass("mbsc-lv-item-active"),Fe("onItemActivate",{target:tt[0],domEvent:e})),Fe("onItemTap",{target:tt[0],index:at,domEvent:e})!==!1&&ne(tt)),clearTimeout(de),setTimeout(function(){i.removeClass("mbsc-lv-item-active"),Fe("onItemDeactivate",{target:i[0]})},100),Dt=!1,Ce=null)}function M(){(Et=q(Ut.swipe,{target:tt[0],index:at,direction:De>0?"right":"left"}))&&($(),
clearTimeout(de),Ut.actions?(ce=te(Ut,De),lt.html(Ut.icons).show().children().css("width",ce+"%"),Je.hide(),r(".mbsc-lv-ic-m",Qe).removeClass("mbsc-lv-ic-disabled"),r(Ut.leftMenu).each(I),r(Ut.rightMenu).each(I)):(Je.show(),lt.hide(),we=Ut.start+(De>0?0:1),Ct=Ot[we-1],ut=Ot[we]),tt.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),Wt.css("line-height",st+"px"),Qe.css({top:ts,height:st,backgroundColor:Q(De)}).addClass("mbsc-lv-stage-c-v").appendTo(ve.parent()),Mt.iconSlide&&tt.append(Je),Fe("onSlideStart",{target:tt[0],index:at}))}function D(){var e=!1;_t||(Ut.actions?Qe.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(ue<0?"right":"left")):(Ct&&ue<=Ct.percent?(we--,ut=Ct,Ct=Ot[we],e=!0):ut&&ue>=ut.percent&&(we++,Ct=ut,ut=Ot[we],e=!0),e&&(Ce=ue>0?Ct:ut)&&(U(Ce,Mt.iconSlide),Fe("onStageChange",{target:tt[0],index:at,stage:Ce}))),St||(_t=!0,Tt=g(L)))}function S(e){var s,n,i,o=!1;y(Tt),_t=!1,St||L(),Ut.actions?Math.abs(ue)>10&&ce&&(H(tt,ue<0?-ce:ce,200),o=!0,a=!0,he=tt,pe=at,r(t).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),Y(tt,!0,e)})):ue&&(Mt.quickSwipe&&!St&&(i=new Date-Nt,s=i<300&&De<-50,n=i<300&&De>50,s?(wt=!0,Ce=Ut.left,U(Ce,Mt.iconSlide)):n&&(wt=!0,Ce=Ut.right,U(Ce,Mt.iconSlide))),Ce&&Ce.action&&((Me=q(Ce.disabled,{target:tt[0],index:at}))||(o=!0,a=St||q(Ce.confirm,{target:tt[0],index:at}),a?(H(tt,(ue<0?-1:1)*Je[0].offsetWidth*100/et,200,!0),E(Ce,tt,at,!1,e)):F(Ce,tt,at,e)))),o||Y(tt,!0,e),Et=!1}function k(){Oe=!0,ke=!1,Ve=!1,Xt=0,be=at,Mt.vibrate&&p(),ct=J(tt,"next"),dt=ct.length&&ct[0].offsetTop,yt=J(tt,"prev"),xt=yt.length&&yt[0].offsetTop+yt[0].offsetHeight,gt.height(st).insertAfter(tt),tt.css({top:ts}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(Pe),Fe("onSortStart",{target:tt[0],index:be})}function V(e,t,s,a){e.removeClass("mbsc-lv-item-dragging"),gt.remove(),Fe("onSortEnd",{target:e[0],index:be}),Mt.vibrate&&p(),a&&(Gt.addUndoAction(function(a){Gt.move(e,t,null,a,s,!0)},!0),Fe("onSortUpdate",{target:e[0],index:be}))}function O(){ft||(clearTimeout(Xe),a&&r(t).trigger("touchstart"),je&&(Gt.close(ze,qe),je=!1,ze=null))}function P(){clearTimeout(Te),Te=setTimeout(function(){Bt=qt[0].innerHeight||qt.innerHeight(),Kt=$e?qt.offset().top:0,le&&(ts=tt[0].offsetTop,st=tt[0].offsetHeight,Qe.css({top:ts,height:st}))},200)}function N(e){pt&&(e.stopPropagation(),e.preventDefault(),pt=!1)}function A(){if(Oe||!le){var e,t=qt.scrollTop(),s=Jt.offset().top,a=Jt[0].offsetHeight,n=$e?qt.offset().top:t;r(".mbsc-lv-gr-title",Jt).each(function(t,s){r(s).offset().top<n&&(e=s)}),s<n&&s+a>n?Ye.show().empty().append(r(e).clone()):Ye.hide()}}function I(e,t){q(t.disabled,{target:tt[0],index:at})&&r(".mbsc-ic-"+t.icon,Qe).addClass("mbsc-lv-ic-disabled")}function F(e,t,s,a){var n,i={icon:"undo2",text:Mt.undoText,color:"#b1b1b1",action:function(){Gt.undo()}};e.undo&&(Gt.startActionTrack(),r.isFunction(e.undo)&&Gt.addUndoAction(function(){e.undo.call(Zt,{target:t[0],index:s},Gt)}),zt=t.attr("data-ref")),n=e.action.call(Zt,{target:t[0],index:s},Gt),e.undo?(Gt.endActionTrack(),n!==!1&&H(t,+t.attr("data-pos")<0?-100:100,200),gt.height(st).insertAfter(t),t.css("top",ts).addClass("mbsc-lv-item-undo"),lt.hide(),Je.show(),Qe.append(Je),U(i),E(i,t,s,!0,a)):Y(t,n,a)}function E(e,s,n,i,o){var l,d;a=!0,r(t).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),i&&z(s),Y(s,!0,o)}),_e||Je.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),l=m(e,"X"),d=m(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(t){t.preventDefault(),"touchend"===t.type&&c.preventClick(),Math.abs(m(t,"X")-l)<10&&Math.abs(m(t,"Y")-d)<10&&(F(e,s,n,o),i&&(jt=null,z(s)))})}function L(){H(tt,Pt+100*De/et),_t=!1}function Y(e,s,n){r(t).off(".mbsc-lv-conf"),Je.off(".mbsc-lv-conf"),s!==!1?H(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){R(e,n),j(e)}):R(e,n),a=!1}function H(e,t,s,a,n){t=Math.max("right"==Et?0:-100,Math.min(t,"left"==Et?0:100)),Ft=e[0].style,e.attr("data-pos",t),Ft[u+"Transform"]="translate3d("+(a?et*t/100+"px":t+"%")+",0,0)",Ft[u+"Transition"]=d+"transform "+(s||0)+"ms",n&&(Qt++,setTimeout(function(){n(),Qt--},s)),ue=t}function W(e,t,s,a){t=Math.max(ot,Math.min(t,rt)),Ft=e[0].style,Ft[u+"Transform"]="translate3d(0,"+t+"px,0)",Ft[u+"Transition"]=d+"transform "+(s||0)+"ms ease-out",a&&(Qt++,setTimeout(function(){a(),Qt--},s))}function $(){clearTimeout($t),!me&&Gt.sortable&&(me=!0,Ee.remove())}function U(e,t){var s=q(e.text,{target:tt[0],index:at})||"";q(e.disabled,{target:tt[0],index:at})?Qe.addClass("mbsc-lv-ic-disabled"):Qe.removeClass("mbsc-lv-ic-disabled"),Qe.css("background-color",e.color||(0===e.percent?Q(ue):x)),Je.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(ue<0?"right":"left")),Ze.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),Wt.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(s?"":" mbsc-lv-ic-only")).html(s||"&nbsp;"),Mt.animateIcons&&(wt?Ze.addClass("mbsc-lv-ic-v"):setTimeout(function(){Ze.addClass("mbsc-lv-ic-a")},10))}function R(e,t){le||(Ze.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),Qe.attr("style","").removeClass("mbsc-lv-stage-c-v"),Wt.html("")),Qe.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(Fe("onSlideEnd",{target:e[0],index:at}),t&&t())}function z(e){e.css("top","").removeClass("mbsc-lv-item-undo"),jt?Gt.animate(gt,"collapse",function(){gt.remove()}):gt.remove(),R(),zt=null,jt=null}function j(e){Ft=e[0].style,Ft[u+"Transform"]="",Ft[u+"Transition"]="",Ft.top="",e.removeClass("mbsc-lv-item-swiping")}function q(e,t){return r.isFunction(e)?e.call(this,t,Gt):e}function B(e){var t;if(e.attr("data-ref")||(t=b++,e.attr("data-ref",t),ns[t]={item:e,child:e.children("ul,ol"),parent:e.parent(),ref:e.parent()[0]===Zt?null:e.parent().parent().attr("data-ref")}),e.addClass("mbsc-lv-item"),Gt.sortable.handle&&"list-divider"!=e.attr("data-role")&&!e.children(".mbsc-lv-handle-c").length&&e.append(Ue),Mt.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var s=e.attr("data-icon"),a=e.find("img").eq(0).addClass("mbsc-lv-img");a.is(":first-child")?e.addClass("mbsc-lv-img-"+(Mt.rtl?"right":"left")):a.length&&e.addClass("mbsc-lv-img-"+(Mt.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=r(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),s&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(Mt.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+s+'"></div>')}}function X(e){r("li",e).not(".mbsc-lv-item").each(function(){B(r(this))}),r('li[data-role="list-divider"]',e).removeClass("mbsc-lv-item").addClass("mbsc-lv-gr-title"),r("ul,ol",e).not(".mbsc-lv").addClass("mbsc-lv").prepend(Ke).parent().addClass("mbsc-lv-parent").prepend(Ge),r(".mbsc-lv-back",e).each(function(){r(this).attr("data-back",r(this).parent().parent().attr("data-ref"))})}function K(e){return e.children("li").not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function G(e){return"object"!=typeof e&&(e=r('li[data-id="'+e+'"]',fe)),r(e)}function Z(e){for(var t=0,s=ns[e.attr("data-ref")];s&&s.ref;)t++,s=ns[s.ref];return t}function J(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!Gt.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function Q(e){return(e>0?Ut.right:Ut.left).color||x}function ee(e){return c.isNumeric(e)?e+"":0}function te(e,t){return+(t<0?ee((e.actionsWidth||0).right)||ee(e.actionsWidth)||ee(Mt.actionsWidth.right)||ee(Mt.actionsWidth):ee((e.actionsWidth||0).left)||ee(e.actionsWidth)||ee(Mt.actionsWidth.left)||ee(Mt.actionsWidth))}function se(e,t){if(e){var s=qt.scrollTop(),a=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,n=e.offset().top+($e?s-Kt:0);t?(n<s||n+a>s+Bt)&&qt.scrollTop(n):n<s?qt.scrollTop(n):n+a>s+Bt&&qt.scrollTop(Math.min(n,n+a-Bt/2))}}function ae(e,t,s,a,n){var i=t.parent(),r=t.prev();a=a||v,r[0]===Je[0]&&(r=Je.prev()),ve[0]!==t[0]?(Fe("onNavStart",{level:es,direction:e,list:t[0]}),kt.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),se(fe),ie(kt,"mbsc-lv-sl-"+e,function(){ve.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),ge&&ge.length?ve.removeClass("mbsc-lv-v").insertAfter(ge):ye.append(ve.removeClass("mbsc-lv-v")),ge=r,ye=i,ve=t,se(s,n),a.call(Zt,s),Fe("onNavEnd",{level:es,direction:e,list:t[0]})})):(se(s,n),a.call(Zt,s))}function ne(e,t){Qt||(e.hasClass("mbsc-lv-parent")?(es++,ae("r",ns[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(es--,ae("l",ns[e.attr("data-back")].parent,ns[e.attr("data-back")].item,t)))}function ie(e,t,s){function a(){clearTimeout(n),Qt--,e.off(f,a).removeClass(t),s.call(Zt,e)}var n;s=s||v,Mt.animation&&"mbsc-lv-item-none"!==t?(Qt++,e.on(f,a).addClass(t),n=setTimeout(a,500)):s.call(Zt,e)}function re(e,t){var s,a=e.attr("data-ref");s=as[a]=as[a]||[],t&&s.push(t),e.attr("data-action")||(t=s.shift(),e.attr("data-action",1),t(function(){e.removeAttr("data-action"),s.length?re(e):delete as[a]}))}function oe(e,t,a){var n,i;e&&e.length&&(n=100/(e.length+2),r.each(e,function(r,l){l.key===s&&(l.key=Vt++),l.percent===s&&(l.percent=t*n*(r+1),a&&(i=o({},l),i.key=Vt++,i.percent=-n*(r+1),e.push(i),ss[i.key]=i)),ss[l.key]=l}))}var le,ce,de,ue,me,he,pe,fe,be,ve,ge,ye,xe,Ce,we,Te,_e,Me,De,Se,ke,Ve,Oe,Pe,Ne,Ae,Ie,Fe,Ee,Le,Ye,He,We,$e,Ue,Re,ze,je,qe,Be,Xe,Ke,Ge,Ze,Je,Qe,et,tt,st,at,nt,it,rt,ot,lt,ct,dt,ut,mt,ht,pt,ft,bt,vt,gt,yt,xt,Ct,wt,Tt,_t,Mt,Dt,St,kt,Vt,Ot,Pt,Nt,At,It,Ft,Et,Lt,Yt,Ht,Wt,$t,Ut,Rt,zt,jt,qt,Bt,Xt,Kt,Gt=this,Zt=n,Jt=r(Zt),Qt=0,es=0,ts=0,ss={},as={},ns={};l.Base.call(this,n,i,!0),Gt.animate=function(e,t,s){ie(e,"mbsc-lv-item-"+t,s)},Gt.add=function(e,t,a,n,i,o){var l,c,d,u,m,h,p="",f=i===s?Jt:G(i),g=f,y="object"!=typeof t?r('<li data-ref="'+b+++'" data-id="'+e+'">'+t+"</li>"):t,x=y.attr("data-pos")<0?"left":"right",C=y.attr("data-ref");n=n||v,C||(C=b++,y.addClass("mbsc-lv-item").attr("data-ref",C)),B(y),o||Gt.addUndoAction(function(e){u?Gt.navigate(f,function(){g.remove(),f.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),m.child=f.children("ul,ol"),Gt.remove(y,null,e,!0)}):Gt.remove(y,null,e,!0)},!0),re(y,function(e){j(y.css("top","").removeClass("mbsc-lv-item-undo")),f.is("li")?(h=f.attr("data-ref"),f.children("ul,ol").length||(u=!0,f.append("<ul></ul>"))):h=f.children(".mbsc-lv-back").attr("data-back"),m=ns[h],m&&(m.child.length?g=m.child:(f.addClass("mbsc-lv-parent").prepend(Ge),g=f.children("ul,ol").prepend(Ke).addClass("mbsc-lv"),m.child=g,r(".mbsc-lv-back",f).attr("data-back",h))),ns[C]={item:y,child:y.children("ul,ol"),parent:g,ref:h},d=K(g),c=d.length,a!==s&&null!==a||(a=c),o&&(p="mbsc-lv-item-new-"+(o?x:"")),X(y.addClass(p)),a!==!1&&(c?a<c?y.insertBefore(d.eq(a)):y.insertAfter(d.eq(c-1)):(l=r(".mbsc-lv-back",g),l.length?y.insertAfter(l):g.append(y))),g.hasClass("mbsc-lv-v")?Gt.animate(y.height(y[0].offsetHeight),o&&zt===C?"none":"expand",function(t){Gt.animate(t.height(""),o?"add-"+x:"pop-in",function(t){n.call(Zt,t.removeClass(p)),e()})}):(n.call(Zt,y.removeClass(p)),e()),fe.trigger("mbsc-enhance",[{theme:Mt.theme,lang:Mt.lang}]),Fe("onItemAdd",{target:y[0]})})},Gt.swipe=function(e,t,a,n,i){e=G(e),tt=e,_e=n,St=!0,le=!0,a=a===s?300:a,De=t>0?1:-1,C(),M(),H(e,t,a),clearTimeout(Yt),clearInterval(Lt),Lt=setInterval(function(){ue=c.getPosition(e)/et*100,D()},10),Yt=setTimeout(function(){clearInterval(Lt),ue=t,D(),S(i),_e=!1,St=!1,le=!1},a)},Gt.openStage=function(e,t,s,a){ss[t]&&Gt.swipe(e,ss[t].percent,s,a)},Gt.openActions=function(e,t,s,a){e=G(e);var n=te(Rt[e.attr("data-type")||"defaults"],"left"==t?-1:1);Gt.swipe(e,"left"==t?-n:n,s,a)},Gt.close=function(e,t){Gt.swipe(e,0,t)},Gt.remove=function(e,t,s,a){var n,i,r;s=s||v,e=G(e),e.length&&(i=e.parent(),n=K(i).index(e),r=e[0].style,a||(e.attr("data-ref")===zt&&(jt=!0),Gt.addUndoAction(function(t){Gt.add(null,e,n,t,i,!0)},!0)),re(e,function(n){t=t||(e.attr("data-pos")<0?"left":"right"),i.hasClass("mbsc-lv-v")?Gt.animate(e.addClass("mbsc-lv-removed"),a?"pop-out":"remove-"+t,function(e){r.height=e[0].offsetHeight+"px",Gt.animate(e,"collapse",function(e){r.height="",j(e.removeClass("mbsc-lv-removed")),s.call(Zt,e)!==!1&&e.remove(),n()})}):(s.call(Zt,e)!==!1&&e.remove(),n()),Fe("onItemRemove",{target:e[0]})}))},Gt.move=function(e,t,s,a,n,i){e=G(e),i||Gt.startActionTrack(),Qe.append(Je),Gt.remove(e,s,null,i),Gt.add(null,e,t,a,n,i),i||Gt.endActionTrack()},Gt.navigate=function(e,t){var s,a;e=G(e),s=ns[e.attr("data-ref")],a=Z(e),s&&(ae(a>=es?"r":"l",s.parent,e,t,!0),es=a)},Gt._processSettings=function(){Jt.is("[mbsc-enhance]")&&(He=!0,Jt.removeAttr("mbsc-enhance"))},Gt._init=function(){var t,n,i,o=Jt.find("ul,ol").length?"left":"right",l=0,d="",u="",h="";i=Mt.sort||Mt.sortable||!1,"group"===i&&(i={group:!1,multiLevel:!0}),i===!0&&(i={group:!0,multiLevel:!0,handle:Mt.sortHandle}),i&&i.handle===s&&(i.handle=Mt.sortHandle),i.handle&&(We=i.handle===!0?o:i.handle,Ue='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+We+' mbsc-lv-handle"><div class="'+Mt.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+Mt.handleMarkup+"</div></div>"),Ke='<li class="mbsc-lv-item mbsc-lv-back">'+Mt.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Mt.leftArrowClass+'"></div></li>',Ge='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Mt.rightArrowClass+'"></div>',t="mbsc-lv-cont mbsc-lv-"+Mt.theme+(Mt.rtl?" mbsc-lv-rtl":"")+(Mt.baseTheme?" mbsc-lv-"+Mt.baseTheme:"")+(Mt.animateIcons?" mbsc-lv-ic-anim":"")+(Mt.striped?" mbsc-lv-alt-row":"")+(Mt.fixedHeader?" mbsc-lv-has-fixed-header":"")+(i.handle?" mbsc-lv-handle-"+We:""),Gt.sortable=i||!1,fe?(fe.attr("class",t),i.handle&&r(".mbsc-lv-handle-c",Jt).remove(),r("li:not(.mbsc-lv-back)",Jt).removeClass("mbsc-lv-item")):(d+='<div class="mbsc-lv-multi-c"></div>',d+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',Jt.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").show(),Qe=r('<div class="mbsc-lv-stage-c">'+d+"</div>"),Je=r(".mbsc-lv-ic-c",Qe),lt=r(".mbsc-lv-multi-c",Qe),Ze=r(".mbsc-lv-ic-s",Qe),Wt=r(".mbsc-lv-ic-text",Qe),gt=r('<li class="mbsc-lv-item mbsc-lv-ph"></li>'),Ee=r('<div class="mbsc-lv-fill-item"></div>'),fe=r('<div class="'+t+'"><ul class="mbsc-lv mbsc-lv-dummy"></ul><div class="mbsc-lv-sl-c"></div></div>'),$e="body"!==Mt.context,qt=r($e?Mt.context:e),Pe=r(".mbsc-lv-dummy",fe),fe.insertAfter(Jt),qt.on("orientationchange resize",P),P(),fe.on("touchstart mousedown",".mbsc-lv-item",w).on("touchmove",".mbsc-lv-item",T).on("touchend touchcancel",".mbsc-lv-item",_),Zt.addEventListener("click",N,!0),fe.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){_e||(e.stopPropagation(),e.preventDefault()),At=m(e,"X"),It=m(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){_e||("touchend"===e.type&&c.preventClick(),a&&!r(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(m(e,"X")-At)<10&&Math.abs(m(e,"Y")-It)<10&&F((ue<0?Ut.rightMenu:Ut.leftMenu)[r(this).index()],he,pe))}),kt=r(".mbsc-lv-sl-c",fe).append(Jt.addClass("mbsc-lv-sl-curr")).attr("data-ref",b++),ve=Jt,ye=fe),X(Jt),Vt=0,Rt=Mt.itemGroups||{},Rt.defaults={swipeleft:Mt.swipeleft,swiperight:Mt.swiperight,stages:Mt.stages,actions:Mt.actions,actionsWidth:Mt.actionsWidth},r.each(Rt,function(e,t){if(t.swipe=t.swipe!==s?t.swipe:Mt.swipe,t.stages=t.stages||[],oe(t.stages,1,!0),oe(t.stages.left,1),oe(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),Le=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),r.each(t.stages,function(e,t){if(0===t.percent)return Le=!0,!1}),Le||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),r.each(t.stages,function(e,s){if(0===s.percent)return t.start=e,!1}),Le?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,u="",h="",l=0;l<t.leftMenu.length;l++)u+="<div "+(t.leftMenu[l].color?'style="background-color: '+t.leftMenu[l].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[l].icon+'">'+(t.leftMenu[l].text||"")+"</div>";for(l=0;l<t.rightMenu.length;++l)h+="<div "+(t.rightMenu[l].color?'style="background-color: '+t.rightMenu[l].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[l].icon+'">'+(t.rightMenu[l].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+u+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+h+"</div>"}}),Mt.fixedHeader&&(n="mbsc-lv-fixed-header"+($e?" mbsc-lv-fixed-header-ctx mbsc-lv-"+Mt.theme+(Mt.baseTheme?" mbsc-lv-"+Mt.baseTheme:""):""),Ye?Ye.attr("class",n):(Ye=r('<div class="'+n+'"></div>'),$e?qt.before(Ye):fe.prepend(Ye),ht=c.throttle(A,200),qt.on("scroll touchmove",ht))),Mt.hover&&(qe||fe.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){ze&&ze[0]==this||(O(),ze=r(this),Rt[ze.attr("data-type")||"defaults"].actions&&(Xe=setTimeout(function(){ft?ze=null:(je=!0,Gt.openActions(ze,Re,qe,!1))},Be)))}).on("mouseleave.mbsc-lv",O),qe=Mt.hover.time||200,Be=Mt.hover.timeout||200,Re=Mt.hover.direction||Mt.hover||"right"),He&&fe.attr("mbsc-enhance",""),fe.trigger("mbsc-enhance",[{theme:Mt.theme,lang:Mt.lang}])},Gt._destroy=function(){ye.append(ve),$e&&Ye&&Ye.remove(),He&&Jt.attr("mbsc-enhance",""),Zt.removeEventListener("click",N,!0),fe.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),fe.find("ul,ol").removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find("li").removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),r(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",fe).remove(),Jt.insertAfter(fe),fe.remove(),Qe.remove(),qt.off("orientationchange resize",P),ht&&qt.off("scroll touchmove",ht)};var is,rs=[],os=[],ls=[],cs=0;Gt.startActionTrack=function(){cs||(ls=[]),cs++},Gt.endActionTrack=function(){--cs||os.push(ls)},Gt.addUndoAction=function(e,t){var s={action:e,async:t};cs?ls.push(s):(os.push([s]),os.length>Mt.undoLimit&&os.shift())},Gt.undo=function(){function e(){a<0?(is=!1,t()):(s=n[a],a--,s.async?s.action(e):(s.action(),e()))}function t(){(n=rs.shift())&&(is=!0,a=n.length-1,e())}var s,a,n;os.length&&rs.push(os.pop()),is||t()},Mt=Gt.settings,Fe=Gt.trigger,Gt.init(i)},l.ListView.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},n.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"},n.presetShort("listview","ListView")}(window,document),i.react.ListviewItem=e.createClass({getInitialState:function(){return{instanceReady:this.props.instanceReady}},componentWillLeave:function(e){var s=i.$(t.findDOMNode(this));this.state.instanceReady?this.props.instance.remove(s,void 0,function(){return s.parent().find(".mbsc-lv-stage-c").remove(),e(),!1}):e()},componentWillEnter:function(e){if(this.state.instanceReady){var s=i.$(t.findDOMNode(this)),a=this.props.parentItem?i.$(t.findDOMNode(this.props.parentItem)):void 0;if(a){var n=s.parent();n.prepend(n.children(".mbsc-lv-back"))}this.props.instance.add(null,s,s.index(),void 0,a)}e()},componentWillReceiveProps:function(e){var t=(e.instance,a(e,["instance"]));this.setState(t)},shouldComponentUpdate:function(e,t){return!i.react.deepCompare(this.state,t)||!i.react.deepCompare(this.props,e)},childrenMounted:function(e){if(this.props.instanceReady){var s,a;if(e){var n=i.$(t.findDOMNode(this));a=this.props.instance,s=i.$(t.findDOMNode(e)).children("li"),n&&n.hasClass("mbsc-lv-item")&&s.each(function(){var e=i.$(this);a.add(null,e,e.index(),void 0,n)})}else{var r=i.$(t.findDOMNode(this)).children("ul");a=this.props.instance,s=r.children("li").not(".mbsc-lv-back"),s.each(function(){var e=i.$(this);a.remove(e,void 0,function(){e.parent().find(".mbsc-lv-stage-c").remove()})})}}},render:function(){var t=i.$.extend({},{item:this.props.item},this.props.itemProps),s=null;return this.props.item.children&&(s=void 0!==e.addons&&void 0!==e.addons.TransitionGroup?e.createElement(e.addons.TransitionGroup,{component:"ul",ref:this.childrenMounted},this.props.item.children.map(function(t){return e.createElement(i.react.ListviewItem,{key:t[this.props.dataKeyField],item:t,instance:this.props.instance,instanceReady:this.props.instanceReady,itemType:this.props.itemType,itemProps:this.props.itemProps,dataKeyField:this.props.dataKeyField,mounter:this.props.mounter,parentItem:this,ref:this.props.mounter(t,this)})},this)):e.createElement("ul",null,this.props.item.children.map(function(t){return e.createElement(i.react.ListviewItem,{key:t[this.props.dataKeyField],item:t,instance:this.props.instance,instanceReady:this.props.instanceReady,itemType:this.props.itemType,itemProps:this.props.itemProps,dataKeyField:this.props.dataKeyField,mounter:this.props.mounter,parentItem:this,ref:this.props.mounter(t,this)})},this))),e.createElement(this.props.itemType,t,s)}});var Q=e.PropTypes,ee=Q.object,te=Q.array,se=Q.number,ae=Q.bool,ne=Q.string,ie=Q.func;i.Listview=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes],propTypes:{dataKeyField:Q.string,itemType:Q.func.isRequired,itemProps:ee,data:Q.array.isRequired,actions:Q.oneOfType([ee,te]),actionsWidth:se,striped:ae,animateIcons:ae,display:Q.oneOf(["inline"]),enhance:ae,fillAnimation:ae,fixedHeader:ae,hover:Q.oneOfType([Q.shape({time:se,timeout:se,direction:Q.oneOf(["left","right"])}),Q.oneOf(["left","right"])]),iconSlide:ae,itemGroups:ee,navigateOnDrop:ae,quickSwipe:ae,sortable:Q.oneOfType([ae,ee]),sortDelay:se,stages:Q.oneOfType([te,ee]),swipe:Q.oneOfType([ie,ae,Q.oneOf(["left","right"])]),swipeLeft:ie,swipeRight:ie,vibrate:ae,undoText:ne,backText:ne,onItemTap:ie,onItemAdd:ie,onItemRemove:ie,onNavEnd:ie,onNavStart:ie,onSlideEnd:ie,onSlideStart:ie,onSort:ie,onSortChange:ie,onSortStart:ie,onSortEnd:ie,onSortUpdate:ie,onStageChange:ie},getDefaultProps:function(){return{dataKeyField:"id"}},listMounted:function(e){this.wrapperList=t.findDOMNode(e)},listItemMounted:function(e,s,a){if(a){if(void 0!==this.instance){var n=i.$(t.findDOMNode(a)),r=s?i.$(t.findDOMNode(s)):void 0;(void 0===r||r.hasClass("mbsc-lv-item"))&&this.instance.add(null,n,n.index(),void 0,r)}}else i.$(this.wrapperList).find(".mbsc-lv-stage-c").remove()},getMountFunction:function(e,t){return void 0===this.mountFunctions[e[this.props.dataKeyField]]&&(this.mountFunctions[e[this.props.dataKeyField]]=this.listItemMounted.bind(this,e,t)),this.mountFunctions[e[this.props.dataKeyField]]},componentDidMount:function(){var e=i.$.extend({},this.state.options);this.instance=new i.classes.ListView(this.wrapperList,e),this.setState({instanceReady:!0})},getInitialState:function(){return this.mountFunctions={},{}},render:function(){var t,s=this.state.data.map(function(t){return e.createElement(i.react.ListviewItem,{instance:this.instance,instanceReady:this.state.instanceReady,itemType:this.props.itemType,itemProps:this.props.itemProps,key:t[this.props.dataKeyField],dataKeyField:this.props.dataKeyField,ref:this.getMountFunction(t),mounter:this.getMountFunction,item:t})},this);return t=void 0!==e.addons&&void 0!==e.addons.TransitionGroup?e.createElement(e.addons.TransitionGroup,{component:"ul",ref:this.listMounted},s):e.createElement("ul",{ref:this.listMounted},s),e.createElement("div",{className:this.initialCssClass},t)},shouldComponentUpdate:function(e,t){var s=!i.react.deepCompare(t.options,this.state.options),a=!i.react.deepCompare(t.data,this.state.data),n=this.state.instanceReady!==t.instanceReady;return this.optimizeUpdate={updateOptions:s,updateValue:!1,updateData:a},s||a||n}}),function(e){var t=i,s=t.$,a={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};t.presets.scroller.measurement=function(e){function t(e){return Math.max(x,Math.min(C,Y?e<0?Math.ceil(e):Math.floor(e):o(Math.round(e-R),U)+R))}function n(e){return Y?o((Math.abs(e)-Math.abs(t(e)))*$-z,U)+z:0}function i(e){var s=t(e),a=n(e),i=e<0?"-":"+";return a>=$&&(e<0?s--:s++,a=0),[i,s,a]}function r(e){var t=+e[b],s=Y?e[f]/$*(t<0?-1:1):0;return(I&&"-"==e[0]?-1:1)*(t+s)}function o(e,t){return Math.round(e/t)*t}function l(e,t,s){return t!==s&&S.convert?S.convert.call(this,e,t,s):e}function c(e,t,s){return e=e>s?s:e,e=e<t?t:e}function d(e){var t,s;g=l(S.min,E,e),y=l(S.max,E,e),Y?(x=g<0?Math.ceil(g):Math.floor(g),C=y<0?Math.ceil(y):Math.floor(y),w=n(g),T=n(y)):(x=Math.round(g),C=Math.round(y),C=x+Math.floor((C-x)/U)*U,R=x%U),t=x,s=C,I&&(s=Math.abs(t)>Math.abs(s)?Math.abs(t):Math.abs(s),t=t<0?0:t),P.min=t<0?Math.ceil(t/H):Math.floor(t/H),P.max=s<0?Math.ceil(s/H):Math.floor(s/H)}function u(e){return r(e).toFixed(Y?W:0)+(F?" "+L[e[v]]:"")}var m,h,p,f,b,v,g,y,x,C,w,T,_,M,D=s.extend({},e.settings),S=s.extend(e.settings,a,D),k={},V=[[]],O={},P={},N={},A=[],I=S.sign,F=S.units&&S.units.length,E=F?S.defaultUnit||S.units[0]:"",L=[],Y=S.step<1,H=S.step>1?S.step:1,W=Y?Math.max(S.scale,(S.step+"").split(".")[1].length):1,$=Math.pow(10,W),U=Math.round(Y?S.step*$:S.step),R=0,z=0,j=0;if(e.setVal=function(t,a,n,i,r){e._setVal(s.isArray(t)?u(t):t,a,n,i,r)},S.units)for(M=0;M<S.units.length;++M)_=S.units[M],L.push(S.unitNames?S.unitNames[_]||_:_);if(I)if(I=!1,F)for(M=0;M<S.units.length;M++)l(S.min,E,S.units[M])<0&&(I=!0);else I=S.min<0;if(I&&(V[0].push({data:["-","+"],label:S.signText}),j++),P={label:S.wholeText,data:function(e){return x%H+e*H},getIndex:function(e){return Math.round((e-x%H)/H)}},V[0].push(P),b=j++,d(E),Y){for(V[0].push(N),N.data=[],N.label=S.fractionText,M=z;M<$;M+=U)A.push(M),N.data.push({value:M,display:"."+function(e,t){for(e+="";e.length<t;)e="0"+e;return e}(M,W)});f=j++,m=Math.ceil(100/U),S.invalid&&S.invalid.length&&(s.each(S.invalid,function(e,t){var s=t>0?Math.floor(t):Math.ceil(t);0===s&&(s=t<=0?-.001:.001),O[s]=(O[s]||0)+1,0===t&&(s=.001,O[s]=(O[s]||0)+1)}),s.each(O,function(e,t){t<m?delete O[e]:O[e]=e}))}if(F){for(k={data:[],label:S.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},M=0;M<S.units.length;M++)k.data.push({value:M,display:L[M]});V[0].push(k)}return v=j,{wheels:V,minWidth:I&&Y?70:80,showLabel:!1,formatValue:u,compClass:"mbsc-msr",parseValue:function(e){var t,a=("number"==typeof e?e+"":e)||S.defaultValue,n=(a+"").split(" "),r=+n[0],o=[],l="";return F&&(l=s.inArray(n[1],L),l=l==-1?s.inArray(E,S.units):l,l=l==-1?0:l),p=F?S.units[l]:"",d(p),r=isNaN(r)?0:r,r=c(r,g,y),t=i(r),t[1]=c(t[1],x,C),h=r,I&&(o[0]=t[0],t[1]=Math.abs(t[1])),o[b]=t[1],Y&&(o[f]=t[2]),F&&(o[v]=l),o},onCancel:function(){h=void 0},validate:function(t){var a,n,u,m,_,M=t.values,D=t.index,k=t.direction,V={},N=[],L={},W=F?S.units[M[v]]:"";if(I&&0===D&&(h=Math.abs(h)*("-"==M[0]?-1:1)),(D===b||D===f&&Y||void 0===h||void 0===D)&&(h=r(M),p=W),(F&&D===v&&p!==W||void 0===D)&&(d(W),h=l(h,p,W),p=W,n=i(h),void 0!==D&&(L[b]=P,e.changeWheel(L)),I&&(M[0]=n[0])),N[b]=[],I)for(N[0]=[],g>0&&(N[0].push("-"),M[0]="+"),y<0&&(N[0].push("+"),M[0]="-"),_=Math.abs("-"==M[0]?x:C),j=_+H;j<_+20*H;j+=H)N[b].push(j),V[j]=!0;if(h=c(h,g,y),n=i(h),u=I?Math.abs(n[1]):n[1],a=I?"-"==M[0]:h<0,M[b]=u,a&&(n[0]="-"),Y&&(M[f]=n[2]),s.each(Y?O:S.invalid,function(e,t){if(I&&a){if(!(t<=0))return;t=Math.abs(t)}t=o(l(t,E,W),Y?1:U),V[t]=!0,N[b].push(t)}),M[b]=e.getValidValue(b,u,k,V),n[1]=M[b]*(I&&a?-1:1),Y){N[f]=[];var $=I?M[0]+M[1]:(h<0?"-":"+")+Math.abs(n[1]),R=(g<0?"-":"+")+Math.abs(x),z=(y<0?"-":"+")+Math.abs(C);$===R&&s(A).each(function(e,t){(a?t>w:t<w)&&N[f].push(t)}),$===z&&s(A).each(function(e,t){(a?t<T:t>T)&&N[f].push(t)}),s.each(S.invalid,function(e,t){m=i(l(t,E,W)),(n[0]===m[0]||0===n[1]&&0===m[1]&&0===m[2])&&n[1]===m[1]&&N[f].push(m[2])})}return{disabled:N,valid:M}}}},t.presetShort("measurement")}(),function(){var e=i,t=e.presets.scroller;t.number=t.measurement,e.presetShort("number")}();var re=e.PropTypes,oe=re.string,le=re.number;i.react.mixins.NumberPropTypes={propTypes:{defaultValue:oe,invalid:re.array,max:le,min:le,scale:le,step:le,wholeText:oe,fractionText:oe,signText:oe}},i.Number=i.react.createComponent({preset:"number"},[i.react.mixins.ScrollerPropTypes,i.react.mixins.NumberPropTypes]),function(e){var t=i,s=t.$,a=t.util,n=a.testTouch,r=a.getCoord,o=a.isNumeric,l=function(){},c=t.classes;c.Numpad=function(t,a,i){function l(e){var a,n=_.validate.call(t,{values:I.slice(0),variables:R},W)||[],i=n&&n.disabled||[];if(W._isValid=!n.invalid,W._tempValue=_.formatValue.call(t,I.slice(0),R,W),T=I.length,F=n.length||L,W._isVisible){if(s(".mbsc-np-ph",x).each(function(e){s(this).html("ltr"==_.fill?e>=T?w:M||I[e]:e>=L-F?e+T<L?w:M||I[e+T-L]:"")}),s(".mbsc-np-cph",x).each(function(){s(this).html(R[s(this).attr("data-var")]||s(this).attr("data-ph"))}),T===L)for(a=0;a<=9;a++)i.push(a);for(s(".mbsc-np-btn",x).removeClass(C),a=0;a<i.length;a++)s('.mbsc-np-btn[data-val="'+i[a]+'"]',x).addClass(C);W._isValid?s(".mbsc-fr-btn-s .mbsc-fr-btn",x).removeClass(C):s(".mbsc-fr-btn-s .mbsc-fr-btn",x).addClass(C),W.live&&(W._hasValue=e||W._hasValue,d(e,!1,e),e&&E("onSet",{valueText:W._value}))}}function d(e,t,a,n){t&&l(),n||(Y=I.slice(0),z=s.extend({},R),$=U.slice(0),W._value=W._hasValue?W._tempValue:null),e&&(W._isInput&&H.val(W._hasValue&&W._isValid?W._value:""),E("onFill",{valueText:W._hasValue?W._tempValue:"",change:a}),a&&(W._preventChange=!0,H.trigger("change")))}function u(e){var t,s,a=e||[],n=[];for(U=[],R={},t=0;t<a.length;t++)/:/.test(a[t])?(s=a[t].split(":"),R[s[0]]=s[1],U.push(s[0])):(n.push(a[t]),U.push("digit"));return n}function m(e,t){!(T||t||_.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||T<L&&(U.push("digit"),I.push(t),l(!0))}function h(t){var s,a,n=t.attr("data-val"),i="false"!==t.attr("data-track"),r=t.attr("data-var");if(!t.hasClass("mbsc-fr-btn-d")){if(r&&(a=r.split(":"),i&&U.push(a[0]),R[a[0]]=a[2]===e?a[1]:R[a[0]]==a[1]?a[2]:a[1]),n.length+T<=F)for(s=0;s<n.length;++s)a=o(n[s])?+n[s]:n[s],(_.allowLeadingZero||T||a)&&(U.push("digit"),I.push(a),T=I.length);l(!0)}}function p(){var e,t,s=U.pop();if(T||"digit"!==s){if("digit"!==s&&R[s])for(delete R[s],t=U.slice(0),U=[],e=0;e<t.length;e++)t[e]!==s&&U.push(t[e]);else I.pop();l(!0)}}function f(e){N=!0,D=r(e,"X"),S=r(e,"Y"),clearInterval(A),clearTimeout(A),p(),A=setInterval(function(){p()},150)}function b(){clearInterval(A),N=!1}function v(e){n(e,this)&&(f(e),"mousedown"===e.type&&s(document).on("mousemove",g).on("mouseup",y))}function g(e){N&&(k=r(e,"X"),V=r(e,"Y"),O=k-D,P=V-S,(Math.abs(O)>7||Math.abs(P)>7)&&b())}function y(e){N&&(e.preventDefault(),b(),"mouseup"===e.type&&s(document).off("mousemove",g).off("mouseup",y))}var x,C,w,T,_,M,D,S,k,V,O,P,N,A,I,F,E,L,Y,H=s(t),W=this,$=[],U=[],R={},z={},j={107:"+",109:"-"},q={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};c.Frame.call(this,t,a,!0),W.setVal=W._setVal=function(a,n,i,r){W._hasValue=null!==a&&a!==e,I=u(s.isArray(a)?a.slice(0):_.parseValue.call(t,a,W)),d(n,!0,i===e?n:i,r)},W.getVal=W._getVal=function(e){
return W._hasValue||e?W[e?"_tempValue":"_value"]:null},W.setArrayVal=W.setVal,W.getArrayVal=function(e){return e?I.slice(0):W._hasValue?Y.slice(0):null},W._readValue=function(){var e=H.val()||"";""!==e&&(W._hasValue=!0),M?(R={},U=[],I=[]):(R=W._hasValue?z:{},U=W._hasValue?$:[],I=W._hasValue&&Y?Y.slice(0):u(_.parseValue.call(t,e,W)),d(!1,!0))},W._fillValue=function(){W._hasValue=!0,d(!0,!1,!0)},W._generateContent=function(){var t,s,a,n=1,i="",r="";for(r+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+_.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+_.deleteIcon+'"></div><div class="mbsc-np-dsp">',i=_.template.replace(/d/g,'<span class="mbsc-np-ph">'+w+"</span>").replace(/&#100;/g,"d"),i=i.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),r+=i,r+="</div></div>",r+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',t=0;t<4;t++){for(r+='<div class="mbsc-np-row">',s=0;s<3;s++)a=n,10==n||12==n?a="":11==n&&(a=0),""===a?10==n&&_.leftKey?r+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(_.leftKey.variable?'data-var="'+_.leftKey.variable+'"':"")+' data-val="'+(_.leftKey.value||"")+'" '+(_.leftKey.track!==e?' data-track="'+_.leftKey.track+'"':"")+">"+_.leftKey.text+"</div>":12==n&&_.rightKey?r+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(_.rightKey.variable?'data-var="'+_.rightKey.variable+'"':"")+' data-val="'+(_.rightKey.value||"")+'" '+(_.rightKey.track!==e?' data-track="'+_.rightKey.track+'"':"")+" >"+_.rightKey.text+"</div>":r+='<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':r+='<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",n++;r+="</div>"}return r+="</div></div>"},W._markupReady=function(){x=W._markup,l()},W._attachEvents=function(t){t.on("keydown",function(a){var n;j[a.keyCode]!==e?(n=s('.mbsc-np-btn[data-var="sign:-:"]',t),n.length&&(R.sign=107==a.keyCode?"-":"",h(n))):q[a.keyCode]!==e?m(s('.mbsc-np-btn[data-val="'+q[a.keyCode]+'"]',t),q[a.keyCode]):8==a.keyCode&&(a.preventDefault(),p())}),W.tap(s(".mbsc-np-btn",t),function(){var e=s(this);e.hasClass("mbsc-np-btn-custom")?h(e):m(e,+e.attr("data-val"))},!1,30,!0),s(".mbsc-np-del",t).on("touchstart mousedown keydown",v).on("touchmove mousemove",g).on("keyup mouseup touchend",y)},W.__init=function(){_=W.settings,_.cssClass=(_.cssClass||"")+" mbsc-np",_.template=_.template.replace(/\\d/,"&#100;"),w=_.placeholder,L=(_.template.match(/d/g)||[]).length,C="mbsc-fr-btn-d "+(_.disabledClass||""),M=_.mask,E=W.trigger,M&&H.is("input")&&H.attr("type","password")},W._indexOf=function(e,t){var s;for(s=0;s<e.length;++s)if(e[s].toString()===t.toString())return s;return-1},i||W.init(a)},c.Numpad.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:s.extend({},c.Frame.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:l,parseValue:l,formatValue:function(e,t,a){var n,i=1,r=a.settings,o=r.placeholder,l=r.template,c=e.length,d=l.length,u="";for(n=0;n<d;n++)"d"==l[d-n-1]?(u=i<=c?e[c-i]+u:o+u,i++):u=l[d-n-1]+u;return s.each(t,function(e,t){u=u.replace("{"+e+"}",t)}),s("<div>"+u+"</div>").text()}})},t.themes.numpad=t.themes.frame,t.presetShort("numpad","Numpad",!1)}(),function(){var e=i,t=e.$,s={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};e.presets.numpad.decimal=function(a){function n(e,t){for(var s,a=e.slice(0),n=0;a.length;)n=10*n+a.shift();for(s=0;s<o.scale;s++)n/=10;return t?n*-1:n}function i(e){return n(e).toFixed(o.scale).replace(".",o.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,o.thousandsSeparator)}var r=t.extend({},a.settings),o=t.extend(a.settings,s,r),l=o.min<0;return a.getVal=function(t){var s=a._getVal(t);return e.util.isNumeric(s)?+s:s},{template:(l?"{sign}":"")+o.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(o.max,Math.abs(o.min)))+"").length+1).join("d")+(o.scale?"."+Array(o.scale+1).join("d"):"")+o.suffix.replace(/d/g,"\\d"),leftKey:l?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,s,a=e||o.defaultValue,n=[];if(a&&(a=(a+"").replace(o.decimalSeparator,".").replace(o.thousandsSeparator,""),s=a.match(/\d+\.?\d*/g)))for(s=(+s[0]).toFixed(o.scale),t=0;t<s.length;t++)"."!=s[t]&&(+s[t]?n.push(+s[t]):n.length&&n.push(0));return e<0&&n.push("sign:-"),n},formatValue:function(e,t){var s=i(e);return(n(e,t&&"-"==t.sign)<0?"-":"")+(o.returnAffix?o.prefix+s+o.suffix:s)},validate:function(e){var s=e.values,r=i(s),l=n(s,e.variables&&"-"==e.variables.sign),c=[];return s.length||o.allowLeadingZero||c.push(0),a.isVisible()&&t(".mbsc-np-dsp",a._markup).html((e.variables.sign||"")+o.prefix+r+o.suffix),{disabled:c,invalid:l>o.max||l<o.min||!!o.invalid&&a._indexOf(o.invalid,l)!=-1}}}}}(),function(){function e(e){for(var t=0,s=1,a=0;e.length;)t>3?s=3600:t>1&&(s=60),a+=e.pop()*s*(t%2?10:1),t++;return a}var t=i,s=t.$,a=t.presets.numpad,n=["h","m","s"],r={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};a.timespan=function(a){function i(e){var t,a="",i=3600;return s(n).each(function(s,n){t=Math.floor(e/i),e-=t*i,i/=60,(t>0||"s"==n&&!a)&&(a=a+(a?" ":"")+t+c[n])}),a}var o=s.extend({},a.settings),l=s.extend(a.settings,r,o),c={h:l.hourTextShort.replace(/d/g,"\\d"),m:l.minuteTextShort.replace(/d/g,"\\d"),s:l.secTextShort.replace(/d/g,"\\d")},d='d<span class="mbsc-np-sup mbsc-np-time">'+c.s+"</span>";return l.max>9&&(d="d"+d),l.max>99&&(d='<span class="mbsc-np-ts-m">'+(l.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+c.m+"</span>"+d),l.max>6039&&(d='<span class="mbsc-np-ts-h">'+(l.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+c.h+"</span>"+d),a.setVal=function(e,s,n,r){return t.util.isNumeric(e)&&(e=i(e)),a._setVal(e,s,n,r)},a.getVal=function(t){return a._hasValue||t?e(a.getArrayVal(t)):null},{template:d,parseValue:function(e){var t,a=e||i(l.defaultValue),r=[];return a&&s(n).each(function(e,s){t=new RegExp("(\\d+)"+c[s],"gi").exec(a),t?(t=+t[1],t>9?(r.push(Math.floor(t/10)),r.push(t%10)):(r.length&&r.push(0),(t||r.length)&&r.push(t))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(t){return i(e(t))},validate:function(t){var s=t.values,n=e(s.slice(0)),i=[];return s.length||i.push(0),{disabled:i,invalid:n>l.max||n<l.min||!!l.invalid&&a._indexOf(l.invalid,+n)!=-1}}}}}(),function(){var e=i,t=e.$,s={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};e.presets.numpad.time=function(e){function a(e,s){var a,n="";for(a=0;a<e.length;++a)n+=e[a]+(a%2==(e.length%2==1?0:1)&&a!=e.length-1?":":"");return t.each(s,function(e,t){n+=" "+t}),n}function n(e){var t,s,a,n,i,c,d,g,y,x,C=[],w=2*o.length;if(u=w,e.length||(l&&(C.push(0),C.push(r.leftKey.value)),C.push(r.rightKey.value)),!l&&(w-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&w-e.length<=2)&&(C.push("30"),C.push("00")),(l?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),u=w-1),e.length==w)for(t=0;t<=9;++t)C.push(t);else if(1==e.length&&l&&1==e[0]||e.length&&e.length%2==0||!l&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)C.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+f==+(void 0!==e[3]?""+e[2]+e[3]:""),r.invalid)for(t=0;t<r.invalid.length;++t)if(c=r.invalid[t].getHours(),d=r.invalid[t].getMinutes(),g=r.invalid[t].getSeconds(),c==+y){if(2==o.length&&(d<10?0:+(""+d)[0])==+e[2]){C.push(d<10?d:+(""+d)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){C.push(g<10?g:+(""+g)[1]);break}}if(r.min||r.max){if(s=+m==+y,a=+h==+y,i=a&&x,n=s&&x,0===e.length){for(t=l?2:m>19?m[0]:3;t<=(1==m[0]?9:m[0]-1);++t)C.push(t);if(m>=10&&(C.push(0),2==m[0]))for(t=3;t<=9;++t)C.push(t);if(h&&h<10||m&&m>=10)for(t=h&&h<10?+h[0]+1:0;t<(m&&m>=10?m[0]:10);++t)C.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<m[0];++t)C.push(t);if(m&&0!==e[0]&&(l?1==e[0]:2==e[0]))for(t=l?3:4;t<=9;++t)C.push(t);if(e[0]==m[0])for(t=0;t<m[1];++t)C.push(t);if(e[0]==h[0]&&!l)for(t=+h[1]+1;t<=9;++t)C.push(t)}if(2==e.length&&(s||a))for(t=a?+f[0]+1:0;t<(s?+p[0]:10);++t)C.push(t);if(3==e.length&&(a&&e[2]==f[0]||s&&e[2]==p[0]))for(t=a&&e[2]==f[0]?+f[1]+1:0;t<(s&&e[2]==p[0]?+p[1]:10);++t)C.push(t);if(4==e.length&&(n||i))for(t=i?+v[0]+1:0;t<(n?+b[0]:10);++t)C.push(t);if(5==e.length&&(n&&e[4]==b[0]||i&&e[4]==v[0]))for(t=i&&e[4]==v[0]?+v[1]+1:0;t<(n&&e[4]==b[0]?+b[1]:10);++t)C.push(t)}return C}var i=t.extend({},e.settings),r=t.extend(e.settings,s,i),o=r.timeFormat.split(":"),l=r.timeFormat.match(/a/i),c=l?"a"==l[0]?r.amText:r.amText.toUpperCase():"",d=l?"a"==l[0]?r.pmText:r.pmText.toUpperCase():"",u=0,m=r.min?""+r.min.getHours():"",h=r.max?""+r.max.getHours():"",p=r.min?""+(r.min.getMinutes()<10?"0"+r.min.getMinutes():r.min.getMinutes()):"",f=r.max?""+(r.max.getMinutes()<10?"0"+r.max.getMinutes():r.max.getMinutes()):"",b=r.min?""+(r.min.getSeconds()<10?"0"+r.min.getSeconds():r.min.getSeconds()):"",v=r.max?""+(r.max.getSeconds()<10?"0"+r.max.getSeconds():r.max.getSeconds()):"";return r.min&&r.min.setFullYear(2014,7,20),r.max&&r.max.setFullYear(2014,7,20),{placeholder:"-",allowLeadingZero:!0,template:(3==o.length?"dd:dd:dd":2==o.length?"dd:dd":"dd")+(l?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:l?{text:c,variable:"ampm:"+c,value:"00"}:{text:":00",value:"00"},rightKey:l?{text:d,variable:"ampm:"+d,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,s,a=e||r.defaultValue,n=[];if(a){if(a+="",s=a.match(/\d/g))for(t=0;t<s.length;t++)n.push(+s[t]);l&&n.push("ampm:"+(a.match(new RegExp(r.pmText,"gi"))?d:c))}return n},formatValue:function(e,t){return a(e,t)},validate:function(t){var s=t.values,i=t.variables,o=a(s,i),c=s.length>=3?new Date(2014,7,20,""+s[0]+(s.length%2==0?s[1]:""),""+s[s.length%2==0?2:1]+s[s.length%2==0?3:2]):"";return{disabled:n(s),length:u,invalid:(l?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+r.amText+"|"+r.pmText+")$","i").test(o):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o))||!!r.invalid&&e._indexOf(r.invalid,c)!=-1||!((!r.min||r.min<=c)&&(!r.max||c<=r.max))}}}}}(),function(){var e=i,t=e.$,s={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};e.presets.numpad.date=function(e){function a(e){return e%4==0&&e%100!=0||e%400==0}function n(e){var t,s,n,i,c,d=[],u=void 0!==e[r+3]?""+e[r]+e[r+1]+e[r+2]+e[r+3]:"",h=void 0!==e[o+1]?""+e[o]+e[o+1]:"",x=void 0!==e[l+1]?""+e[l]+e[l+1]:"",C=""+m.getMaxDayOfMonth(u||2012,h-1||0),w=g===u&&+p==+h,T=y===u&&+f==+h;if(m.invalid)for(t=0;t<m.invalid.length;++t){if(n=m.getYear(m.invalid[t]),i=m.getMonth(m.invalid[t]),c=m.getDay(m.invalid[t]),n==+u&&i+1==+h&&(c<10?0:+(""+c)[0])==+e[l]){d.push(c<10?c:+(""+c)[1]);break}if(i+1==+h&&c==+x&&(""+n).substring(0,3)==""+e[r]+e[r+1]+e[r+2]){d.push((""+n)[3]);break}if(n==+u&&c==+x&&(i<10?0:+(""+(i+1))[0])==+e[o]){d.push(i<10?i:+(""+(i+1))[1]);break}}if("31"!=x||e.length!=o&&e.length!=o+1||(1!=e[o]?d.push(2,4,6,9,11):d.push(1)),"30"==x&&0===e[o]&&e.length<=o+1&&d.push(2),e.length==o){for(t=y===u&&+f<10?1:2;t<=9;++t)d.push(t);g===u&&+p>=10&&d.push(0)}if(e.length==o+1){if(1==e[o]){for(t=y===u?+f[1]+1:3;t<=9;++t)d.push(t);if(g==u)for(t=0;t<+p[1];++t)d.push(t)}if(0===e[o]&&(d.push(0),y===u||g===u))for(t=y===u?+x>+v?+f:+f+1:0;t<=(g===u?+p-1:9);++t)d.push(t)}if(e.length==l){for(t=T?1+(+v>10?+v[0]:0):+C[0]+1;t<=9;++t)d.push(t);if(w)for(t=0;t<(+b<10?0:b[0]);++t)d.push(t)}if(e.length==l+1){if(e[l]>=3||"02"==h)for(t=+C[1]+1;t<=9;++t)d.push(t);if(T&&+v[0]==e[l])for(t=+v[1]+1;t<=9;++t)d.push(t);if(w&&b[0]==e[l])for(t=0;t<+b[1];++t)d.push(t);if(0===e[l]&&(d.push(0),T||w))for(t=T?+v+1:1;t<=(w?+b-1:9);++t)d.push(t)}if(void 0!==e[r+2]&&"02"==h&&"29"==x)for(s=+(""+e[r]+e[r+1]+e[r+2]+0);s<=+(""+e[r]+e[r+1]+e[r+2]+9);++s)d.push(a(s)?"":s%10);if(e.length==r){if(m.min)for(t=0;t<+g[0];++t)d.push(t);if(m.max)for(t=+y[0]+1;t<=9;++t)d.push(t);d.push(0)}if(m.min||m.max)for(s=1;s<4;++s)if(e.length==r+s){if(e[r+s-1]==+g[s-1]&&(3!=s||e[r+s-2]==+g[s-2]))for(t=0;t<+g[s]+(3==s&&e[o+1]&&+p>+h?1:0);++t)d.push(t);if(e[r+s-1]==+y[s-1]&&(3!=s||e[r+s-2]==+y[s-2]))for(t=+y[s]+(3==s&&+f<+h?0:1);t<=9;++t)d.push(t)}return d}function i(e){return new Date(+(""+e[r]+e[r+1]+e[r+2]+e[r+3]),+(""+e[o]+e[o+1])-1,+(""+e[l]+e[l+1]))}var r,o,l,c,d=[],u=t.extend({},e.settings),m=t.extend(e.settings,C.defaults,s,u),h=m.dateOrder,p=m.min?""+(m.getMonth(m.min)+1):0,f=m.max?""+(m.getMonth(m.max)+1):0,b=m.min?""+m.getDay(m.min):0,v=m.max?""+m.getDay(m.max):0,g=m.min?""+m.getYear(m.min):0,y=m.max?""+m.getYear(m.max):0;for(h=h.replace(/y+/gi,"yyyy"),h=h.replace(/m+/gi,"mm"),h=h.replace(/d+/gi,"dd"),r=h.toUpperCase().indexOf("Y"),o=h.toUpperCase().indexOf("M"),l=h.toUpperCase().indexOf("D"),h="",d.push({val:r,n:"yyyy"},{val:o,n:"mm"},{val:l,n:"dd"}),d.sort(function(e,t){return e.val-t.val}),t.each(d,function(e,t){h+=t.n}),r=h.indexOf("y"),o=h.indexOf("m"),l=h.indexOf("d"),h="",c=0;c<8;++c)h+="d",c+1!=r&&c+1!=o&&c+1!=l||(h+=m.delimiter);return e.getVal=function(t){return e._hasValue||t?i(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:h,parseValue:function(e){var t,s=[],a=e||m.defaultValue,n=C.parseDate(m.dateFormat,a,m);if(a)for(t=0;t<d.length;++t)s=/m/i.test(d[t].n)?s.concat(((m.getMonth(n)<9?"0":"")+(m.getMonth(n)+1)).split("")):/d/i.test(d[t].n)?s.concat(((m.getDay(n)<10?"0":"")+m.getDay(n)).split("")):s.concat((m.getYear(n)+"").split(""));return s},formatValue:function(e){return C.formatDate(m.dateFormat,i(e),m)},validate:function(t){var s=t.values,a=i(s);return{disabled:n(s),invalid:!("Invalid Date"!=a&&(!m.min||m.min<=a)&&(!m.max||a<=m.max))||!!m.invalid&&e._indexOf(m.invalid,a)!=-1}}}}}();var ce=e.PropTypes,de=ce.bool,ue=ce.string,me=ce.func,he=ce.shape({text:ue.isRequired,variable:ue,value:ue});i.react.mixins.NumpadPropTypes={propTypes:{allowLeadingZero:de,deleteIcon:ue,fill:ce.oneOf(["ltr","rtl"]),leftKey:he,mask:ue,placeholder:ue,preset:ce.oneOf(["decimal","timespan","time","date"]),rightKey:he,template:ue,onSelect:me,onSet:me,validate:me,onClear:me,cancelText:ue,clearText:ue,setText:ue}},i.Numpad=i.react.createComponent({component:"Numpad"},[i.react.mixins.NumpadPropTypes]),function(e,t,s){var a=i,n=a.$,r=n.extend,o=a.classes,l=1;o.MenuStrip=function(t,i){function c(e){clearTimeout(k),k=setTimeout(function(){f("load"!==e.type)},200)}function d(e,t){if(e.length){var a=e.offset().left,i=e[0].offsetLeft,r=e[0].offsetWidth,o=v.offset().left;b=e,t===s&&(t=!D),O&&t&&(D?e.attr("data-selected")?m(e):u(e):(m(n(".mbsc-ms-item-sel",$)),u(e))),V&&(i=F-i-r),"a"==A?a<o?N.scroll(V?i+r-w:-i,H,!0):a+r>o+w&&N.scroll(V?i:w-i-r,H,!0):N.scroll(w/2-i-r/2,H,!0),t&&L("onItemTap",{target:e[0]})}}function u(e){e.addClass(P).attr("data-selected","true").attr("aria-selected","true")}function m(e){e.removeClass(P).removeAttr("data-selected").removeAttr("aria-selected")}function h(e){return"object"!=typeof e&&(e=$.children('[data-id="'+e+'"]')),n(e)}function p(){$.find(".mbsc-ripple").remove(),$.children().each(function(e){var t,s=n(this),a=O&&"true"==s.attr("data-selected"),i="true"==s.attr("data-disabled"),r=s.attr("data-icon"),o=s.attr("data-ref");o||(o=l++),0===e&&(y=s),O&&!D&&a&&(b=s),r&&(T=!0),s.text()&&(_=!0),t="mbsc-ms-item mbsc-btn-e "+(I.itemClass||"")+(a?P:"")+(i?" mbsc-btn-d "+(I.disabledClass||""):"")+(r?" mbsc-ms-ic mbsc-ic mbsc-ic-"+r:""),s.attr("data-ref",o).attr("data-role","button").attr("aria-selected",a?"true":"false").attr("aria-disabled",i?"true":"false").removeClass(Y[o]).addClass(t),Y[o]=t}),T&&v.addClass("mbsc-ms-icons"),_&&v.addClass("mbsc-ms-txt")}function f(e,s){var n=I.itemWidth,i=I.layout;W.contWidth=w=v.width(),e&&S===w||!w||(S=w,a.util.isNumeric(i)&&(M=w?w/i:n)<n&&(i="liquid"),n&&("liquid"==i?M=w?w/Math.min(Math.floor(w/n),$.children().length):n:"fixed"==i&&(M=n)),M&&$.children().css("width",M+"px"),"inline"!=I.display&&g.find(".mbsc-page").css("padding-"+I.display,t.offsetHeight+"px"),W.totalWidth=F=t.offsetWidth,r(N.settings,{contSize:w,maxSnapScroll:!!I.paging&&1,maxScroll:0,minScroll:F>w?w-F:0,snap:I.paging?w:!!I.snap&&(M||".mbsc-ms-item"),elastic:F>w&&(M||w)}),N.refresh(s))}var b,v,g,y,x,C,w,T,_,M,D,S,k,V,O,P,N,A,I,F,E,L,Y={},H=1e3,W=this,$=n(t);o.Base.call(this,t,i,!0),W.navigate=function(e,t){d(h(e),t)},W.next=function(e){var t=b?b.next():y;t.length&&(b=t,d(b,e))},W.prev=function(e){var t=b?b.prev():y;t.length&&(b=t,d(b,e))},W.select=function(e){D||m(n(".mbsc-ms-item-sel",$)),u(h(e))},W.deselect=function(e){m(h(e))},W.enable=function(e){h(e).removeClass("mbsc-btn-d").removeAttr("data-disabled").removeAttr("aria-disabled")},W.disable=function(e){h(e).addClass("mbsc-btn-d").attr("data-disabled","true").attr("aria-disabled","true")},W.refresh=W.position=function(e){p(),f(!1,e)},W._init=function(){g=n(I.context),x=n("body"==I.context?e:I.context),"tabs"==I.type?(I.select=I.select||"single",I.variant=I.variant||"b"):"options"==I.type?(I.select=I.select||"multiple",I.variant=I.variant||"a"):"menu"==I.type&&(I.select=I.select||"off",I.variant=I.variant||"a"),I.itemWidth&&I.snap===s&&(I.snap=!0),V=I.rtl,A=I.variant,O="off"!=I.select,D="multiple"==I.select,P=" mbsc-ms-item-sel "+(I.activeClass||""),C="mbsc-ms-c mbsc-no-touch mbsc-ms-"+A+" mbsc-ms-"+I.display+" mbsc-"+I.theme+" "+(I.baseTheme?" mbsc-"+I.baseTheme:"")+" "+(I.cssClass||"")+" "+(I.wrapperClass||"")+(V?" mbsc-ms-rtl":" mbsc-ms-ltr")+(I.itemWidth?" mbsc-ms-hasw":"")+("body"==I.context?"":" mbsc-ms-ctx")+(O?"":" mbsc-ms-nosel"),v?v.attr("class",C):(v=n('<div class="'+C+'"><div class="mbsc-ms-sc"></div></div>').insertAfter($),v.find(".mbsc-ms-sc").append($),N=new a.classes.ScrollView(v[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:V,mousewheel:I.mousewheel,onStart:function(e){E||"touchstart"!=e.domEvent.type||(E=!0,g.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){d(n(e.target),!0)},onGestureStart:function(e){L("onGestureStart",e)},onGestureEnd:function(e){L("onGestureEnd",e)},onMove:function(e){L("onMove",e)},onAnimationStart:function(e){L("onAnimationStart",e)},onAnimationEnd:function(e){L("onAnimationEnd",e)}})),$.css("display","").addClass("mbsc-ms "+(I.groupClass||"")),p(),L("onMarkupReady",{target:v[0]}),f(),v.find("img").on("load",c),x.on("orientationchange resize",c)},W._destroy=function(){"inline"!=I.display&&g.find(".mbsc-page").css("padding-"+I.display,""),x.off("orientationchange resize",c),$.removeClass("mbsc-ms mbsc-ms-a mbsc-ms-b").insertAfter(v).find(".mbsc-ms-item").each(function(){var e=n(this);e.width("").removeClass(Y[e.attr("data-ref")])}),v.remove(),N.destroy()},I=W.settings,L=W.trigger,W.init(i)},o.MenuStrip.prototype={_class:"menustrip",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",type:"options",display:"inline",layout:"liquid"}},a.presetShort("menustrip","MenuStrip")}(window,document);var pe=e.PropTypes,fe=pe.number,be=pe.bool,ve=pe.func;i.Menustrip=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes],propTypes:{display:pe.oneOf(["top","bottom","inline"]),itemWidth:fe,layout:pe.oneOfType([fe,pe.oneOf(["liquid","fixed"])]),paging:be,select:pe.oneOf(["off","single","multiple"]),snap:be,type:pe.oneOf(["options","tabs","menu"]),variant:pe.oneOf(["a","b"]),onItemTap:ve,onMarkupReady:ve,onAnimationStart:ve,onAnimationEnd:ve,onMove:ve,onGestureStart:ve,onGestureEnd:ve},componentDidMount:function(){var e=i.$.extend({},this.state.options),s=t.findDOMNode(this);this.instance=new i.classes.MenuStrip(s,e)},componentDidUpdate:function(){for(var e=0;e<this.props.children.length;e++)this.props.children[e].props.selected?this.instance.select(this.props.children[e].key):this.instance.deselect(this.props.children[e].key),this.props.children[e].props.disabled?this.instance.disable(this.props.children[e].key):this.instance.enable(this.props.children[e].key);this.optimizeUpdate.updateChildren&&this.instance.refresh(!0)},shouldComponentUpdate:function(e,t){return this.optimizeUpdate={updateOptions:!i.react.deepCompare(this.state.options,t.options),updateChildren:!i.react.deepCompare(this.props.children,e.children)},!0},render:function(){return e.createElement("ul",{className:this.initialCssClass},this.props.children)}}),function(e){var t=i,s=t.$,a=t.classes;a.Widget=function(e,t,n){function i(e){s(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(s(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(c.show()),s(".mbsc-w-p",e).length||s(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var r,o,l,c=s(e),d=this;a.Frame.call(this,e,t,!0),d._generateContent=function(){return""},d._markupReady=function(e){"inline"!=r.display&&i(e)},d._markupInserted=function(e){"inline"==r.display&&i(e),e.trigger("mbsc-enhance",[{theme:r.theme,lang:r.lang}])},d._markupRemove=function(){c.hide(),o?o.prepend(c):l.after(c)},d.__processSettings=function(){r=d.settings,d.buttons.ok={text:r.okText,icon:r.okIcon,handler:"set"},r.buttons=r.buttons||("inline"==r.display?[]:["ok"]),o||l||(l=c.prev(),l.length||(o=c.parent())),c.hide()},d.__init=function(){r.cssClass=(r.cssClass||"")+" mbsc-wdg"},n||d.init(t)},a.Widget.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_class:"widget",_defaults:s.extend({},a.Frame.prototype._defaults,{okText:"OK",headerText:!1})},t.themes.widget=t.themes.frame,t.presetShort("widget","Widget",!1)}(),i.Widget=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes,i.react.mixins.FramePropTypes],componentDidMount:function(){var e=i.$.extend({},this.state.options);this.instance=new i.classes.Widget(this.refs.widget,e)},render:function(){var t=this.props,s=(t.className,t.style);return e.createElement("div",{className:this.initialCssClass,style:s,ref:"widget"},this.props.children)}}),function(e,t){var s=i,a=s.$;s.classes.Page=function(e,t){var n="",i=a(e),r=this,o=r.settings;s.classes.Base.call(this,e,t,!0),r._init=function(){var e=o.context,t=a(e),s=t.find(".mbsc-ms-top .mbsc-ms"),r=t.find(".mbsc-ms-bottom .mbsc-ms"),l={};"body"==e?a("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),n&&i.removeClass(n),s.length&&(l.paddingTop=s[0].offsetHeight),r.length&&(l.paddingBottom=r[0].offsetHeight),n="mbsc-page mbsc-"+o.theme+(o.baseTheme?" mbsc-"+o.baseTheme:"")+(o.rtl?" mbsc-rtl":" mbsc-ltr"),i.addClass(n).css(l)},r._destroy=function(){i.removeClass(n)},o=r.settings,r.init(t)},s.classes.Page.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},s.themes.page.mobiscroll={},s.presetShort("page","Page"),a(function(){a("[mbsc-page]").each(function(){new s.classes.Page(this)}),a(e).on("mbsc-enhance",function(e,t){a(e.target).is("[mbsc-page]")?new s.classes.Page(e.target,t):a("[mbsc-page]",e.target).each(function(){new s.classes.Page(this,t)})})})}(document),i.Page=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes],propTypes:{onInit:e.PropTypes.func},componentDidMount:function(){var e=i.$.extend({},this.state.options);this.instance=new i.classes.Page(t.findDOMNode(this),e)},render:function(){return e.createElement("div",{className:this.initialCssClass},this.props.children)}}),function(e,t){var s,a=function(){},n=i,r=n.$,o=n.platform,l=n.util,c=l.getCoord,d=l.testTouch;"android"==o.name&&o.majorVersion<5&&e.addEventListener("change",function(e){n.tapped&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0),n.classes.Form=function(t,i){function o(e){var t={},s=e[0],a=e.parent(),n=e.attr("data-password-toggle"),i=e.attr("data-icon-show")||"eye",o=e.attr("data-icon-hide")||"eye-blocked";n&&(t.right="password"==s.type?i:o),l.addIcon(e,t),n&&C.tap(a.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==s.type?(s.type="password",r(this).addClass("mbsc-ic-"+i).removeClass("mbsc-ic-"+o)):(s.type="text",r(this).removeClass("mbsc-ic-"+i).addClass("mbsc-ic-"+o))})}function u(){var e=this;if(!r(e).hasClass("mbsc-textarea-scroll")){var t=e.scrollHeight-e.offsetHeight,s=e.offsetHeight+t;e.scrollTop=0,e.style.height=s+"px"}}function m(e){var t,s,a,n=r(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",a=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(a>0?a:0),s=Math.round(t/24),s>n?(e.scrollTop=t,t=24*n+(t-24*s),r(e).addClass("mbsc-textarea-scroll")):r(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function h(){clearTimeout(b),b=setTimeout(function(){r("textarea.mbsc-control",y).each(function(){m(this)})},100)}function p(e){return!(!e.id||!n.instances[e.id])}var f,b,v,g="",y=r(t),x=[],C=this;n.classes.Base.call(this,t,i,!0),C.refresh=function(t){r("input,select,textarea,progress,button",y).each(function(){function a(){r("input",S).val(M.selectedIndex!=-1?M.options[M.selectedIndex].text:"")}var i,h,g,w,T,_,M=this,D=r(M),S=D.parent(),k=D.attr("data-role"),V=D.attr("type")||M.nodeName.toLowerCase();if("false"!=D.attr("data-enhance")){if(/(switch|range|segmented|stepper)/.test(k)&&(V=k),D.hasClass("mbsc-control"))/(switch|range|progress)/.test(V)&&p(M)&&!t&&n.instances[M.id].option({theme:f.theme,lang:f.lang,rtl:f.rtl,onText:f.onText,offText:f.offText,stopProp:f.stopProp});else{switch(D.next().hasClass("mbsc-fr")&&(i=D.next()),"button"!=V&&"submit"!=V&&"segmented"!=V&&(S.find("label").addClass("mbsc-label"),S.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){r('<span class="mbsc-label"></span>').insertAfter(this).append(this)})),V){case"button":case"submit":g=D.attr("data-icon"),D.addClass("mbsc-btn"),g&&(D.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+g+'"></span>'),""===D.text()&&D.addClass("mbsc-btn-icon-only"));break;case"switch":p(M)||x.push(new n.classes.Switch(M,{theme:f.theme,lang:f.lang,rtl:f.rtl,onText:f.onText,offText:f.offText,stopProp:f.stopProp}));break;case"checkbox":S.prepend(D).addClass("mbsc-checkbox mbsc-control-w"),D.after('<span class="mbsc-checkbox-box"></span>');break;case"range":S.hasClass("mbsc-slider")||p(M)||x.push(new n.classes.Slider(M,{theme:f.theme,lang:f.lang,rtl:f.rtl,stopProp:f.stopProp}));break;case"progress":p(M)||x.push(new n.classes.Progress(M,{theme:f.theme,lang:f.lang,rtl:f.rtl}));break;case"radio":S.addClass("mbsc-radio mbsc-control-w"),D.after('<span class="mbsc-radio-box"><span></span></span>');break;case"select":case"select-one":case"select-multiple":h=D.prev().is("input.mbsc-control")?D.prev():r('<input tabindex="-1" type="text" class="mbsc-control mbsc-control-ev" readonly>'),o(D),S.addClass("mbsc-input mbsc-select mbsc-control-w"+(i?" mbsc-select-inline":"")),D.after(h),h.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>');break;case"textarea":o(D),S.addClass("mbsc-input mbsc-textarea mbsc-control-w");break;case"segmented":var O,P;D.parent().hasClass("mbsc-segmented-item")||(P=r('<div class="mbsc-segmented"></div>'),S.after(P),r('input[name="'+D.attr("name")+'"]',y).each(function(e,t){O=r(t).parent().addClass("mbsc-segmented-item"),r('<span class="mbsc-segmented-content">'+(r(t).attr("data-icon")?' <span class="mbsc-ic mbsc-ic-'+r(t).attr("data-icon")+'"></span> ':"")+"</span>").append(O.contents()).appendTo(O),O.prepend(t),P.append(O)}));break;case"stepper":p(M)||x.push(new n.classes.Stepper(M,{form:C}));break;case"hidden":return;default:o(D),S.addClass("mbsc-input mbsc-control-w")}D.addClass("mbsc-control"),i&&i.insertAfter(S)}D.hasClass("mbsc-control-ev")||(/select/.test(V)&&!D.hasClass("mbsc-comp")&&(D.on("change.mbsc-form",a),a()),"textarea"==V&&D.on("keydown.mbsc-form input.mbsc-form",function(){clearTimeout(b),b=setTimeout(function(){m(M)},100)}).on("scroll.mbsc-form",u),D.addClass("mbsc-control-ev").on("touchstart.mbsc-form mousedown.mbsc-form",function(e){d(e,this)&&(T=c(e,"X"),_=c(e,"Y"),"touchstart"==e.type&&y.removeClass("mbsc-no-touch"),s&&s.removeClass("mbsc-active"),M.disabled||(w=!0,s=r(this),r(this).addClass("mbsc-active"),v("onControlActivate",{target:this,domEvent:e})))}).on("touchmove.mbsc-form mousemove.mbsc-form",function(e){(w&&Math.abs(c(e,"X")-T)>9||Math.abs(c(e,"Y")-_)>9)&&(D.removeClass("mbsc-active"),v("onControlDeactivate",{target:D[0],domEvent:e}),w=!1)}).on("touchend.mbsc-form touchcancel.mbsc-form mouseleave.mbsc-form mouseup.mbsc-form",function(t){if(w&&f.tap&&"touchend"==t.type&&!M.readOnly&&(M.focus(),/(button|submit|checkbox|switch|radio)/.test(V)&&t.preventDefault(),!/select/.test(V))){var a=(t.originalEvent||t).changedTouches[0],n=e.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),n.tap=!0,M.mbscChange=!0,M.dispatchEvent(n),l.preventClick()}w&&setTimeout(function(){D.removeClass("mbsc-active"),v("onControlDeactivate",{target:D[0],domEvent:t})},100),w=!1,s=null}))}}),t||h()},C._init=function(){n.themes.form[f.theme]||(f.theme="mobiscroll"),y.hasClass("mbsc-form")||(y.on("touchstart",a).show(),r(window).on("resize orientationchange",h)),g&&y.removeClass(g),g="mbsc-form mbsc-no-touch mbsc-"+f.theme+(f.baseTheme?" mbsc-"+f.baseTheme:"")+(f.rtl?" mbsc-rtl":" mbsc-ltr"),y.addClass(g),C.refresh()},C._destroy=function(){var e;for(y.removeClass(g).off("touchstart",a),r(window).off("resize orientationchange",h),r(".mbsc-control",y).off(".mbsc-form").removeClass("mbsc-control-ev"),e=0;e<x.length;e++)x[e].destroy()},f=C.settings,v=C.trigger,C.init(i)},n.classes.Form.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:!0,stopProp:!0,lang:"en"}},n.themes.form.mobiscroll={},n.presetShort("form","Form"),n.classes.Stepper=function(s,a){function i(e){32==e.keyCode&&(e.preventDefault(),w||s.disabled||(g=r(this).addClass("mbsc-active"),f(e)))}function o(e){w&&(e.preventDefault(),b(!0))}function l(t){d(t,this)&&!s.disabled&&(g=r(this).addClass("mbsc-active").trigger("focus"),U&&U.trigger("onControlActivate",{target:g[0],domEvent:t}),f(t),"mousedown"===t.type&&r(e).on("mousemove",m).on("mouseup",u))}function u(t){w&&(t.preventDefault(),b(!0,t),"mouseup"===t.type&&r(e).off("mousemove",m).off("mouseup",u))}function m(e){w&&(S=c(e,"X"),k=c(e,"Y"),_=S-I,M=k-F,(Math.abs(_)>7||Math.abs(M)>7)&&b())}function h(){var e;s.disabled||(e=parseFloat(r(this).val()),p(isNaN(e)?E:e))}function p(e,s,a){$=E,s===t&&(s=!0),a===t&&(a=s),E=e!==t?Math.min(O,Math.max(Math.round(e/N)*N,P)):Math.min(O,Math.max(E+(g.hasClass("mbsc-stepper-minus")?-N:N),P)),T=!0,C.removeClass("mbsc-step-disabled"),s&&W.val(E),E==P?x.addClass("mbsc-step-disabled"):E==O&&y.addClass("mbsc-step-disabled"),E!==$&&a&&W.trigger("change")}function f(e){w||(w=!0,T=!1,I=c(e,"X"),F=c(e,"Y"),clearInterval(V),clearTimeout(V),V=setTimeout(function(){p(),V=setInterval(function(){p()},150)},300))}function b(e,t){clearInterval(V),clearTimeout(V),!T&&e&&p(),w=!1,T=!1,g.removeClass("mbsc-active"),U&&setTimeout(function(){U.trigger("onControlDeactivate",{target:g[0],domEvent:t})},100)}function v(e,s){var a=W.attr(e);return a===t||""===a?s:+a}var g,y,x,C,w,T,_,M,D,S,k,V,O,P,N,A,I,F,E,L,Y,H=this,W=r(s),$=E,U=a.form;n.classes.Base.call(this,s,a,!0),H.getVal=function(){var e=parseFloat(W.val());return e=isNaN(e)?E:e,Math.min(O,Math.max(Math.round(e/N)*N,P))},H.setVal=function(e,t,s){e=parseFloat(e),p(isNaN(e)?E:e,t,s)},H._init=function(e){L=W.parent().hasClass("mbsc-stepper"),Y=L?W.closest(".mbsc-stepper-cont"):W.parent(),A=H.settings,P=e.min===t?v("min",A.min):e.min,O=e.max===t?v("max",A.max):e.max,N=e.step===t?v("step",A.step):e.step,D=W.attr("data-val")||A.val,E=Math.min(O,Math.max(Math.round(+s.value/N)*N||0,P)),
L||Y.addClass("mbsc-stepper-cont mbsc-control-w").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(E==P?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(E==O?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span> </span></span>').prepend(W),x=r(".mbsc-stepper-minus",Y),y=r(".mbsc-stepper-plus",Y),L||("left"==D?(Y.addClass("mbsc-stepper-val-left"),W.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==D?(Y.addClass("mbsc-stepper-val-right"),y.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):x.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),W.val(E).attr("data-role","stepper").attr("min",P).attr("max",O).attr("step",N).on("change",h),C=r(".mbsc-stepper-control",Y).on("keydown",i).on("keyup",o).on("mousedown touchstart",l).on("touchmove",m).on("touchend touchcancel",u),W.addClass("mbsc-stepper-ready mbsc-control")},H._destroy=function(){W.removeClass("mbsc-control").off("change",h),C.off("keydown",i).off("keyup",o).off("mousedown touchstart",l).off("touchmove",m).off("touchend touchcancel",u)},H.init(a)},n.classes.Stepper.prototype={_class:"stepper",_defaults:{min:0,max:100,step:1}},n.presetShort("stepper","Stepper"),n.classes.Switch=function(e,t){var s,a,i,o=this;t=t||{},r.extend(t,{changeEvent:"click",min:0,max:1,step:1,live:!1,round:!1,handle:!1,highlight:!1}),n.classes.Slider.call(this,e,t,!0),o._readValue=function(){return e.checked?1:0},o._fillValue=function(e,t,a){s.prop("checked",!!e),a&&s.trigger("change")},o._onTap=function(e){o._setVal(e?0:1)},o.__onInit=function(){i=o.settings,s=r(e),a=s.parent(),a.find(".mbsc-switch-track").remove(),a.prepend(s),s.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+i.offText+'</span><span class="mbsc-switch-txt-on">'+i.onText+"</span></span></span></span></span>"),o._$track=a.find(".mbsc-progress-track")},o.getVal=function(){return e.checked},o.setVal=function(e,t,s){o._setVal(e?1:0,t,s)},o.init(t)},n.classes.Switch.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},n.presetShort("switch","Switch"),r(function(){var t="[mbsc-enhance],[mbsc-form]";r(t).each(function(){new n.classes.Form(this)}),r(e).on("mbsc-enhance",function(e,s){r(e.target).is(t)?new n.classes.Form(e.target,s):r(t,e.target).each(function(){new n.classes.Form(this,s)})}),r(e).on("mbsc-refresh",function(e){var s;r(e.target).is(t)?(s=n.instances[e.target.id])&&s.refresh():r(t,e.target).each(function(){(s=n.instances[this.id])&&s.refresh()})})})}(document);var ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ye=e.PropTypes,xe=ye.number,Ce=ye.func,we=ye.bool;i.react.mixins.StepperPropTypes={propTypes:{onInit:Ce,onChange:Ce,value:xe,disabled:we,min:xe,max:xe,step:xe,val:ye.oneOf(["left","right"])}},i.react.mixins.SwitchPropTypes={propTypes:{onInit:Ce,onChange:Ce,checked:we,disabled:we,value:we}},i.Form=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes],propTypes:{onInit:Ce},getDefaultProps:function(){return{renderForm:!0}},componentDidMount:function(){var e=i.$.extend({},this.state.options);this.instance=new i.classes.Form(t.findDOMNode(this),e)},componentDidUpdate:function(){!this.optimizeUpdate.updateOptions&&this.optimizeUpdate.updateChildren&&this.instance.refresh(!0)},checkFormWrapper:function(t){return 1==e.Children.count(t.props.children)&&"form"==t.props.children.type},render:function(){var t=this.props,s=t.action,a=t.method,n=t.noValidate,i=t.renderForm,r=t.name,o=t.target,l=t.autoComplete,c=t.onSubmit;return this.checkFormWrapper(this)||!i?this.props.children:e.createElement("form",{className:this.initialCssClass,action:s,name:r,target:o,method:a,autoComplete:l,noValidate:n,onSubmit:c},this.props.children)}}),i.Form.Label=e.createClass({propTypes:{valid:ye.bool},getInitialState:function(){return this.initialCssClass=(this.props.className||"")+(void 0===this.props.valid||this.props.valid?"":" mbsc-err"),{cssClasses:this.props.className||""}},render:function(){var t=this.props,s=(t.valid,t.className,n(t,["valid","className"]));return e.createElement("label",ge({className:this.initialCssClass},s),this.props.children)},componentWillReceiveProps:function(e){var t=(this.state.cssClasses||"")+(void 0===this.props.valid||this.props.valid?"":" mbsc-err"),s=(e.className||"")+(void 0===this.props.valid||e.valid?"":" mbsc-err");t==s&&e.valid==this.props.valid||i.react.updateCssClasses.call(this,t,s),this.state.cssClasses!==e.cssClasses&&this.setState({cssClasses:e.className})}}),i.Switch=i.react.createFormComponent({component:"Switch"},"checkbox",[i.react.mixins.SwitchPropTypes]),i.Stepper=i.react.createFormComponent({component:"Stepper"},void 0,[i.react.mixins.StepperPropTypes]),i.Progress=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes],propTypes:{"data-icon":ye.string,"data-icon-align":ye.oneOf(["left","right"]),val:ye.oneOf(["left","right"]),disabled:ye.bool,max:ye.number,value:ye.number},componentDidMount:function(){var e=i.$.extend({},this.state.options);this.instance=new i.classes.Progress(this.progressNode,e),void 0!==this.state.value&&this.instance.setVal(this.state.value,!0)},progressMounted:function(e){this.progressNode=e},render:function(){var t=this.props,s=(t.className,t.children),a=(t.value,n(t,["className","children","value"]));return e.createElement("div",{className:this.initialCssClass},s,e.createElement("progress",ge({ref:this.progressMounted},a)))}}),i.Slider=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UpdateOptimizeMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes],propTypes:{highlight:ye.bool,live:ye.bool,stepLabels:ye.arrayOf(ye.number),"data-icon":ye.string,tooltip:ye.bool,val:ye.oneOf(["left","right"]),disabled:ye.bool,max:ye.number,min:ye.number,step:ye.number,values:ye.number},componentDidMount:function(){var e=i.$.extend({},this.state.options);this.instance=new i.classes.Slider(this.firstInput,e),void 0!==this.state.value&&this.instance.setVal(this.state.value,!0);var t=this;i.$(this.label).on("change",function(){if(t.props.onChange){var e=t.instance.getVal();t.props.onChange(e)}})},firstInputMounted:function(e){this.firstInput=e},parentMounted:function(e){this.label=e},onValueChanged:function(){},render:function(){var t=this.props,s=t.children,a=t.value,i=(t.onChange,t.className,t.icon),r=t.live,o=(t.stepLabels,t.tooltip,n(t,["children","value","onChange","className","icon","live","stepLabels","tooltip"])),l=a||[];return r=r||this.props["data-live"]||!1,i=i||this.props["data-icon"],void 0===a||Array.isArray(a)||(l=[a]),e.createElement("label",{ref:this.parentMounted,className:this.initialCssClass},s,l.map(function(t,s){return 0===s?e.createElement("input",ge({ref:this.firstInputMounted,"data-icon":i,"data-live":r,key:s,type:"range"},o)):e.createElement("input",{key:s,type:"range","data-live":r,"data-index":s})},this))}}),function(e,t,s){var a=i,n=a.$,r=n.extend,o=a.util,l=o.datetime,c=l.adjustedDate,d=a.presets.scroller,u={labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events"};a.presetShort("eventcalendar"),d.eventcalendar=function(t){function s(t){if(t){if(V[t])return V[t];var s=n('<div style="background-color:'+t+';"></div>').appendTo("body"),a=e.getComputedStyle?getComputedStyle(s[0]):s[0].style,i=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),r=.299*i[0]+.587*i[1]+.114*i[2],o=r>130?"#000":"#fff";return s.remove(),V[t]=o,o}}function i(e){var t=P.labelsShort,s=Math.abs(e)/1e3,a=s/60,n=a/60,i=n/24,r=i/365;return s<45&&Math.round(s)+" "+t[5].toLowerCase()||a<45&&Math.round(a)+" "+t[4].toLowerCase()||n<24&&Math.round(n)+" "+t[3].toLowerCase()||i<30&&Math.round(i)+" "+t[2].toLowerCase()||i<365&&Math.round(i/30)+" "+t[1].toLowerCase()||Math.round(r)+" "+t[0].toLowerCase()}function o(e){return e.sort(function(e,t){var s=e.d||e.start,a=t.d||t.start;return(s.getTime?e.start&&e.end&&e.start.toDateString()!==e.end.toDateString()?1:s.getTime():0)-(a.getTime?t.start&&t.end&&t.start.toDateString()!==t.end.toDateString()?1:a.getTime():0)})}function m(e){var t,s=n(".mbsc-cal-c",g)[0].offsetHeight,a=e[0].offsetHeight,i=e[0].offsetWidth,r=e.offset().top-n(".mbsc-cal-c",g).offset().top,o=e.closest(".mbsc-cal-row").index()<2;t=y.addClass("mbsc-cal-events-t").css({top:o?r+a:"0",bottom:o?"0":s-r}).addClass("mbsc-cal-events-v").height(),y.css(o?"bottom":"top","auto").removeClass("mbsc-cal-events-t"),T.css("max-height",t),w.refresh(),w.scroll(0),o?y.addClass("mbsc-cal-events-b"):y.removeClass("mbsc-cal-events-b"),n(".mbsc-cal-events-arr",y).css("left",e.offset().left-y.offset().left+i/2)}function h(e,a){var r=C[e];if(r){var c,d,u,h,p,f,b='<ul class="mbsc-cal-event-list">';D=0,x=a,a.addClass(N).find(".mbsc-cal-day-i").addClass(I),a.hasClass(A)&&a.attr("data-hl","true").removeClass(A),o(r),n.each(r,function(e,t){h=t.d||t.start,p=t.start&&t.end&&t.start.toDateString()!==t.end.toDateString(),u=t.color,f=s(u),c="",d="",h.getTime&&(c=l.formatDate((p?"MM d yy ":"")+P.timeFormat,h)),t.end&&(d=l.formatDate((p?"MM d yy ":"")+P.timeFormat,t.end)),b+='<li role="button" aria-label="'+t.text+(c?", "+P.fromText+" "+c:"")+(d?", "+P.toText+" "+d:"")+'" class="mbsc-cal-event"><div class="mbsc-cal-event-color" style="'+(u?"background:"+u+";":"")+'"></div><div class="mbsc-cal-event-text">'+(h.getTime&&!p?'<div class="mbsc-cal-event-time">'+l.formatDate(P.timeFormat,h)+"</div>":"")+t.text+"</div>"+(t.start&&t.end?'<div class="mbsc-cal-event-dur">'+i(t.end-t.start)+"</div>":"")+"</li>"}),b+="</ul>",_.html(b),t.trigger("onEventBubbleShow",{target:x[0],eventList:y[0]}),m(x),t.tap(n(".mbsc-cal-event",_),function(s){w.scrolled||t.trigger("onEventSelect",{domEvent:s,event:r[n(this).index()],date:e})}),M=!0}}function p(){y&&y.removeClass("mbsc-cal-events-v"),x&&(x.removeClass(N).find(".mbsc-cal-day-i").removeClass(I),x.attr("data-hl")&&x.removeAttr("data-hl").addClass(A)),M=!1}function f(){p(),t.redraw()}function b(e){return c(e.getFullYear(),e.getMonth(),e.getDate())}var v,g,y,x,C,w,T,_,M,D,S,k,V={},O=r({},t.settings),P=r(t.settings,u,O),N="mbsc-cal-day-sel mbsc-cal-day-ev",A="mbsc-cal-day-hl",I=P.activeClass||"",F=P.showEventCount,E=0,L=r(!0,[],P.data);return S=d.calbase.call(this,t),v=r({},S),n.each(L,function(e,t){void 0===t._id&&(t._id=E++)}),t.onGenMonth=function(e,s){C=t.prepareObj(L,e,s)},t.getDayProps=function(e){var t,a=!!C[e]&&C[e],i=a?C[e].length+" "+(C[e].length>1?P.eventsText:P.eventText):0,r=a&&a[0]&&a[0].color,o=F&&i?s(r):"",l="",c="";if(a){for(t=0;t<a.length;t++)a[t].icon&&(l+='<span class="mbsc-ic mbsc-ic-'+a[t].icon+'"'+(a[t].text?"":a[t].color?' style="color:'+a[t].color+';"':"")+"></span>\n");for(c='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',t=0;t<a.length;t++)c+='<div class="mbsc-cal-day-m-c"'+(a[t].color?' style="background:'+a[t].color+';"':"")+"></div>";c+="</div></div>"}return{marked:a,selected:!1,cssClass:a?"mbsc-cal-day-marked":"",ariaLabel:F?i:"",markup:F&&i?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+n("<div>"+i+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+o+';text-shadow:none;"':"")+">"+l+i+"</div></div>":F&&l?'<div class="mbsc-cal-day-ic-c">'+l+"</div>":a?c:""}},t.addEvent=function(e){var t=[];return e=r(!0,[],n.isArray(e)?e:[e]),n.each(e,function(e,s){void 0===s._id&&(s._id=E++),L.push(s),t.push(s._id)}),f(),t},t.removeEvent=function(e){e=n.isArray(e)?e:[e],n.each(e,function(e,t){n.each(L,function(e,s){if(s._id===t)return L.splice(e,1),!1})}),f()},t.getEvents=function(e){var s;return e?(e.setHours(0,0,0,0),s=t.prepareObj(L,e.getFullYear(),e.getMonth()),s[e]?o(s[e]):[]):r(!0,[],L)},t.setEvents=function(e){var t=[];return L=r(!0,[],e),n.each(L,function(e,s){void 0===s._id&&(s._id=E++),t.push(s._id)}),f(),t},r(S,{highlight:!1,outerMonthChange:!1,headerText:!1,buttons:"inline"!==P.display?["close"]:P.buttons,onMarkupReady:function(e){v.onMarkupReady.call(this,e),g=n(e.target),F&&n(".mbsc-cal",g).addClass("mbsc-cal-ev"),g.addClass("mbsc-cal-em"),y=n('<div class="mbsc-cal-events '+(P.eventBubbleClass||"")+'"><div class="mbsc-cal-events-arr"></div><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div></div></div>').appendTo(n(".mbsc-cal-c",g)),T=n(".mbsc-cal-events-i",y),_=n(".mbsc-cal-events-sc",y),w=new a.classes.ScrollView(T[0]),M=!1,t.tap(T,function(){w.scrolled||p()})},onMonthChange:function(){p()},onSelectShow:function(){p()},onMonthLoaded:function(){k&&(h(k.d,n('.mbsc-cal-day-v[data-full="'+k.full+'"]:not(.mbsc-cal-day-diff)',g)),k=!1)},onDayChange:function(e){var s=e.date,a=b(s),i=n(e.target);return p(),i.hasClass("mbsc-cal-day-ev")||setTimeout(function(){t.changing?k={d:a,full:i.attr("data-full")}:h(a,i)},10),!1},onCalResize:function(){M&&m(x)},onHide:function(){v.onHide.call(t),w&&w.destroy()}}),S}}(window,document);var Te=e.PropTypes,_e=Te.number,Me=Te.bool,De=Te.object,Se=Te.string,ke=Te.func;i.Eventcalendar=e.createClass({mixins:[i.react.mixins.InitialOptionsMixin,i.react.mixins.UnmountMixin,i.react.mixins.CorePropTypes],propTypes:{anchor:Te.oneOfType([Se,De]),animate:Te.oneOfType([Me,Te.oneOf(["fade","flip","pop","swing","slidevertical","slidehorizontal","slidedown","slideup"])]),buttons:Te.array,calendarHeight:_e,calendarScroll:Te.oneOf(["horizontal","vertical"]),calendarWidth:_e,closeOnOverlayTap:Me,data:Te.arrayOf(Te.shape({start:De,end:De,d:De,text:Se,color:Se})),display:Te.oneOf(["center","inline","bubble","top","bottom"]),focusOnClose:Te.oneOfType([Me,Se,De]),focusTrap:Me,headerText:Te.oneOfType([Me,Se,ke]),invalid:Te.array,layout:Te.oneOf(["liquid","fixed"]),max:De,min:De,months:Te.oneOfType([_e,Te.oneOf(["auto"])]),showEventCount:Me,showOnFocus:Me,showOnTap:Me,showOuterDays:Me,valid:Te.array,weekCounter:Te.oneOf(["year","month"]),weekDays:Te.oneOf(["full","short","min"]),yearChange:Me,amText:Se,dateFormat:Se,dayNames:Te.arrayOf(Se),dayNamesMin:Te.arrayOf(Se),dayNamesShort:Te.arrayOf(Se),firstDay:_e,monthNames:Te.arrayOf(Se),monthNamesShort:Te.arrayOf(Se),newText:Se,pmText:Se,timeFormat:Se,onBeforeClose:ke,onBeforeShow:ke,onClose:ke,onDayChange:ke,onDestroy:ke,onEventSelect:ke,onInit:ke,onMarkupReady:ke,onMonthChange:ke,onMonthLoaded:ke,onMonthLoading:ke,onPosition:ke,onShow:ke},componentDidMount:function(){var e=i.$.extend({preset:"eventcalendar"},this.state.options,{data:this.state.data||[]});this.instance=new i.classes.Scroller(t.findDOMNode(this),e)},componentDidUpdate:function(){(this.optimizeUpdate.updateOptions||this.optimizeUpdate.updateData)&&this.instance.setEvents(this.state.data)},shouldComponentUpdate:function(e,t){var s=!i.react.deepCompare(t.options,this.state.options),a=!i.react.deepCompare(t.data,this.state.data);return this.optimizeUpdate={updateOptions:s,updateValue:!1,updateData:a},s||a},render:function(){return e.createElement("div",{className:this.initialCssClass})}}),function(){var e=i,t=e.$,s=e.presets.scroller,a={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},n={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};e.presetShort("distance"),s.distance=function(e){var i=t.extend({},a,e.settings);return t.extend(e.settings,i,{sign:!1,convert:function(e,t,s){return e*n[t]/n[s]}}),s.measurement.call(this,e)}}(),function(){var e=i,t=e.$,s=e.presets.scroller,a={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},n={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};e.presetShort("force"),s.force=function(e){var i=t.extend({},a,e.settings);return t.extend(e.settings,i,{sign:!1,convert:function(e,t,s){return e*n[t]/n[s]}}),s.measurement.call(this,e)}}(),function(){var e=i,t=e.$,s=e.presets.scroller,a={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},n={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};e.presetShort("mass"),s.mass=function(e){var i=t.extend({},a,e.settings);return t.extend(e.settings,i,{sign:!1,convert:function(e,t,s){return e*n[t]/n[s]}}),s.measurement.call(this,e)}}(),function(){var e=i,t=e.$,s=e.presets.scroller,a={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},n={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};e.presetShort("speed"),s.speed=function(e){var i=t.extend({},a,e.settings);return t.extend(e.settings,i,{sign:!1,convert:function(e,t,s){return e*n[t]/n[s]}}),s.measurement.call(this,e)}}(),function(){var e=i,t=e.$,s=e.presets.scroller,a={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},n={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};e.presetShort("temperature"),s.temperature=function(e){var i=t.extend({},a,e.settings);return t.extend(e.settings,i,{sign:!0,convert:function(e,t,s){return n[t+"2"+s](e)}}),s.measurement.call(this,e)}}();var Ve=e.PropTypes,Oe=Ve.number,Pe=Ve.bool,Ne=Ve.string,Ae=Ve.object;i.react.mixins.MeasurementGenericPropTypes={propTypes:{max:Oe,min:Oe,convert:Ve.func,defaultValue:Ne,invalid:Ve.array,scale:Oe,step:Oe,wholeText:Ne,fractionText:Ne,signText:Ne}},i.react.mixins.MeasurementCustomPropTypes={propTypes:{convert:Pe,defaultUnit:Ne,unitNames:Ae,units:Ve.arrayOf(Ne)}};var Ie=[i.react.mixins.ScrollerPropTypes,i.react.mixins.MeasurementGenericPropTypes],Fe=Ie.concat([i.react.mixins.MeasurementCustomPropTypes]);return i.Temperature=i.react.createComponent({preset:"temperature"},Fe),i.Mass=i.react.createComponent({preset:"mass"},Fe),i.Force=i.react.createComponent({preset:"force"},Fe),i.Speed=i.react.createComponent({preset:"speed"},Fe),i.Distance=i.react.createComponent({preset:"distance"},Fe),i.Measurement=i.react.createComponent({preset:"measurement"},Ie),i.customTheme("mobiscroll-dark","mobiscroll"),function(){var e,t=i,s=t.platform,a=t.themes,n=t.$;"android"==s.name?e=s.majorVersion>=5?"material":"android-holo":"ios"==s.name?e="ios":"wp"==s.name&&(e="wp"),i.setAutoTheme=function(){n.each(a.frame,function(s,a){if(a.baseTheme==e&&"android-holo-light"!=s&&"material-dark"!=s&&"wp-light"!=s&&"ios-dark"!=s)return t.autoTheme=s,!1;s==e&&(t.autoTheme=s)})},i.setAutoTheme()}(),i.customTheme("kindred","mobiscroll"),i.uid="16a2fff3",i});
